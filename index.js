(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}})();function makeMap(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend$1=Object.assign,remove=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$2.call(e,t),isArray$2=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate$1=e=>toTypeString(e)==="[object Date]",isFunction$2=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject$1(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$2=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},camelizeRE=/-\w/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,t=>t.slice(1).toUpperCase())),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},def=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$2(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],a=isString$1(o)?parseStringStyle(o):normalizeStyle(o);if(a)for(const n in a)t[n]=a[n]}return t}else if(isString$1(e)||isObject$1(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const o=s.split(propertyDelimiterRE);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$2(e))for(let s=0;s<e.length;s++){const o=normalizeClass(e[s]);o&&(t+=o+" ")}else if(isObject$1(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=looseEqual(e[o],t[o]);return s}function looseEqual(e,t){if(e===t)return!0;let s=isDate$1(e),o=isDate$1(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=isSymbol(e),o=isSymbol(t),s||o)return e===t;if(s=isArray$2(e),o=isArray$2(t),s||o)return s&&o?looseCompareArrays(e,t):!1;if(s=isObject$1(e),o=isObject$1(t),s||o){if(!s||!o)return!1;const a=Object.keys(e).length,n=Object.keys(t).length;if(a!==n)return!1;for(const r in e){const l=e.hasOwnProperty(r),i=t.hasOwnProperty(r);if(l&&!i||!l&&i||!looseEqual(e[r],t[r]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(s=>looseEqual(s,t))}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$2(e)||isObject$1(e)&&(e.toString===objectToString||!isFunction$2(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,a],n)=>(s[stringifySymbol(o,n)+" =>"]=a,s),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>stringifySymbol(s))}:isSymbol(t)?stringifySymbol(t):isObject$1(t)&&!isArray$2(t)&&!isPlainObject$2(t)?String(t):t,stringifySymbol=(e,t="")=>{var s;return isSymbol(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=s}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function effectScope(e){return new EffectScope(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(e)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,s=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,s=e.depsTail,o=s;for(;o;){const a=o.prevDep;o.version===-1?(o===s&&(s=a),removeSub(o),removeDep(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=a}e.deps=t,e.depsTail=s}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty(e))))return;e.flags|=2;const t=e.dep,s=activeSub,o=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const a=e.fn(e._value);(t.version===0||hasChanged(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{activeSub=s,shouldTrack=o,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:s,prevSub:o,nextSub:a}=e;if(o&&(o.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let n=s.computed.deps;n;n=n.nextDep)removeSub(n,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function removeDep(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=activeSub;activeSub=void 0;try{t()}finally{activeSub=s}}}let globalVersion=0;class Link{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==activeSub)s=this.activeLink=new Link(activeSub,this),activeSub.deps?(s.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=s,activeSub.depsTail=s):activeSub.deps=activeSub.depsTail=s,addSub(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=activeSub.depsTail,s.nextDep=void 0,activeSub.depsTail.nextDep=s,activeSub.depsTail=s,activeSub.deps===s&&(activeSub.deps=o)}return s}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)addSub(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,s){if(shouldTrack&&activeSub){let o=targetMap.get(e);o||targetMap.set(e,o=new Map);let a=o.get(s);a||(o.set(s,a=new Dep),a.map=o,a.key=s),a.track()}}function trigger(e,t,s,o,a,n){const r=targetMap.get(e);if(!r){globalVersion++;return}const l=i=>{i&&i.trigger()};if(startBatch(),t==="clear")r.forEach(l);else{const i=isArray$2(e),d=i&&isIntegerKey(s);if(i&&s==="length"){const c=Number(o);r.forEach((u,m)=>{(m==="length"||m===ARRAY_ITERATE_KEY||!isSymbol(m)&&m>=c)&&l(u)})}else switch((s!==void 0||r.has(void 0))&&l(r.get(s)),d&&l(r.get(ARRAY_ITERATE_KEY)),t){case"add":i?d&&l(r.get("length")):(l(r.get(ITERATE_KEY)),isMap(e)&&l(r.get(MAP_KEY_ITERATE_KEY)));break;case"delete":i||(l(r.get(ITERATE_KEY)),isMap(e)&&l(r.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&l(r.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(e,t){const s=targetMap.get(e);return s&&s.get(t)}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}function toWrapped(e,t){return isReadonly(e)?isReactive(e)?toReadonly(toReactive(t)):toReadonly(t):toReactive(t)}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator$1(this,Symbol.iterator,e=>toWrapped(this,e))},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray$2(t)?reactiveReadArray(t):t))},entries(){return iterator$1(this,"entries",e=>(e[1]=toWrapped(this,e[1]),e))},every(e,t){return apply(this,"every",e,t,void 0,arguments)},filter(e,t){return apply(this,"filter",e,t,s=>s.map(o=>toWrapped(this,o)),arguments)},find(e,t){return apply(this,"find",e,t,s=>toWrapped(this,s),arguments)},findIndex(e,t){return apply(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply(this,"findLast",e,t,s=>toWrapped(this,s),arguments)},findLastIndex(e,t){return apply(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator$1(this,"values",e=>toWrapped(this,e))}};function iterator$1(e,t,s){const o=shallowReadArray(e),a=o[t]();return o!==e&&!isShallow(e)&&(a._next=a.next,a.next=()=>{const n=a._next();return n.done||(n.value=s(n.value)),n}),a}const arrayProto=Array.prototype;function apply(e,t,s,o,a,n){const r=shallowReadArray(e),l=r!==e&&!isShallow(e),i=r[t];if(i!==arrayProto[t]){const u=i.apply(e,n);return l?toReactive(u):u}let d=s;r!==e&&(l?d=function(u,m){return s.call(this,toWrapped(e,u),m,e)}:s.length>2&&(d=function(u,m){return s.call(this,u,m,e)}));const c=i.call(r,d,o);return l&&a?a(c):c}function reduce(e,t,s,o){const a=shallowReadArray(e);let n=s;return a!==e&&(isShallow(e)?s.length>3&&(n=function(r,l,i){return s.call(this,r,l,i,e)}):n=function(r,l,i){return s.call(this,r,toWrapped(e,l),i,e)}),a[t](n,...o)}function searchProxy(e,t,s){const o=toRaw(e);track(o,"iterate",ARRAY_ITERATE_KEY);const a=o[t](...s);return(a===-1||a===!1)&&isProxy(s[0])?(s[0]=toRaw(s[0]),o[t](...s)):a}function noTracking(e,t,s=[]){pauseTracking(),startBatch();const o=toRaw(e)[t].apply(e,s);return endBatch(),resetTracking(),o}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty$1(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,n=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return n;if(s==="__v_raw")return o===(a?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=isArray$2(t);if(!a){let i;if(r&&(i=arrayInstrumentations[s]))return i;if(s==="hasOwnProperty")return hasOwnProperty$1}const l=Reflect.get(t,s,isRef(t)?t:o);if((isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(a||track(t,"get",s),n))return l;if(isRef(l)){const i=r&&isIntegerKey(s)?l:l.value;return a&&isObject$1(i)?readonly(i):i}return isObject$1(l)?a?readonly(l):reactive(l):l}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,s,o,a){let n=t[s];const r=isArray$2(t)&&isIntegerKey(s);if(!this._isShallow){const d=isReadonly(n);if(!isShallow(o)&&!isReadonly(o)&&(n=toRaw(n),o=toRaw(o)),!r&&isRef(n)&&!isRef(o))return d||(n.value=o),!0}const l=r?Number(s)<t.length:hasOwn(t,s),i=Reflect.set(t,s,o,isRef(t)?t:a);return t===toRaw(a)&&(l?hasChanged(o,n)&&trigger(t,"set",s,o):trigger(t,"add",s,o)),i}deleteProperty(t,s){const o=hasOwn(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&o&&trigger(t,"delete",s,void 0),a}has(t,s){const o=Reflect.has(t,s);return(!isSymbol(s)||!builtInSymbols.has(s))&&track(t,"has",s),o}ownKeys(t){return track(t,"iterate",isArray$2(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,s){return function(...o){const a=this.__v_raw,n=toRaw(a),r=isMap(n),l=e==="entries"||e===Symbol.iterator&&r,i=e==="keys"&&r,d=a[e](...o),c=s?toShallow:t?toReadonly:toReactive;return!t&&track(n,"iterate",i?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:u,done:m}=d.next();return m?{value:u,done:m}:{value:l?[c(u[0]),c(u[1])]:c(u),done:m}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const s={get(a){const n=this.__v_raw,r=toRaw(n),l=toRaw(a);e||(hasChanged(a,l)&&track(r,"get",a),track(r,"get",l));const{has:i}=getProto(r),d=t?toShallow:e?toReadonly:toReactive;if(i.call(r,a))return d(n.get(a));if(i.call(r,l))return d(n.get(l));n!==r&&n.get(a)},get size(){const a=this.__v_raw;return!e&&track(toRaw(a),"iterate",ITERATE_KEY),a.size},has(a){const n=this.__v_raw,r=toRaw(n),l=toRaw(a);return e||(hasChanged(a,l)&&track(r,"has",a),track(r,"has",l)),a===l?n.has(a):n.has(a)||n.has(l)},forEach(a,n){const r=this,l=r.__v_raw,i=toRaw(l),d=t?toShallow:e?toReadonly:toReactive;return!e&&track(i,"iterate",ITERATE_KEY),l.forEach((c,u)=>a.call(n,d(c),d(u),r))}};return extend$1(s,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(a){!t&&!isShallow(a)&&!isReadonly(a)&&(a=toRaw(a));const n=toRaw(this);return getProto(n).has.call(n,a)||(n.add(a),trigger(n,"add",a,a)),this},set(a,n){!t&&!isShallow(n)&&!isReadonly(n)&&(n=toRaw(n));const r=toRaw(this),{has:l,get:i}=getProto(r);let d=l.call(r,a);d||(a=toRaw(a),d=l.call(r,a));const c=i.call(r,a);return r.set(a,n),d?hasChanged(n,c)&&trigger(r,"set",a,n):trigger(r,"add",a,n),this},delete(a){const n=toRaw(this),{has:r,get:l}=getProto(n);let i=r.call(n,a);i||(a=toRaw(a),i=r.call(n,a)),l&&l.call(n,a);const d=n.delete(a);return i&&trigger(n,"delete",a,void 0),d},clear(){const a=toRaw(this),n=a.size!==0,r=a.clear();return n&&trigger(a,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=createIterableMethod(a,e,t)}),s}function createInstrumentationGetter(e,t){const s=createInstrumentations(e,t);return(o,a,n)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(hasOwn(s,a)&&a in o?s:o,a,n)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,s,o,a){if(!isObject$1(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=getTargetType(e);if(n===0)return e;const r=a.get(e);if(r)return r;const l=new Proxy(e,n===2?o:s);return a.set(e,l),l}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,s){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:toRaw(t),this._value=s?t:toReactive(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||isShallow(t)||isReadonly(t);t=o?t:toRaw(t),hasChanged(t,s)&&(this._rawValue=t,this._value=o?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,s)=>t==="__v_raw"?e:unref(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const a=e[t];return isRef(a)&&!isRef(s)?(a.value=s,!0):Reflect.set(e,t,s,o)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const s in e)t[s]=propertyToRef(e,s);return t}class ObjectRefImpl{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=toRaw(t);let a=!0,n=t;if(!isArray$2(t)||!isIntegerKey(String(s)))do a=!isProxy(n)||isShallow(n);while(a&&(n=n.__v_raw));this._shallow=a}get value(){let t=this._object[this._key];return this._shallow&&(t=unref(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&isRef(this._raw[this._key])){const s=this._object[this._key];if(isRef(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return getDepFromReactive(this._raw,this._key)}}class GetterRefImpl{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(e,t,s){return isRef(e)?e:isFunction$2(e)?new GetterRefImpl(e):isObject$1(e)&&arguments.length>1?propertyToRef(e,t,s):ref(e)}function propertyToRef(e,t,s){return new ObjectRefImpl(e,t,s)}class ComputedRefImpl{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,s=!1){let o,a;return isFunction$2(e)?o=e:(o=e.get,a=e.set),new ComputedRefImpl(o,a,s)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,s=activeWatcher){if(s){let o=cleanupMap.get(s);o||cleanupMap.set(s,o=[]),o.push(e)}}function watch$1(e,t,s=EMPTY_OBJ){const{immediate:o,deep:a,once:n,scheduler:r,augmentJob:l,call:i}=s,d=k=>a?k:isShallow(k)||a===!1||a===0?traverse(k,1):traverse(k);let c,u,m,f,g=!1,v=!1;if(isRef(e)?(u=()=>e.value,g=isShallow(e)):isReactive(e)?(u=()=>d(e),g=!0):isArray$2(e)?(v=!0,g=e.some(k=>isReactive(k)||isShallow(k)),u=()=>e.map(k=>{if(isRef(k))return k.value;if(isReactive(k))return d(k);if(isFunction$2(k))return i?i(k,2):k()})):isFunction$2(e)?t?u=i?()=>i(e,2):e:u=()=>{if(m){pauseTracking();try{m()}finally{resetTracking()}}const k=activeWatcher;activeWatcher=c;try{return i?i(e,3,[f]):e(f)}finally{activeWatcher=k}}:u=NOOP,t&&a){const k=u,B=a===!0?1/0:a;u=()=>traverse(k(),B)}const _=getCurrentScope(),b=()=>{c.stop(),_&&_.active&&remove(_.effects,c)};if(n&&t){const k=t;t=(...B)=>{k(...B),b()}}let S=v?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const V=k=>{if(!(!(c.flags&1)||!c.dirty&&!k))if(t){const B=c.run();if(a||g||(v?B.some((O,M)=>hasChanged(O,S[M])):hasChanged(B,S))){m&&m();const O=activeWatcher;activeWatcher=c;try{const M=[B,S===INITIAL_WATCHER_VALUE?void 0:v&&S[0]===INITIAL_WATCHER_VALUE?[]:S,f];S=B,i?i(t,3,M):t(...M)}finally{activeWatcher=O}}}else c.run()};return l&&l(V),c=new ReactiveEffect(u),c.scheduler=r?()=>r(V,!1):V,f=k=>onWatcherCleanup(k,!1,c),m=c.onStop=()=>{const k=cleanupMap.get(c);if(k){if(i)i(k,4);else for(const B of k)B();cleanupMap.delete(c)}},t?o?V(!0):S=c.run():r?r(V.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function traverse(e,t=1/0,s){if(t<=0||!isObject$1(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,isRef(e))traverse(e.value,t,s);else if(isArray$2(e))for(let o=0;o<e.length;o++)traverse(e[o],t,s);else if(isSet(e)||isMap(e))e.forEach(o=>{traverse(o,t,s)});else if(isPlainObject$2(e)){for(const o in e)traverse(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&traverse(e[o],t,s)}return e}const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const s=stack.length?stack[stack.length-1].component:null,o=s&&s.appContext.config.warnHandler,a=getComponentTrace();if(o)callWithErrorHandling(o,s,11,[e+t.map(n=>{var r,l;return(l=(r=n.toString)==null?void 0:r.call(n))!=null?l:JSON.stringify(n)}).join(""),s&&s.proxy,a.map(({vnode:n})=>`at <${formatComponentName(s,n.type)}>`).join(`
`),a]);else{const n=[`[Vue warn]: ${e}`,...t];a.length&&n.push(`
`,...formatTrace(a)),console.warn(...n)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function formatTrace(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...formatTraceEntry(s))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,a=` at <${formatComponentName(e.component,e.type,o)}`,n=">"+s;return e.props?[a,...formatProps(e.props),n]:[a+n]}function formatProps(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...formatProp(o,e[o]))}),s.length>3&&t.push(" ..."),t}function formatProp(e,t,s){return isString$1(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):isFunction$2(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),s?t:[`${e}=`,t])}function callWithErrorHandling(e,t,s,o){try{return o?e(...o):e()}catch(a){handleError(a,t,s)}}function callWithAsyncErrorHandling(e,t,s,o){if(isFunction$2(e)){const a=callWithErrorHandling(e,t,s,o);return a&&isPromise(a)&&a.catch(n=>{handleError(n,t,s)}),a}if(isArray$2(e)){const a=[];for(let n=0;n<e.length;n++)a.push(callWithAsyncErrorHandling(e[n],t,s,o));return a}}function handleError(e,t,s,o=!0){const a=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||EMPTY_OBJ;if(t){let l=t.parent;const i=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const c=l.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,d)===!1)return}l=l.parent}if(n){pauseTracking(),callWithErrorHandling(n,null,10,[e,i,d]),resetTracking();return}}logError(e,s,a,o,r)}function logError(e,t,s,o=!0,a=!1){if(a)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex$1(e){let t=flushIndex+1,s=queue.length;for(;t<s;){const o=t+s>>>1,a=queue[o],n=getId(a);n<e||n===e&&a.flags&2?t=o+1:s=o}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),s=queue[queue.length-1];!s||!(e.flags&2)&&t>=getId(s)?queue.push(e):queue.splice(findInsertionIndex$1(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,s=flushIndex+1){for(;s<queue.length;s++){const o=queue[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;queue.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((s,o)=>getId(s)-getId(o));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const s=activePostFlushCbs[postFlushIndex];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,s){if(!t||e._n)return e;const o=(...a)=>{o._d&&setBlockTracking(-1);const n=setCurrentRenderingInstance(t);let r;try{r=e(...a)}finally{setCurrentRenderingInstance(n),o._d&&setBlockTracking(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function withDirectives(e,t){if(currentRenderingInstance===null)return e;const s=getComponentPublicInstance(currentRenderingInstance),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[n,r,l,i=EMPTY_OBJ]=t[a];n&&(isFunction$2(n)&&(n={mounted:n,updated:n}),n.deep&&traverse(r),o.push({dir:n,instance:s,value:r,oldValue:void 0,arg:l,modifiers:i}))}return e}function invokeDirectiveHook(e,t,s,o){const a=e.dirs,n=t&&t.dirs;for(let r=0;r<a.length;r++){const l=a[r];n&&(l.oldValue=n[r].value);let i=l.dir[o];i&&(pauseTracking(),callWithAsyncErrorHandling(i,s,8,[e.el,l,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTeleportDeferred=e=>e&&(e.defer||e.defer===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,isTargetMathML=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,resolveTarget=(e,t)=>{const s=e&&e.to;return isString$1(s)?t?t(s):null:s},TeleportImpl={name:"Teleport",__isTeleport:!0,process(e,t,s,o,a,n,r,l,i,d){const{mc:c,pc:u,pbc:m,o:{insert:f,querySelector:g,createText:v,createComment:_}}=d,b=isTeleportDisabled(t.props);let{shapeFlag:S,children:V,dynamicChildren:k}=t;if(e==null){const B=t.el=v(""),O=t.anchor=v("");f(B,s,o),f(O,s,o);const M=(C,w)=>{S&16&&c(V,C,w,a,n,r,l,i)},R=()=>{const C=t.target=resolveTarget(t.props,g),w=prepareAnchor(C,t,v,f);C&&(r!=="svg"&&isTargetSVG(C)?r="svg":r!=="mathml"&&isTargetMathML(C)&&(r="mathml"),a&&a.isCE&&(a.ce._teleportTargets||(a.ce._teleportTargets=new Set)).add(C),b||(M(C,w),updateCssVars(t,!1)))};b&&(M(s,O),updateCssVars(t,!0)),isTeleportDeferred(t.props)?(t.el.__isMounted=!1,queuePostRenderEffect(()=>{R(),delete t.el.__isMounted},n)):R()}else{if(isTeleportDeferred(t.props)&&e.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(e,t,s,o,a,n,r,l,i,d)},n);return}t.el=e.el,t.targetStart=e.targetStart;const B=t.anchor=e.anchor,O=t.target=e.target,M=t.targetAnchor=e.targetAnchor,R=isTeleportDisabled(e.props),C=R?s:O,w=R?B:M;if(r==="svg"||isTargetSVG(O)?r="svg":(r==="mathml"||isTargetMathML(O))&&(r="mathml"),k?(m(e.dynamicChildren,k,C,a,n,r,l),traverseStaticChildren(e,t,!0)):i||u(e,t,C,w,a,n,r,l,!1),b)R?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):moveTeleport(t,s,B,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const L=t.target=resolveTarget(t.props,g);L&&moveTeleport(t,L,null,d,0)}else R&&moveTeleport(t,O,M,d,1);updateCssVars(t,b)}},remove(e,t,s,{um:o,o:{remove:a}},n){const{shapeFlag:r,children:l,anchor:i,targetStart:d,targetAnchor:c,target:u,props:m}=e;if(u&&(a(d),a(c)),n&&a(i),r&16){const f=n||!isTeleportDisabled(m);for(let g=0;g<l.length;g++){const v=l[g];o(v,t,s,f,!!v.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,s,{o:{insert:o},m:a},n=2){n===0&&o(e.targetAnchor,t,s);const{el:r,anchor:l,shapeFlag:i,children:d,props:c}=e,u=n===2;if(u&&o(r,t,s),(!u||isTeleportDisabled(c))&&i&16)for(let m=0;m<d.length;m++)a(d[m],t,s,2);u&&o(l,t,s)}function hydrateTeleport(e,t,s,o,a,n,{o:{nextSibling:r,parentNode:l,querySelector:i,insert:d,createText:c}},u){function m(v,_,b,S){_.anchor=u(r(v),_,l(v),s,o,a,n),_.targetStart=b,_.targetAnchor=S}const f=t.target=resolveTarget(t.props,i),g=isTeleportDisabled(t.props);if(f){const v=f._lpa||f.firstChild;if(t.shapeFlag&16)if(g)m(e,t,v,v&&r(v));else{t.anchor=r(e);let _=v;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")t.targetStart=_;else if(_.data==="teleport anchor"){t.targetAnchor=_,f._lpa=t.targetAnchor&&r(t.targetAnchor);break}}_=r(_)}t.targetAnchor||prepareAnchor(f,t,c,d),u(v&&r(v),t,f,s,o,a,n)}updateCssVars(t,g)}else g&&t.shapeFlag&16&&m(e,t,e,r(e));return t.anchor&&r(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e,t){const s=e.ctx;if(s&&s.ut){let o,a;for(t?(o=e.el,a=e.anchor):(o=e.targetStart,a=e.targetAnchor);o&&o!==a;)o.nodeType===1&&o.setAttribute("data-v-owner",s.uid),o=o.nextSibling;s.ut()}}function prepareAnchor(e,t,s,o){const a=t.targetStart=s(""),n=t.targetAnchor=s("");return a[TeleportEndKey]=n,e&&(o(a,e),o(n,e)),n}const leaveCbKey=Symbol("_leaveCb");function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function defineComponent(e,t){return isFunction$2(e)?extend$1({name:e.name},t,{setup:e}):e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const pendingSetRefMap=new WeakMap;function setRef(e,t,s,o,a=!1){if(isArray$2(e)){e.forEach((g,v)=>setRef(g,t&&(isArray$2(t)?t[v]:t),s,o,a));return}if(isAsyncWrapper(o)&&!a){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&setRef(e,t,s,o.component.subTree);return}const n=o.shapeFlag&4?getComponentPublicInstance(o.component):o.el,r=a?null:n,{i:l,r:i}=e,d=t&&t.r,c=l.refs===EMPTY_OBJ?l.refs={}:l.refs,u=l.setupState,m=toRaw(u),f=u===EMPTY_OBJ?NO:g=>hasOwn(m,g);if(d!=null&&d!==i){if(invalidatePendingSetRef(t),isString$1(d))c[d]=null,f(d)&&(u[d]=null);else if(isRef(d)){d.value=null;const g=t;g.k&&(c[g.k]=null)}}if(isFunction$2(i))callWithErrorHandling(i,l,12,[r,c]);else{const g=isString$1(i),v=isRef(i);if(g||v){const _=()=>{if(e.f){const b=g?f(i)?u[i]:c[i]:i.value;if(a)isArray$2(b)&&remove(b,n);else if(isArray$2(b))b.includes(n)||b.push(n);else if(g)c[i]=[n],f(i)&&(u[i]=c[i]);else{const S=[n];i.value=S,e.k&&(c[e.k]=S)}}else g?(c[i]=r,f(i)&&(u[i]=r)):v&&(i.value=r,e.k&&(c[e.k]=r))};if(r){const b=()=>{_(),pendingSetRefMap.delete(e)};b.id=-1,pendingSetRefMap.set(e,b),queuePostRenderEffect(b,s)}else invalidatePendingSetRef(e),_()}}}function invalidatePendingSetRef(e){const t=pendingSetRefMap.get(e);t&&(t.flags|=8,pendingSetRefMap.delete(e))}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,s=currentInstance){const o=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(injectHook(t,o,s),s){let a=s.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(o,t,s,a),a=a.parent}}function injectToKeepAliveRoot(e,t,s,o){const a=injectHook(t,e,o,!0);onUnmounted(()=>{remove(o[t],a)},s)}function injectHook(e,t,s=currentInstance,o=!1){if(s){const a=s[e]||(s[e]=[]),n=t.__weh||(t.__weh=(...r)=>{pauseTracking();const l=setCurrentInstance(s),i=callWithAsyncErrorHandling(t,s,e,r);return l(),resetTracking(),i});return o?a.unshift(n):a.push(n),n}}const createHook=e=>(t,s=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...o)=>t(...o),s)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(e,t,s=!0,o=!1){const a=currentRenderingInstance||currentInstance;if(a){const n=a.type;{const l=getComponentName(n,!1);if(l&&(l===t||l===camelize(t)||l===capitalize(camelize(t))))return n}const r=resolve(a[e]||n[e],t)||resolve(a.appContext[e],t);return!r&&o?n:r}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,s,o){let a;const n=s,r=isArray$2(e);if(r||isString$1(e)){const l=r&&isReactive(e);let i=!1,d=!1;l&&(i=!isShallow(e),d=isReadonly(e),e=shallowReadArray(e)),a=new Array(e.length);for(let c=0,u=e.length;c<u;c++)a[c]=t(i?d?toReadonly(toReactive(e[c])):toReactive(e[c]):e[c],c,void 0,n)}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,n)}else if(isObject$1(e))if(e[Symbol.iterator])a=Array.from(e,(l,i)=>t(l,i,void 0,n));else{const l=Object.keys(e);a=new Array(l.length);for(let i=0,d=l.length;i<d;i++){const c=l[i];a[i]=t(e[c],c,i,n)}}else a=[];return a}function renderSlot(e,t,s={},o,a){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce){const d=Object.keys(s).length>0;return t!=="default"&&(s.name=t),openBlock(),createBlock(Fragment,null,[createVNode("slot",s,o)],d?-2:64)}let n=e[t];n&&n._c&&(n._d=!1),openBlock();const r=n&&ensureValidVNode(n(s)),l=s.key||r&&r.key,i=createBlock(Fragment,{key:(l&&!isSymbol(l)?l:`_${t}`)+(!r&&o?"_fb":"")},r||[],r&&e._===1?64:-2);return!a&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),n&&n._c&&(n._d=!0),i}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:a,props:n,accessCache:r,type:l,appContext:i}=e;if(t[0]!=="$"){const m=r[t];if(m!==void 0)switch(m){case 1:return o[t];case 2:return a[t];case 4:return s[t];case 3:return n[t]}else{if(hasSetupBinding(o,t))return r[t]=1,o[t];if(a!==EMPTY_OBJ&&hasOwn(a,t))return r[t]=2,a[t];if(hasOwn(n,t))return r[t]=3,n[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return r[t]=4,s[t];shouldCacheAccess&&(r[t]=0)}}const d=publicPropertiesMap[t];let c,u;if(d)return t==="$attrs"&&track(e.attrs,"get",""),d(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(s!==EMPTY_OBJ&&hasOwn(s,t))return r[t]=4,s[t];if(u=i.config.globalProperties,hasOwn(u,t))return u[t]},set({_:e},t,s){const{data:o,setupState:a,ctx:n}=e;return hasSetupBinding(a,t)?(a[t]=s,!0):o!==EMPTY_OBJ&&hasOwn(o,t)?(o[t]=s,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:a,props:n,type:r}},l){let i;return!!(s[l]||e!==EMPTY_OBJ&&l[0]!=="$"&&hasOwn(e,l)||hasSetupBinding(t,l)||hasOwn(n,l)||hasOwn(o,l)||hasOwn(publicPropertiesMap,l)||hasOwn(a.config.globalProperties,l)||(i=r.__cssModules)&&i[l])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:hasOwn(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function normalizePropsOrEmits(e){return isArray$2(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),s=e.proxy,o=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:a,computed:n,methods:r,watch:l,provide:i,inject:d,created:c,beforeMount:u,mounted:m,beforeUpdate:f,updated:g,activated:v,deactivated:_,beforeDestroy:b,beforeUnmount:S,destroyed:V,unmounted:k,render:B,renderTracked:O,renderTriggered:M,errorCaptured:R,serverPrefetch:C,expose:w,inheritAttrs:L,components:y,directives:N,filters:E}=t;if(d&&resolveInjections(d,o,null),r)for(const U in r){const P=r[U];isFunction$2(P)&&(o[U]=P.bind(s))}if(a){const U=a.call(s,s);isObject$1(U)&&(e.data=reactive(U))}if(shouldCacheAccess=!0,n)for(const U in n){const P=n[U],Z=isFunction$2(P)?P.bind(s,s):isFunction$2(P.get)?P.get.bind(s,s):NOOP,ce=!isFunction$2(P)&&isFunction$2(P.set)?P.set.bind(s):NOOP,ue=computed({get:Z,set:ce});Object.defineProperty(o,U,{enumerable:!0,configurable:!0,get:()=>ue.value,set:G=>ue.value=G})}if(l)for(const U in l)createWatcher(l[U],o,s,U);if(i){const U=isFunction$2(i)?i.call(s):i;Reflect.ownKeys(U).forEach(P=>{provide(P,U[P])})}c&&callHook(c,e,"c");function H(U,P){isArray$2(P)?P.forEach(Z=>U(Z.bind(s))):P&&U(P.bind(s))}if(H(onBeforeMount,u),H(onMounted,m),H(onBeforeUpdate,f),H(onUpdated,g),H(onActivated,v),H(onDeactivated,_),H(onErrorCaptured,R),H(onRenderTracked,O),H(onRenderTriggered,M),H(onBeforeUnmount,S),H(onUnmounted,k),H(onServerPrefetch,C),isArray$2(w))if(w.length){const U=e.exposed||(e.exposed={});w.forEach(P=>{Object.defineProperty(U,P,{get:()=>s[P],set:Z=>s[P]=Z,enumerable:!0})})}else e.exposed||(e.exposed={});B&&e.render===NOOP&&(e.render=B),L!=null&&(e.inheritAttrs=L),y&&(e.components=y),N&&(e.directives=N),C&&markAsyncBoundary(e)}function resolveInjections(e,t,s=NOOP){isArray$2(e)&&(e=normalizeInject(e));for(const o in e){const a=e[o];let n;isObject$1(a)?"default"in a?n=inject(a.from||o,a.default,!0):n=inject(a.from||o):n=inject(a),isRef(n)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>n.value,set:r=>n.value=r}):t[o]=n}}function callHook(e,t,s){callWithAsyncErrorHandling(isArray$2(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function createWatcher(e,t,s,o){let a=o.includes(".")?createPathGetter(s,o):()=>s[o];if(isString$1(e)){const n=t[e];isFunction$2(n)&&watch(a,n)}else if(isFunction$2(e))watch(a,e.bind(s));else if(isObject$1(e))if(isArray$2(e))e.forEach(n=>createWatcher(n,t,s,o));else{const n=isFunction$2(e.handler)?e.handler.bind(s):t[e.handler];isFunction$2(n)&&watch(a,n,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:a,optionsCache:n,config:{optionMergeStrategies:r}}=e.appContext,l=n.get(t);let i;return l?i=l:!a.length&&!s&&!o?i=t:(i={},a.length&&a.forEach(d=>mergeOptions$1(i,d,r,!0)),mergeOptions$1(i,t,r)),isObject$1(t)&&n.set(t,i),i}function mergeOptions$1(e,t,s,o=!1){const{mixins:a,extends:n}=t;n&&mergeOptions$1(e,n,s,!0),a&&a.forEach(r=>mergeOptions$1(e,r,s,!0));for(const r in t)if(!(o&&r==="expose")){const l=internalOptionMergeStrats[r]||s&&s[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$1(isFunction$2(e)?e.call(this,this):e,isFunction$2(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$2(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$1(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$2(e)&&isArray$2(t)?[...new Set([...e,...t])]:extend$1(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const s=extend$1(Object.create(null),e);for(const o in t)s[o]=mergeAsArray(e[o],t[o]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(o,a=null){isFunction$2(o)||(o=extend$1({},o)),a!=null&&!isObject$1(a)&&(a=null);const n=createAppContext(),r=new WeakSet,l=[];let i=!1;const d=n.app={_uid:uid$1++,_component:o,_props:a,_container:null,_context:n,_instance:null,version,get config(){return n.config},set config(c){},use(c,...u){return r.has(c)||(c&&isFunction$2(c.install)?(r.add(c),c.install(d,...u)):isFunction$2(c)&&(r.add(c),c(d,...u))),d},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),d},component(c,u){return u?(n.components[c]=u,d):n.components[c]},directive(c,u){return u?(n.directives[c]=u,d):n.directives[c]},mount(c,u,m){if(!i){const f=d._ceVNode||createVNode(o,a);return f.appContext=n,m===!0?m="svg":m===!1&&(m=void 0),e(f,c,m),i=!0,d._container=c,c.__vue_app__=d,getComponentPublicInstance(f.component)}},onUnmount(c){l.push(c)},unmount(){i&&(callWithAsyncErrorHandling(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(c,u){return n.provides[c]=u,d},runWithContext(c){const u=currentApp;currentApp=d;try{return c()}finally{currentApp=u}}};return d}}let currentApp=null;function provide(e,t){if(currentInstance){let s=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===s&&(s=currentInstance.provides=Object.create(o)),s[e]=t}}function inject(e,t,s=!1){const o=getCurrentInstance();if(o||currentApp){let a=currentApp?currentApp._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&isFunction$2(t)?t.call(o&&o.proxy):t}}function hasInjectionContext(){return!!(getCurrentInstance()||currentApp)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(e,t){return doWatch(e,null,t)}function watch(e,t,s){return doWatch(e,t,s)}function doWatch(e,t,s=EMPTY_OBJ){const{immediate:o,deep:a,flush:n,once:r}=s,l=extend$1({},s),i=t&&o||!t&&n!=="post";let d;if(isInSSRComponentSetup){if(n==="sync"){const f=useSSRContext();d=f.__watcherHandles||(f.__watcherHandles=[])}else if(!i){const f=()=>{};return f.stop=NOOP,f.resume=NOOP,f.pause=NOOP,f}}const c=currentInstance;l.call=(f,g,v)=>callWithAsyncErrorHandling(f,c,g,v);let u=!1;n==="post"?l.scheduler=f=>{queuePostRenderEffect(f,c&&c.suspense)}:n!=="sync"&&(u=!0,l.scheduler=(f,g)=>{g?f():queueJob(f)}),l.augmentJob=f=>{t&&(f.flags|=4),u&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const m=watch$1(e,t,l);return isInSSRComponentSetup&&(d?d.push(m):i&&m()),m}function instanceWatch(e,t,s){const o=this.proxy,a=isString$1(e)?e.includes(".")?createPathGetter(o,e):()=>o[e]:e.bind(o,o);let n;isFunction$2(t)?n=t:(n=t.handler,s=t);const r=setCurrentInstance(this),l=doWatch(a,n.bind(o),s);return r(),l}function createPathGetter(e,t){const s=t.split(".");return()=>{let o=e;for(let a=0;a<s.length&&o;a++)o=o[s[a]];return o}}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||EMPTY_OBJ;let a=s;const n=t.startsWith("update:"),r=n&&getModelModifiers(o,t.slice(7));r&&(r.trim&&(a=s.map(c=>isString$1(c)?c.trim():c)),r.number&&(a=s.map(looseToNumber)));let l,i=o[l=toHandlerKey(t)]||o[l=toHandlerKey(camelize(t))];!i&&n&&(i=o[l=toHandlerKey(hyphenate(t))]),i&&callWithAsyncErrorHandling(i,e,6,a);const d=o[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,callWithAsyncErrorHandling(d,e,6,a)}}const mixinEmitsCache=new WeakMap;function normalizeEmitsOptions(e,t,s=!1){const o=s?mixinEmitsCache:t.emitsCache,a=o.get(e);if(a!==void 0)return a;const n=e.emits;let r={},l=!1;if(!isFunction$2(e)){const i=d=>{const c=normalizeEmitsOptions(d,t,!0);c&&(l=!0,extend$1(r,c))};!s&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!n&&!l?(isObject$1(e)&&o.set(e,null),null):(isArray$2(n)?n.forEach(i=>r[i]=null):extend$1(r,n),isObject$1(e)&&o.set(e,r),r)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:s,proxy:o,withProxy:a,propsOptions:[n],slots:r,attrs:l,emit:i,render:d,renderCache:c,props:u,data:m,setupState:f,ctx:g,inheritAttrs:v}=e,_=setCurrentRenderingInstance(e);let b,S;try{if(s.shapeFlag&4){const k=a||o,B=k;b=normalizeVNode(d.call(B,k,c,u,f,m,g)),S=l}else{const k=t;b=normalizeVNode(k.length>1?k(u,{attrs:l,slots:r,emit:i}):k(u,null)),S=t.props?l:getFunctionalFallthrough(l)}}catch(k){blockStack.length=0,handleError(k,e,1),b=createVNode(Comment)}let V=b;if(S&&v!==!1){const k=Object.keys(S),{shapeFlag:B}=V;k.length&&B&7&&(n&&k.some(isModelListener)&&(S=filterModelListeners(S,n)),V=cloneVNode(V,S,!1,!0))}return s.dirs&&(V=cloneVNode(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(s.dirs):s.dirs),s.transition&&setTransitionHooks(V,s.transition),b=V,setCurrentRenderingInstance(_),b}const getFunctionalFallthrough=e=>{let t;for(const s in e)(s==="class"||s==="style"||isOn(s))&&((t||(t={}))[s]=e[s]);return t},filterModelListeners=(e,t)=>{const s={};for(const o in e)(!isModelListener(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function shouldUpdateComponent(e,t,s){const{props:o,children:a,component:n}=e,{props:r,children:l,patchFlag:i}=t,d=n.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&i>=0){if(i&1024)return!0;if(i&16)return o?hasPropsChanged(o,r,d):!!r;if(i&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const m=c[u];if(r[m]!==o[m]&&!isEmitListener(d,m))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:o===r?!1:o?r?hasPropsChanged(o,r,d):!0:!!r;return!1}function hasPropsChanged(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const n=o[a];if(t[n]!==e[n]&&!isEmitListener(s,n))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,s,o=!1){const a={},n=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,a,n);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);s?e.props=o?a:shallowReactive(a):e.type.props?e.props=a:e.props=n,e.attrs=n}function updateProps(e,t,s,o){const{props:a,attrs:n,vnode:{patchFlag:r}}=e,l=toRaw(a),[i]=e.propsOptions;let d=!1;if((o||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let m=c[u];if(isEmitListener(e.emitsOptions,m))continue;const f=t[m];if(i)if(hasOwn(n,m))f!==n[m]&&(n[m]=f,d=!0);else{const g=camelize(m);a[g]=resolvePropValue(i,l,g,f,e,!1)}else f!==n[m]&&(n[m]=f,d=!0)}}}else{setFullProps(e,t,a,n)&&(d=!0);let c;for(const u in l)(!t||!hasOwn(t,u)&&((c=hyphenate(u))===u||!hasOwn(t,c)))&&(i?s&&(s[u]!==void 0||s[c]!==void 0)&&(a[u]=resolvePropValue(i,l,u,void 0,e,!0)):delete a[u]);if(n!==l)for(const u in n)(!t||!hasOwn(t,u))&&(delete n[u],d=!0)}d&&trigger(e.attrs,"set","")}function setFullProps(e,t,s,o){const[a,n]=e.propsOptions;let r=!1,l;if(t)for(let i in t){if(isReservedProp(i))continue;const d=t[i];let c;a&&hasOwn(a,c=camelize(i))?!n||!n.includes(c)?s[c]=d:(l||(l={}))[c]=d:isEmitListener(e.emitsOptions,i)||(!(i in o)||d!==o[i])&&(o[i]=d,r=!0)}if(n){const i=toRaw(s),d=l||EMPTY_OBJ;for(let c=0;c<n.length;c++){const u=n[c];s[u]=resolvePropValue(a,i,u,d[u],e,!hasOwn(d,u))}}return r}function resolvePropValue(e,t,s,o,a,n){const r=e[s];if(r!=null){const l=hasOwn(r,"default");if(l&&o===void 0){const i=r.default;if(r.type!==Function&&!r.skipFactory&&isFunction$2(i)){const{propsDefaults:d}=a;if(s in d)o=d[s];else{const c=setCurrentInstance(a);o=d[s]=i.call(null,t),c()}}else o=i;a.ce&&a.ce._setProp(s,o)}r[0]&&(n&&!l?o=!1:r[1]&&(o===""||o===hyphenate(s))&&(o=!0))}return o}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,s=!1){const o=s?mixinPropsCache:t.propsCache,a=o.get(e);if(a)return a;const n=e.props,r={},l=[];let i=!1;if(!isFunction$2(e)){const c=u=>{i=!0;const[m,f]=normalizePropsOptions(u,t,!0);extend$1(r,m),f&&l.push(...f)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!n&&!i)return isObject$1(e)&&o.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(n))for(let c=0;c<n.length;c++){const u=camelize(n[c]);validatePropName(u)&&(r[u]=EMPTY_OBJ)}else if(n)for(const c in n){const u=camelize(c);if(validatePropName(u)){const m=n[c],f=r[u]=isArray$2(m)||isFunction$2(m)?{type:m}:extend$1({},m),g=f.type;let v=!1,_=!0;if(isArray$2(g))for(let b=0;b<g.length;++b){const S=g[b],V=isFunction$2(S)&&S.name;if(V==="Boolean"){v=!0;break}else V==="String"&&(_=!1)}else v=isFunction$2(g)&&g.name==="Boolean";f[0]=v,f[1]=_,(v||hasOwn(f,"default"))&&l.push(u)}}const d=[r,l];return isObject$1(e)&&o.set(e,d),d}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e==="_"||e==="_ctx"||e==="$stable",normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,s)=>{if(t._n)return t;const o=withCtx((...a)=>normalizeSlotValue(t(...a)),s);return o._c=!1,o},normalizeObjectSlots=(e,t,s)=>{const o=e._ctx;for(const a in e){if(isInternalKey(a))continue;const n=e[a];if(isFunction$2(n))t[a]=normalizeSlot$1(a,n,o);else if(n!=null){const r=normalizeSlotValue(n);t[a]=()=>r}}},normalizeVNodeSlots=(e,t)=>{const s=normalizeSlotValue(t);e.slots.default=()=>s},assignSlots=(e,t,s)=>{for(const o in t)(s||!isInternalKey(o))&&(e[o]=t[o])},initSlots=(e,t,s)=>{const o=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const a=t._;a?(assignSlots(o,t,s),s&&def(o,"_",a,!0)):normalizeObjectSlots(t,o)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,s)=>{const{vnode:o,slots:a}=e;let n=!0,r=EMPTY_OBJ;if(o.shapeFlag&32){const l=t._;l?s&&l===1?n=!1:assignSlots(a,t,s):(n=!t.$stable,normalizeObjectSlots(t,a)),r=t}else t&&(normalizeVNodeSlots(e,t),r={default:1});if(n)for(const l in a)!isInternalKey(l)&&r[l]==null&&delete a[l]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const s=getGlobalThis();s.__VUE__=!0;const{insert:o,remove:a,patchProp:n,createElement:r,createText:l,createComment:i,setText:d,setElementText:c,parentNode:u,nextSibling:m,setScopeId:f=NOOP,insertStaticContent:g}=e,v=(A,I,F,W=null,Y=null,q=null,te=void 0,K=null,T=!!I.dynamicChildren)=>{if(A===I)return;A&&!isSameVNodeType(A,I)&&(W=D(A),G(A,Y,q,!0),A=null),I.patchFlag===-2&&(T=!1,I.dynamicChildren=null);const{type:x,ref:j,shapeFlag:X}=I;switch(x){case Text:_(A,I,F,W);break;case Comment:b(A,I,F,W);break;case Static:A==null&&S(I,F,W,te);break;case Fragment:y(A,I,F,W,Y,q,te,K,T);break;default:X&1?B(A,I,F,W,Y,q,te,K,T):X&6?N(A,I,F,W,Y,q,te,K,T):(X&64||X&128)&&x.process(A,I,F,W,Y,q,te,K,T,se)}j!=null&&Y?setRef(j,A&&A.ref,q,I||A,!I):j==null&&A&&A.ref!=null&&setRef(A.ref,null,q,A,!0)},_=(A,I,F,W)=>{if(A==null)o(I.el=l(I.children),F,W);else{const Y=I.el=A.el;I.children!==A.children&&d(Y,I.children)}},b=(A,I,F,W)=>{A==null?o(I.el=i(I.children||""),F,W):I.el=A.el},S=(A,I,F,W)=>{[A.el,A.anchor]=g(A.children,I,F,W,A.el,A.anchor)},V=({el:A,anchor:I},F,W)=>{let Y;for(;A&&A!==I;)Y=m(A),o(A,F,W),A=Y;o(I,F,W)},k=({el:A,anchor:I})=>{let F;for(;A&&A!==I;)F=m(A),a(A),A=F;a(I)},B=(A,I,F,W,Y,q,te,K,T)=>{if(I.type==="svg"?te="svg":I.type==="math"&&(te="mathml"),A==null)O(I,F,W,Y,q,te,K,T);else{const x=A.el&&A.el._isVueCE?A.el:null;try{x&&x._beginPatch(),C(A,I,Y,q,te,K,T)}finally{x&&x._endPatch()}}},O=(A,I,F,W,Y,q,te,K)=>{let T,x;const{props:j,shapeFlag:X,transition:ne,dirs:re}=A;if(T=A.el=r(A.type,q,j&&j.is,j),X&8?c(T,A.children):X&16&&R(A.children,T,null,W,Y,resolveChildrenNamespace(A,q),te,K),re&&invokeDirectiveHook(A,null,W,"created"),M(T,A,A.scopeId,te,W),j){for(const _e in j)_e!=="value"&&!isReservedProp(_e)&&n(T,_e,null,j[_e],q,W);"value"in j&&n(T,"value",null,j.value,q),(x=j.onVnodeBeforeMount)&&invokeVNodeHook(x,W,A)}re&&invokeDirectiveHook(A,null,W,"beforeMount");const pe=needTransition(Y,ne);pe&&ne.beforeEnter(T),o(T,I,F),((x=j&&j.onVnodeMounted)||pe||re)&&queuePostRenderEffect(()=>{x&&invokeVNodeHook(x,W,A),pe&&ne.enter(T),re&&invokeDirectiveHook(A,null,W,"mounted")},Y)},M=(A,I,F,W,Y)=>{if(F&&f(A,F),W)for(let q=0;q<W.length;q++)f(A,W[q]);if(Y){let q=Y.subTree;if(I===q||isSuspense(q.type)&&(q.ssContent===I||q.ssFallback===I)){const te=Y.vnode;M(A,te,te.scopeId,te.slotScopeIds,Y.parent)}}},R=(A,I,F,W,Y,q,te,K,T=0)=>{for(let x=T;x<A.length;x++){const j=A[x]=K?cloneIfMounted(A[x]):normalizeVNode(A[x]);v(null,j,I,F,W,Y,q,te,K)}},C=(A,I,F,W,Y,q,te)=>{const K=I.el=A.el;let{patchFlag:T,dynamicChildren:x,dirs:j}=I;T|=A.patchFlag&16;const X=A.props||EMPTY_OBJ,ne=I.props||EMPTY_OBJ;let re;if(F&&toggleRecurse(F,!1),(re=ne.onVnodeBeforeUpdate)&&invokeVNodeHook(re,F,I,A),j&&invokeDirectiveHook(I,A,F,"beforeUpdate"),F&&toggleRecurse(F,!0),(X.innerHTML&&ne.innerHTML==null||X.textContent&&ne.textContent==null)&&c(K,""),x?w(A.dynamicChildren,x,K,F,W,resolveChildrenNamespace(I,Y),q):te||P(A,I,K,null,F,W,resolveChildrenNamespace(I,Y),q,!1),T>0){if(T&16)L(K,X,ne,F,Y);else if(T&2&&X.class!==ne.class&&n(K,"class",null,ne.class,Y),T&4&&n(K,"style",X.style,ne.style,Y),T&8){const pe=I.dynamicProps;for(let _e=0;_e<pe.length;_e++){const me=pe[_e],ie=X[me],le=ne[me];(le!==ie||me==="value")&&n(K,me,ie,le,Y,F)}}T&1&&A.children!==I.children&&c(K,I.children)}else!te&&x==null&&L(K,X,ne,F,Y);((re=ne.onVnodeUpdated)||j)&&queuePostRenderEffect(()=>{re&&invokeVNodeHook(re,F,I,A),j&&invokeDirectiveHook(I,A,F,"updated")},W)},w=(A,I,F,W,Y,q,te)=>{for(let K=0;K<I.length;K++){const T=A[K],x=I[K],j=T.el&&(T.type===Fragment||!isSameVNodeType(T,x)||T.shapeFlag&198)?u(T.el):F;v(T,x,j,null,W,Y,q,te,!0)}},L=(A,I,F,W,Y)=>{if(I!==F){if(I!==EMPTY_OBJ)for(const q in I)!isReservedProp(q)&&!(q in F)&&n(A,q,I[q],null,Y,W);for(const q in F){if(isReservedProp(q))continue;const te=F[q],K=I[q];te!==K&&q!=="value"&&n(A,q,K,te,Y,W)}"value"in F&&n(A,"value",I.value,F.value,Y)}},y=(A,I,F,W,Y,q,te,K,T)=>{const x=I.el=A?A.el:l(""),j=I.anchor=A?A.anchor:l("");let{patchFlag:X,dynamicChildren:ne,slotScopeIds:re}=I;re&&(K=K?K.concat(re):re),A==null?(o(x,F,W),o(j,F,W),R(I.children||[],F,j,Y,q,te,K,T)):X>0&&X&64&&ne&&A.dynamicChildren?(w(A.dynamicChildren,ne,F,Y,q,te,K),(I.key!=null||Y&&I===Y.subTree)&&traverseStaticChildren(A,I,!0)):P(A,I,F,j,Y,q,te,K,T)},N=(A,I,F,W,Y,q,te,K,T)=>{I.slotScopeIds=K,A==null?I.shapeFlag&512?Y.ctx.activate(I,F,W,te,T):E(I,F,W,Y,q,te,T):$(A,I,T)},E=(A,I,F,W,Y,q,te)=>{const K=A.component=createComponentInstance(A,W,Y);if(isKeepAlive(A)&&(K.ctx.renderer=se),setupComponent(K,!1,te),K.asyncDep){if(Y&&Y.registerDep(K,H,te),!A.el){const T=K.subTree=createVNode(Comment);b(null,T,I,F),A.placeholder=T.el}}else H(K,A,I,F,Y,q,te)},$=(A,I,F)=>{const W=I.component=A.component;if(shouldUpdateComponent(A,I,F))if(W.asyncDep&&!W.asyncResolved){U(W,I,F);return}else W.next=I,W.update();else I.el=A.el,W.vnode=I},H=(A,I,F,W,Y,q,te)=>{const K=()=>{if(A.isMounted){let{next:X,bu:ne,u:re,parent:pe,vnode:_e}=A;{const he=locateNonHydratedAsyncRoot(A);if(he){X&&(X.el=_e.el,U(A,X,te)),he.asyncDep.then(()=>{A.isUnmounted||K()});return}}let me=X,ie;toggleRecurse(A,!1),X?(X.el=_e.el,U(A,X,te)):X=_e,ne&&invokeArrayFns(ne),(ie=X.props&&X.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ie,pe,X,_e),toggleRecurse(A,!0);const le=renderComponentRoot(A),fe=A.subTree;A.subTree=le,v(fe,le,u(fe.el),D(fe),A,Y,q),X.el=le.el,me===null&&updateHOCHostEl(A,le.el),re&&queuePostRenderEffect(re,Y),(ie=X.props&&X.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ie,pe,X,_e),Y)}else{let X;const{el:ne,props:re}=I,{bm:pe,m:_e,parent:me,root:ie,type:le}=A,fe=isAsyncWrapper(I);toggleRecurse(A,!1),pe&&invokeArrayFns(pe),!fe&&(X=re&&re.onVnodeBeforeMount)&&invokeVNodeHook(X,me,I),toggleRecurse(A,!0);{ie.ce&&ie.ce._def.shadowRoot!==!1&&ie.ce._injectChildStyle(le);const he=A.subTree=renderComponentRoot(A);v(null,he,F,W,A,Y,q),I.el=he.el}if(_e&&queuePostRenderEffect(_e,Y),!fe&&(X=re&&re.onVnodeMounted)){const he=I;queuePostRenderEffect(()=>invokeVNodeHook(X,me,he),Y)}(I.shapeFlag&256||me&&isAsyncWrapper(me.vnode)&&me.vnode.shapeFlag&256)&&A.a&&queuePostRenderEffect(A.a,Y),A.isMounted=!0,I=F=W=null}};A.scope.on();const T=A.effect=new ReactiveEffect(K);A.scope.off();const x=A.update=T.run.bind(T),j=A.job=T.runIfDirty.bind(T);j.i=A,j.id=A.uid,T.scheduler=()=>queueJob(j),toggleRecurse(A,!0),x()},U=(A,I,F)=>{I.component=A;const W=A.vnode.props;A.vnode=I,A.next=null,updateProps(A,I.props,W,F),updateSlots(A,I.children,F),pauseTracking(),flushPreFlushCbs(A),resetTracking()},P=(A,I,F,W,Y,q,te,K,T=!1)=>{const x=A&&A.children,j=A?A.shapeFlag:0,X=I.children,{patchFlag:ne,shapeFlag:re}=I;if(ne>0){if(ne&128){ce(x,X,F,W,Y,q,te,K,T);return}else if(ne&256){Z(x,X,F,W,Y,q,te,K,T);return}}re&8?(j&16&&oe(x,Y,q),X!==x&&c(F,X)):j&16?re&16?ce(x,X,F,W,Y,q,te,K,T):oe(x,Y,q,!0):(j&8&&c(F,""),re&16&&R(X,F,W,Y,q,te,K,T))},Z=(A,I,F,W,Y,q,te,K,T)=>{A=A||EMPTY_ARR,I=I||EMPTY_ARR;const x=A.length,j=I.length,X=Math.min(x,j);let ne;for(ne=0;ne<X;ne++){const re=I[ne]=T?cloneIfMounted(I[ne]):normalizeVNode(I[ne]);v(A[ne],re,F,null,Y,q,te,K,T)}x>j?oe(A,Y,q,!0,!1,X):R(I,F,W,Y,q,te,K,T,X)},ce=(A,I,F,W,Y,q,te,K,T)=>{let x=0;const j=I.length;let X=A.length-1,ne=j-1;for(;x<=X&&x<=ne;){const re=A[x],pe=I[x]=T?cloneIfMounted(I[x]):normalizeVNode(I[x]);if(isSameVNodeType(re,pe))v(re,pe,F,null,Y,q,te,K,T);else break;x++}for(;x<=X&&x<=ne;){const re=A[X],pe=I[ne]=T?cloneIfMounted(I[ne]):normalizeVNode(I[ne]);if(isSameVNodeType(re,pe))v(re,pe,F,null,Y,q,te,K,T);else break;X--,ne--}if(x>X){if(x<=ne){const re=ne+1,pe=re<j?I[re].el:W;for(;x<=ne;)v(null,I[x]=T?cloneIfMounted(I[x]):normalizeVNode(I[x]),F,pe,Y,q,te,K,T),x++}}else if(x>ne)for(;x<=X;)G(A[x],Y,q,!0),x++;else{const re=x,pe=x,_e=new Map;for(x=pe;x<=ne;x++){const ve=I[x]=T?cloneIfMounted(I[x]):normalizeVNode(I[x]);ve.key!=null&&_e.set(ve.key,x)}let me,ie=0;const le=ne-pe+1;let fe=!1,he=0;const be=new Array(le);for(x=0;x<le;x++)be[x]=0;for(x=re;x<=X;x++){const ve=A[x];if(ie>=le){G(ve,Y,q,!0);continue}let ge;if(ve.key!=null)ge=_e.get(ve.key);else for(me=pe;me<=ne;me++)if(be[me-pe]===0&&isSameVNodeType(ve,I[me])){ge=me;break}ge===void 0?G(ve,Y,q,!0):(be[ge-pe]=x+1,ge>=he?he=ge:fe=!0,v(ve,I[ge],F,null,Y,q,te,K,T),ie++)}const ye=fe?getSequence(be):EMPTY_ARR;for(me=ye.length-1,x=le-1;x>=0;x--){const ve=pe+x,ge=I[ve],Ee=I[ve+1],Ne=ve+1<j?Ee.el||Ee.placeholder:W;be[x]===0?v(null,ge,F,Ne,Y,q,te,K,T):fe&&(me<0||x!==ye[me]?ue(ge,F,Ne,2):me--)}}},ue=(A,I,F,W,Y=null)=>{const{el:q,type:te,transition:K,children:T,shapeFlag:x}=A;if(x&6){ue(A.component.subTree,I,F,W);return}if(x&128){A.suspense.move(I,F,W);return}if(x&64){te.move(A,I,F,se);return}if(te===Fragment){o(q,I,F);for(let X=0;X<T.length;X++)ue(T[X],I,F,W);o(A.anchor,I,F);return}if(te===Static){V(A,I,F);return}if(W!==2&&x&1&&K)if(W===0)K.beforeEnter(q),o(q,I,F),queuePostRenderEffect(()=>K.enter(q),Y);else{const{leave:X,delayLeave:ne,afterLeave:re}=K,pe=()=>{A.ctx.isUnmounted?a(q):o(q,I,F)},_e=()=>{q._isLeaving&&q[leaveCbKey](!0),X(q,()=>{pe(),re&&re()})};ne?ne(q,pe,_e):_e()}else o(q,I,F)},G=(A,I,F,W=!1,Y=!1)=>{const{type:q,props:te,ref:K,children:T,dynamicChildren:x,shapeFlag:j,patchFlag:X,dirs:ne,cacheIndex:re}=A;if(X===-2&&(Y=!1),K!=null&&(pauseTracking(),setRef(K,null,F,A,!0),resetTracking()),re!=null&&(I.renderCache[re]=void 0),j&256){I.ctx.deactivate(A);return}const pe=j&1&&ne,_e=!isAsyncWrapper(A);let me;if(_e&&(me=te&&te.onVnodeBeforeUnmount)&&invokeVNodeHook(me,I,A),j&6)ae(A.component,F,W);else{if(j&128){A.suspense.unmount(F,W);return}pe&&invokeDirectiveHook(A,null,I,"beforeUnmount"),j&64?A.type.remove(A,I,F,se,W):x&&!x.hasOnce&&(q!==Fragment||X>0&&X&64)?oe(x,I,F,!1,!0):(q===Fragment&&X&384||!Y&&j&16)&&oe(T,I,F),W&&ee(A)}(_e&&(me=te&&te.onVnodeUnmounted)||pe)&&queuePostRenderEffect(()=>{me&&invokeVNodeHook(me,I,A),pe&&invokeDirectiveHook(A,null,I,"unmounted")},F)},ee=A=>{const{type:I,el:F,anchor:W,transition:Y}=A;if(I===Fragment){Q(F,W);return}if(I===Static){k(A);return}const q=()=>{a(F),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(A.shapeFlag&1&&Y&&!Y.persisted){const{leave:te,delayLeave:K}=Y,T=()=>te(F,q);K?K(A.el,q,T):T()}else q()},Q=(A,I)=>{let F;for(;A!==I;)F=m(A),a(A),A=F;a(I)},ae=(A,I,F)=>{const{bum:W,scope:Y,job:q,subTree:te,um:K,m:T,a:x}=A;invalidateMount(T),invalidateMount(x),W&&invokeArrayFns(W),Y.stop(),q&&(q.flags|=8,G(te,A,I,F)),K&&queuePostRenderEffect(K,I),queuePostRenderEffect(()=>{A.isUnmounted=!0},I)},oe=(A,I,F,W=!1,Y=!1,q=0)=>{for(let te=q;te<A.length;te++)G(A[te],I,F,W,Y)},D=A=>{if(A.shapeFlag&6)return D(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const I=m(A.anchor||A.el),F=I&&I[TeleportEndKey];return F?m(F):I};let z=!1;const J=(A,I,F)=>{A==null?I._vnode&&G(I._vnode,null,null,!0):v(I._vnode||null,A,I,null,null,null,F),I._vnode=A,z||(z=!0,flushPreFlushCbs(),flushPostFlushCbs(),z=!1)},se={p:v,um:G,m:ue,r:ee,mt:E,mc:R,pc:P,pbc:w,n:D,o:e};return{render:J,hydrate:void 0,createApp:createAppAPI(J)}}function resolveChildrenNamespace({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function toggleRecurse({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,s=!1){const o=e.children,a=t.children;if(isArray$2(o)&&isArray$2(a))for(let n=0;n<o.length;n++){const r=o[n];let l=a[n];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[n]=cloneIfMounted(a[n]),l.el=r.el),!s&&l.patchFlag!==-2&&traverseStaticChildren(r,l)),l.type===Text&&l.patchFlag!==-1&&(l.el=r.el),l.type===Comment&&!l.el&&(l.el=r.el)}}function getSequence(e){const t=e.slice(),s=[0];let o,a,n,r,l;const i=e.length;for(o=0;o<i;o++){const d=e[o];if(d!==0){if(a=s[s.length-1],e[a]<d){t[o]=a,s.push(o);continue}for(n=0,r=s.length-1;n<r;)l=n+r>>1,e[s[l]]<d?n=l+1:r=l;d<e[s[n]]&&(n>0&&(t[o]=s[n-1]),s[n]=o)}}for(n=s.length,r=s[n-1];n-- >0;)s[n]=r,r=t[r];return s}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$2(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,s,o,a,n){return setupBlock(createBaseVNode(e,t,s,o,a,n,!0))}function createBlock(e,t,s,o,a){return setupBlock(createVNode(e,t,s,o,a,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?isString$1(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:t,f:!!s}:e:null);function createBaseVNode(e,t=null,s=null,o=0,a=null,n=e===Fragment?0:1,r=!1,l=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(i,s),n&128&&e.normalize(i)):s&&(i.shapeFlag|=isString$1(s)?8:16),isBlockTreeEnabled>0&&!r&&currentBlock&&(i.patchFlag>0||n&6)&&i.patchFlag!==32&&currentBlock.push(i),i}const createVNode=_createVNode;function _createVNode(e,t=null,s=null,o=0,a=null,n=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const l=cloneVNode(e,t,!0);return s&&normalizeChildren(l,s),isBlockTreeEnabled>0&&!n&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=l:currentBlock.push(l)),l.patchFlag=-2,l}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:l,style:i}=t;l&&!isString$1(l)&&(t.class=normalizeClass(l)),isObject$1(i)&&(isProxy(i)&&!isArray$2(i)&&(i=extend$1({},i)),t.style=normalizeStyle(i))}const r=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction$2(e)?2:0;return createBaseVNode(e,t,s,o,a,r,n,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend$1({},e):e:null}function cloneVNode(e,t,s=!1,o=!1){const{props:a,ref:n,patchFlag:r,children:l,transition:i}=e,d=t?mergeProps(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&normalizeKey(d),ref:t&&t.ref?s&&n?isArray$2(n)?n.concat(normalizeRef(t)):[n,normalizeRef(t)]:normalizeRef(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:i,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return i&&o&&setTransitionHooks(c,i.clone(c)),c}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createStaticVNode(e,t){const s=createVNode(Static,null,e);return s.staticCount=t,s}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(isArray$2(t))s=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),normalizeChildren(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!isInternalObject(t)?t._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},s=32):(t=String(t),o&64?(s=16,t=[createTextVNode(t)]):s=8);e.children=t,e.shapeFlag|=s}function mergeProps(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=normalizeClass([t.class,o.class]));else if(a==="style")t.style=normalizeStyle([t.style,o.style]);else if(isOn(a)){const n=t[a],r=o[a];r&&n!==r&&!(isArray$2(n)&&n.includes(r))&&(t[a]=n?[].concat(n,r):r)}else a!==""&&(t[a]=o[a])}return t}function invokeVNodeHook(e,t,s,o=null){callWithAsyncErrorHandling(e,t,7,[s,o])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,s){const o=e.type,a=(t?t.appContext:e.appContext)||emptyAppContext,n={uid:uid++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,a),emitsOptions:normalizeEmitsOptions(o,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=emit.bind(null,n),e.ce&&e.ce(n),n}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(s,o)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(o),n=>{a.length>1?a.forEach(r=>r(n)):a[0](n)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",s=>currentInstance=s),setInSSRSetupState=t("__VUE_SSR_SETTERS__",s=>isInSSRComponentSetup=s)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,s=!1){t&&setInSSRSetupState(t);const{props:o,children:a}=e.vnode,n=isStatefulComponent(e);initProps(e,o,n,t),initSlots(e,a,s||t);const r=n?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),r}function setupStatefulComponent(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:o}=s;if(o){pauseTracking();const a=e.setupContext=o.length>1?createSetupContext(e):null,n=setCurrentInstance(e),r=callWithErrorHandling(o,e,0,[e.props,a]),l=isPromise(r);if(resetTracking(),n(),(l||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),l){if(r.then(unsetCurrentInstance,unsetCurrentInstance),t)return r.then(i=>{handleSetupResult(e,i)}).catch(i=>{handleError(i,e,0)});e.asyncDep=r}else handleSetupResult(e,r)}else finishComponentSetup(e)}function handleSetupResult(e,t,s){isFunction$2(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$1(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,s){const o=e.type;e.render||(e.render=o.render||NOOP);{const a=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),a()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](e)},has(t,s){return s in t||s in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])\w/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$2(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,s=!1){let o=getComponentName(t);if(!o&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(o=a[1])}if(!o&&e){const a=n=>{for(const r in n)if(n[r]===t)return r};o=a(e.components)||e.parent&&a(e.parent.type.components)||a(e.appContext.components)}return o?classify(o):s?"App":"Anonymous"}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,s){try{setBlockTracking(-1);const o=arguments.length;return o===2?isObject$1(t)&&!isArray$2(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&isVNode(s)&&(s=[s]),createVNode(e,t,s))}finally{setBlockTracking(1)}}const version="3.5.25";let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const a=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):s?doc.createElement(e,{is:s}):doc.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,a,n){const r=s?s.previousSibling:t.lastChild;if(a&&(a===n||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===n||!(a=a.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=templateContainer.content;if(o==="svg"||o==="mathml"){const i=l.firstChild;for(;i.firstChild;)l.appendChild(i.firstChild);l.removeChild(i)}t.insertBefore(l,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,s){const o=e[vtcKey];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(?:^|;)\s*display\s*:/;function patchStyle(e,t,s){const o=e.style,a=isString$1(s);let n=!1;if(s&&!a){if(t)if(isString$1(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();s[l]==null&&setStyle(o,l,"")}else for(const r in t)s[r]==null&&setStyle(o,r,"");for(const r in s)r==="display"&&(n=!0),setStyle(o,r,s[r])}else if(a){if(t!==s){const r=o[CSS_VAR_TEXT];r&&(s+=";"+r),o.cssText=s,n=displayRE.test(s)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=n?o.display:"",e[vShowHidden]&&(o.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,s){if(isArray$2(s))s.forEach(o=>setStyle(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=autoPrefix(e,t);importantRE.test(s)?e.setProperty(hyphenate(o),s.replace(importantRE,""),"important"):e[o]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const s=prefixCache[t];if(s)return s;let o=camelize(t);if(o!=="filter"&&o in e)return prefixCache[t]=o;o=capitalize(o);for(let a=0;a<prefixes.length;a++){const n=prefixes[a]+o;if(n in e)return prefixCache[t]=n}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,s,o,a,n=isSpecialBooleanAttr(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,s):s==null||n&&!includeBooleanAttr(s)?e.removeAttribute(t):e.setAttribute(t,n?"":isSymbol(s)?String(s):s)}function patchDOMProp(e,t,s,o,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(s):s);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const l=n==="OPTION"?e.getAttribute("value")||"":e.value,i=s==null?e.type==="checkbox"?"on":"":String(s);(l!==i||!("_value"in e))&&(e.value=i),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=includeBooleanAttr(s):s==null&&l==="string"?(s="",r=!0):l==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(a||t)}function addEventListener(e,t,s,o){e.addEventListener(t,s,o)}function removeEventListener(e,t,s,o){e.removeEventListener(t,s,o)}const veiKey=Symbol("_vei");function patchEvent(e,t,s,o,a=null){const n=e[veiKey]||(e[veiKey]={}),r=n[t];if(o&&r)r.value=o;else{const[l,i]=parseName(t);if(o){const d=n[t]=createInvoker(o,a);addEventListener(e,l,d,i)}else r&&(removeEventListener(e,l,r,i),n[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let o;for(;o=e.match(optionsModifierRE);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,s.value),t,5,[o])};return s.value=e,s.attached=getNow(),s}function patchStopImmediatePropagation(e,t){if(isArray$2(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,s,o,a,n)=>{const r=a==="svg";t==="class"?patchClass(e,o,r):t==="style"?patchStyle(e,s,o):isOn(t)?isModelListener(t)||patchEvent(e,t,s,o,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,o,r))?(patchDOMProp(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,o,r,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString$1(o))?patchDOMProp(e,camelize(t),o,n,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),patchAttr(e,t,o,r))};function shouldSetAsProp(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction$2(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return isNativeOn(t)&&isString$1(s)?!1:t in e}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$2(t)?s=>invokeArrayFns(t,s):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign");function castValue(e,t,s){return t&&(e=e.trim()),s&&(e=looseToNumber(e)),e}const vModelText={created(e,{modifiers:{lazy:t,trim:s,number:o}},a){e[assignKey]=getModelAssigner(a);const n=o||a.props&&a.props.type==="number";addEventListener(e,t?"change":"input",r=>{r.target.composing||e[assignKey](castValue(e.value,s,n))}),(s||n)&&addEventListener(e,"change",()=>{e.value=castValue(e.value,s,n)}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:a,number:n}},r){if(e[assignKey]=getModelAssigner(r),e.composing)return;const l=(n||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,i=t??"";l!==i&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||a&&e.value.trim()===i)||(e.value=i))}},vModelCheckbox={deep:!0,created(e,t,s){e[assignKey]=getModelAssigner(s),addEventListener(e,"change",()=>{const o=e._modelValue,a=getValue(e),n=e.checked,r=e[assignKey];if(isArray$2(o)){const l=looseIndexOf(o,a),i=l!==-1;if(n&&!i)r(o.concat(a));else if(!n&&i){const d=[...o];d.splice(l,1),r(d)}}else if(isSet(o)){const l=new Set(o);n?l.add(a):l.delete(a),r(l)}else r(getCheckboxValue(e,n))})},mounted:setChecked,beforeUpdate(e,t,s){e[assignKey]=getModelAssigner(s),setChecked(e,t,s)}};function setChecked(e,{value:t,oldValue:s},o){e._modelValue=t;let a;if(isArray$2(t))a=looseIndexOf(t,o.props.value)>-1;else if(isSet(t))a=t.has(o.props.value);else{if(t===s)return;a=looseEqual(t,getCheckboxValue(e,!0))}e.checked!==a&&(e.checked=a)}const vModelRadio={created(e,{value:t},s){e.checked=looseEqual(t,s.props.value),e[assignKey]=getModelAssigner(s),addEventListener(e,"change",()=>{e[assignKey](getValue(e))})},beforeUpdate(e,{value:t,oldValue:s},o){e[assignKey]=getModelAssigner(o),t!==s&&(e.checked=looseEqual(t,o.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const a=isSet(t);addEventListener(e,"change",()=>{const n=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?looseToNumber(getValue(r)):getValue(r));e[assignKey](e.multiple?a?new Set(n):n:n[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(o)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,s){e[assignKey]=getModelAssigner(s)},updated(e,{value:t}){e._assigning||setSelected(e,t)}};function setSelected(e,t){const s=e.multiple,o=isArray$2(t);if(!(s&&!o&&!isSet(t))){for(let a=0,n=e.options.length;a<n;a++){const r=e.options[a],l=getValue(r);if(s)if(o){const i=typeof l;i==="string"||i==="number"?r.selected=t.some(d=>String(d)===String(l)):r.selected=looseIndexOf(t,l)>-1}else r.selected=t.has(l);else if(looseEqual(getValue(r),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(s=>e[`${s}Key`]&&!t.includes(s))},withModifiers=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=((a,...n)=>{for(let r=0;r<t.length;r++){const l=modifierGuards[t[r]];if(l&&l(a,t))return}return e(a,...n)}))},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=(a=>{if(!("key"in a))return;const n=hyphenate(a.key);if(t.some(r=>r===n||keyNames[r]===n))return e(a)}))},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=((...e)=>{const t=ensureRenderer().createApp(...e),{mount:s}=t;return t.mount=o=>{const a=normalizeContainer(o);if(!a)return;const n=t._component;!isFunction$2(n)&&!n.render&&!n.template&&(n.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const r=s(a,!1,resolveRootNamespace(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t});function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let s=[],o=[];const a=markRaw({install(n){setActivePinia(a),a._a=n,n.provide(piniaSymbol,a),n.config.globalProperties.$pinia=a,o.forEach(r=>s.push(r)),o=[]},use(n){return this._a?s.push(n):o.push(n),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return a}const noop$3=()=>{};function addSubscription(e,t,s,o=noop$3){e.add(t);const a=()=>{e.delete(t)&&o()};return!s&&getCurrentScope()&&onScopeDispose(a),a}function triggerSubscriptions(e,...t){e.forEach(s=>{s(...t)})}const fallbackRunWithContext=e=>e(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,o)=>e.set(o,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const o=t[s],a=e[s];isPlainObject$1(a)&&isPlainObject$1(o)&&e.hasOwnProperty(s)&&!isRef(o)&&!isReactive(o)?e[s]=mergeReactiveObjects(a,o):e[s]=o}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject$1(e)||!Object.prototype.hasOwnProperty.call(e,skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,s,o){const{state:a,actions:n,getters:r}=t,l=s.state.value[e];let i;function d(){l||(s.state.value[e]=a?a():{});const c=toRefs(s.state.value[e]);return assign$1(c,n,Object.keys(r||{}).reduce((u,m)=>(u[m]=markRaw(computed(()=>{setActivePinia(s);const f=s._s.get(e);return r[m].call(f,f)})),u),{}))}return i=createSetupStore(e,d,t,s,o,!0),i}function createSetupStore(e,t,s={},o,a,n){let r;const l=assign$1({actions:{}},s),i={deep:!0};let d,c,u=new Set,m=new Set,f;const g=o.state.value[e];!n&&!g&&(o.state.value[e]={}),ref({});let v;function _(R){let C;d=c=!1,typeof R=="function"?(R(o.state.value[e]),C={type:MutationType.patchFunction,storeId:e,events:f}):(mergeReactiveObjects(o.state.value[e],R),C={type:MutationType.patchObject,payload:R,storeId:e,events:f});const w=v=Symbol();nextTick().then(()=>{v===w&&(d=!0)}),c=!0,triggerSubscriptions(u,C,o.state.value[e])}const b=n?function(){const{state:C}=s,w=C?C():{};this.$patch(L=>{assign$1(L,w)})}:noop$3;function S(){r.stop(),u.clear(),m.clear(),o._s.delete(e)}const V=(R,C="")=>{if(ACTION_MARKER in R)return R[ACTION_NAME]=C,R;const w=function(){setActivePinia(o);const L=Array.from(arguments),y=new Set,N=new Set;function E(U){y.add(U)}function $(U){N.add(U)}triggerSubscriptions(m,{args:L,name:w[ACTION_NAME],store:B,after:E,onError:$});let H;try{H=R.apply(this&&this.$id===e?this:B,L)}catch(U){throw triggerSubscriptions(N,U),U}return H instanceof Promise?H.then(U=>(triggerSubscriptions(y,U),U)).catch(U=>(triggerSubscriptions(N,U),Promise.reject(U))):(triggerSubscriptions(y,H),H)};return w[ACTION_MARKER]=!0,w[ACTION_NAME]=C,w},k={_p:o,$id:e,$onAction:addSubscription.bind(null,m),$patch:_,$reset:b,$subscribe(R,C={}){const w=addSubscription(u,R,C.detached,()=>L()),L=r.run(()=>watch(()=>o.state.value[e],y=>{(C.flush==="sync"?c:d)&&R({storeId:e,type:MutationType.direct,events:f},y)},assign$1({},i,C)));return w},$dispose:S},B=reactive(k);o._s.set(e,B);const M=(o._a&&o._a.runWithContext||fallbackRunWithContext)(()=>o._e.run(()=>(r=effectScope()).run(()=>t({action:V}))));for(const R in M){const C=M[R];if(isRef(C)&&!isComputed(C)||isReactive(C))n||(g&&shouldHydrate(C)&&(isRef(C)?C.value=g[R]:mergeReactiveObjects(C,g[R])),o.state.value[e][R]=C);else if(typeof C=="function"){const w=V(C,R);M[R]=w,l.actions[R]=C}}return assign$1(B,M),assign$1(toRaw(B),M),Object.defineProperty(B,"$state",{get:()=>o.state.value[e],set:R=>{_(C=>{assign$1(C,R)})}}),o._p.forEach(R=>{assign$1(B,r.run(()=>R({store:B,app:o._a,pinia:o,options:l})))}),g&&n&&s.hydrate&&s.hydrate(B.$state,g),d=!0,c=!0,B}function defineStore(e,t,s){let o;const a=typeof t=="function";o=a?s:t;function n(r,l){const i=hasInjectionContext();return r=r||(i?inject(piniaSymbol,null):null),r&&setActivePinia(r),r=activePinia,r._s.has(e)||(a?createSetupStore(e,t,o,r):createOptionsStore(e,o,r)),r._s.get(e)}return n.$id=e,n}function storeToRefs(e){const t=toRaw(e),s={};for(const o in t){const a=t[o];a.effect?s[o]=computed({get:()=>e[o],set(n){e[o]=n}}):(isRef(a)||isReactive(a))&&(s[o]=toRef(e,o))}return s}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(e,t){return e.concat([t+"-"+start,t+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement$1(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot>"u")return!1;var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach(function(s){var o=t.styles[s]||{},a=t.attributes[s]||{},n=t.elements[s];!isHTMLElement(n)||!getNodeName(n)||(Object.assign(n.style,o),Object.keys(a).forEach(function(r){var l=a[r];l===!1?n.removeAttribute(r):n.setAttribute(r,l===!0?"":l)}))})}function effect$2(e){var t=e.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],n=t.attributes[o]||{},r=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:s[o]),l=r.reduce(function(i,d){return i[d]="",i},{});!isHTMLElement(a)||!getNodeName(a)||(Object.assign(a.style,l),Object.keys(n).forEach(function(i){a.removeAttribute(i)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(e){return e.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!1);var o=e.getBoundingClientRect(),a=1,n=1;t&&isHTMLElement(e)&&(a=e.offsetWidth>0&&round(o.width)/e.offsetWidth||1,n=e.offsetHeight>0&&round(o.height)/e.offsetHeight||1);var r=isElement$1(e)?getWindow(e):window,l=r.visualViewport,i=!isLayoutViewport()&&s,d=(o.left+(i&&l?l.offsetLeft:0))/a,c=(o.top+(i&&l?l.offsetTop:0))/n,u=o.width/a,m=o.height/n;return{width:u,height:m,top:c,right:d+u,bottom:c+m,left:d,x:d,y:c}}function getLayoutRect(e){var t=getBoundingClientRect(e),s=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:o}}function contains(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&isShadowRoot(s)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement$1(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){return getNodeName(e)==="html"?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return!isHTMLElement(e)||getComputedStyle$1(e).position==="fixed"?null:e.offsetParent}function getContainingBlock(e){var t=/firefox/i.test(getUAString()),s=/Trident/i.test(getUAString());if(s&&isHTMLElement(e)){var o=getComputedStyle$1(e);if(o.position==="fixed")return null}var a=getParentNode(e);for(isShadowRoot(a)&&(a=a.host);isHTMLElement(a)&&["html","body"].indexOf(getNodeName(a))<0;){var n=getComputedStyle$1(a);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return a;a=a.parentNode}return null}function getOffsetParent(e){for(var t=getWindow(e),s=getTrueOffsetParent(e);s&&isTableElement(s)&&getComputedStyle$1(s).position==="static";)s=getTrueOffsetParent(s);return s&&(getNodeName(s)==="html"||getNodeName(s)==="body"&&getComputedStyle$1(s).position==="static")?t:s||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,s){return max(e,min(t,s))}function withinMaxClamp(e,t,s){var o=within(e,t,s);return o>s?s:o}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce(function(s,o){return s[o]=e,s},{})}var toPaddingObject=function(t,s){return t=typeof t=="function"?t(Object.assign({},s.rects,{placement:s.placement})):t,mergePaddingObject(typeof t!="number"?t:expandToHashMap(t,basePlacements))};function arrow(e){var t,s=e.state,o=e.name,a=e.options,n=s.elements.arrow,r=s.modifiersData.popperOffsets,l=getBasePlacement(s.placement),i=getMainAxisFromPlacement(l),d=[left,right].indexOf(l)>=0,c=d?"height":"width";if(!(!n||!r)){var u=toPaddingObject(a.padding,s),m=getLayoutRect(n),f=i==="y"?top:left,g=i==="y"?bottom:right,v=s.rects.reference[c]+s.rects.reference[i]-r[i]-s.rects.popper[c],_=r[i]-s.rects.reference[i],b=getOffsetParent(n),S=b?i==="y"?b.clientHeight||0:b.clientWidth||0:0,V=v/2-_/2,k=u[f],B=S-m[c]-u[g],O=S/2-m[c]/2+V,M=within(k,O,B),R=i;s.modifiersData[o]=(t={},t[R]=M,t.centerOffset=M-O,t)}}function effect$1(e){var t=e.state,s=e.options,o=s.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||contains(t.elements.popper,a)&&(t.elements.arrow=a))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e,t){var s=e.x,o=e.y,a=t.devicePixelRatio||1;return{x:round(s*a)/a||0,y:round(o*a)/a||0}}function mapToStyles(e){var t,s=e.popper,o=e.popperRect,a=e.placement,n=e.variation,r=e.offsets,l=e.position,i=e.gpuAcceleration,d=e.adaptive,c=e.roundOffsets,u=e.isFixed,m=r.x,f=m===void 0?0:m,g=r.y,v=g===void 0?0:g,_=typeof c=="function"?c({x:f,y:v}):{x:f,y:v};f=_.x,v=_.y;var b=r.hasOwnProperty("x"),S=r.hasOwnProperty("y"),V=left,k=top,B=window;if(d){var O=getOffsetParent(s),M="clientHeight",R="clientWidth";if(O===getWindow(s)&&(O=getDocumentElement(s),getComputedStyle$1(O).position!=="static"&&l==="absolute"&&(M="scrollHeight",R="scrollWidth")),O=O,a===top||(a===left||a===right)&&n===end){k=bottom;var C=u&&O===B&&B.visualViewport?B.visualViewport.height:O[M];v-=C-o.height,v*=i?1:-1}if(a===left||(a===top||a===bottom)&&n===end){V=right;var w=u&&O===B&&B.visualViewport?B.visualViewport.width:O[R];f-=w-o.width,f*=i?1:-1}}var L=Object.assign({position:l},d&&unsetSides),y=c===!0?roundOffsetsByDPR({x:f,y:v},getWindow(s)):{x:f,y:v};if(f=y.x,v=y.y,i){var N;return Object.assign({},L,(N={},N[k]=S?"0":"",N[V]=b?"0":"",N.transform=(B.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",N))}return Object.assign({},L,(t={},t[k]=S?v+"px":"",t[V]=b?f+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,s=e.options,o=s.gpuAcceleration,a=o===void 0?!0:o,n=s.adaptive,r=n===void 0?!0:n,l=s.roundOffsets,i=l===void 0?!0:l,d={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(e){var t=e.state,s=e.instance,o=e.options,a=o.scroll,n=a===void 0?!0:a,r=o.resize,l=r===void 0?!0:r,i=getWindow(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&d.forEach(function(c){c.addEventListener("scroll",s.update,passive)}),l&&i.addEventListener("resize",s.update,passive),function(){n&&d.forEach(function(c){c.removeEventListener("scroll",s.update,passive)}),l&&i.removeEventListener("resize",s.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,function(t){return hash$1[t]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,function(t){return hash[t]})}function getWindowScroll(e){var t=getWindow(e),s=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:s,scrollTop:o}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e,t){var s=getWindow(e),o=getDocumentElement(e),a=s.visualViewport,n=o.clientWidth,r=o.clientHeight,l=0,i=0;if(a){n=a.width,r=a.height;var d=isLayoutViewport();(d||!d&&t==="fixed")&&(l=a.offsetLeft,i=a.offsetTop)}return{width:n,height:r,x:l+getWindowScrollBarX(e),y:i}}function getDocumentRect(e){var t,s=getDocumentElement(e),o=getWindowScroll(e),a=(t=e.ownerDocument)==null?void 0:t.body,n=max(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),r=max(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-o.scrollLeft+getWindowScrollBarX(e),i=-o.scrollTop;return getComputedStyle$1(a||s).direction==="rtl"&&(l+=max(s.clientWidth,a?a.clientWidth:0)-n),{width:n,height:r,x:l,y:i}}function isScrollParent(e){var t=getComputedStyle$1(e),s=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+o)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){var s;t===void 0&&(t=[]);var o=getScrollParent(e),a=o===((s=e.ownerDocument)==null?void 0:s.body),n=getWindow(o),r=a?[n].concat(n.visualViewport||[],isScrollParent(o)?o:[]):o,l=t.concat(r);return a?l:l.concat(listScrollParents(getParentNode(r)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e,t){var s=getBoundingClientRect(e,!1,t==="fixed");return s.top=s.top+e.clientTop,s.left=s.left+e.clientLeft,s.bottom=s.top+e.clientHeight,s.right=s.left+e.clientWidth,s.width=e.clientWidth,s.height=e.clientHeight,s.x=s.left,s.y=s.top,s}function getClientRectFromMixedType(e,t,s){return t===viewport?rectToClientRect(getViewportRect(e,s)):isElement$1(t)?getInnerBoundingClientRect(t,s):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e)),s=["absolute","fixed"].indexOf(getComputedStyle$1(e).position)>=0,o=s&&isHTMLElement(e)?getOffsetParent(e):e;return isElement$1(o)?t.filter(function(a){return isElement$1(a)&&contains(a,o)&&getNodeName(a)!=="body"}):[]}function getClippingRect(e,t,s,o){var a=t==="clippingParents"?getClippingParents(e):[].concat(t),n=[].concat(a,[s]),r=n[0],l=n.reduce(function(i,d){var c=getClientRectFromMixedType(e,d,o);return i.top=max(c.top,i.top),i.right=min(c.right,i.right),i.bottom=min(c.bottom,i.bottom),i.left=max(c.left,i.left),i},getClientRectFromMixedType(e,r,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function computeOffsets(e){var t=e.reference,s=e.element,o=e.placement,a=o?getBasePlacement(o):null,n=o?getVariation(o):null,r=t.x+t.width/2-s.width/2,l=t.y+t.height/2-s.height/2,i;switch(a){case top:i={x:r,y:t.y-s.height};break;case bottom:i={x:r,y:t.y+t.height};break;case right:i={x:t.x+t.width,y:l};break;case left:i={x:t.x-s.width,y:l};break;default:i={x:t.x,y:t.y}}var d=a?getMainAxisFromPlacement(a):null;if(d!=null){var c=d==="y"?"height":"width";switch(n){case start:i[d]=i[d]-(t[c]/2-s[c]/2);break;case end:i[d]=i[d]+(t[c]/2-s[c]/2);break}}return i}function detectOverflow(e,t){t===void 0&&(t={});var s=t,o=s.placement,a=o===void 0?e.placement:o,n=s.strategy,r=n===void 0?e.strategy:n,l=s.boundary,i=l===void 0?clippingParents:l,d=s.rootBoundary,c=d===void 0?viewport:d,u=s.elementContext,m=u===void 0?popper:u,f=s.altBoundary,g=f===void 0?!1:f,v=s.padding,_=v===void 0?0:v,b=mergePaddingObject(typeof _!="number"?_:expandToHashMap(_,basePlacements)),S=m===popper?reference:popper,V=e.rects.popper,k=e.elements[g?S:m],B=getClippingRect(isElement$1(k)?k:k.contextElement||getDocumentElement(e.elements.popper),i,c,r),O=getBoundingClientRect(e.elements.reference),M=computeOffsets({reference:O,element:V,placement:a}),R=rectToClientRect(Object.assign({},V,M)),C=m===popper?R:O,w={top:B.top-C.top+b.top,bottom:C.bottom-B.bottom+b.bottom,left:B.left-C.left+b.left,right:C.right-B.right+b.right},L=e.modifiersData.offset;if(m===popper&&L){var y=L[a];Object.keys(w).forEach(function(N){var E=[right,bottom].indexOf(N)>=0?1:-1,$=[top,bottom].indexOf(N)>=0?"y":"x";w[N]+=y[$]*E})}return w}function computeAutoPlacement(e,t){t===void 0&&(t={});var s=t,o=s.placement,a=s.boundary,n=s.rootBoundary,r=s.padding,l=s.flipVariations,i=s.allowedAutoPlacements,d=i===void 0?placements:i,c=getVariation(o),u=c?l?variationPlacements:variationPlacements.filter(function(g){return getVariation(g)===c}):basePlacements,m=u.filter(function(g){return d.indexOf(g)>=0});m.length===0&&(m=u);var f=m.reduce(function(g,v){return g[v]=detectOverflow(e,{placement:v,boundary:a,rootBoundary:n,padding:r})[getBasePlacement(v)],g},{});return Object.keys(f).sort(function(g,v){return f[g]-f[v]})}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===auto)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,s=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var a=s.mainAxis,n=a===void 0?!0:a,r=s.altAxis,l=r===void 0?!0:r,i=s.fallbackPlacements,d=s.padding,c=s.boundary,u=s.rootBoundary,m=s.altBoundary,f=s.flipVariations,g=f===void 0?!0:f,v=s.allowedAutoPlacements,_=t.options.placement,b=getBasePlacement(_),S=b===_,V=i||(S||!g?[getOppositePlacement(_)]:getExpandedFallbackPlacements(_)),k=[_].concat(V).reduce(function(Q,ae){return Q.concat(getBasePlacement(ae)===auto?computeAutoPlacement(t,{placement:ae,boundary:c,rootBoundary:u,padding:d,flipVariations:g,allowedAutoPlacements:v}):ae)},[]),B=t.rects.reference,O=t.rects.popper,M=new Map,R=!0,C=k[0],w=0;w<k.length;w++){var L=k[w],y=getBasePlacement(L),N=getVariation(L)===start,E=[top,bottom].indexOf(y)>=0,$=E?"width":"height",H=detectOverflow(t,{placement:L,boundary:c,rootBoundary:u,altBoundary:m,padding:d}),U=E?N?right:left:N?bottom:top;B[$]>O[$]&&(U=getOppositePlacement(U));var P=getOppositePlacement(U),Z=[];if(n&&Z.push(H[y]<=0),l&&Z.push(H[U]<=0,H[P]<=0),Z.every(function(Q){return Q})){C=L,R=!1;break}M.set(L,Z)}if(R)for(var ce=g?3:1,ue=function(ae){var oe=k.find(function(D){var z=M.get(D);if(z)return z.slice(0,ae).every(function(J){return J})});if(oe)return C=oe,"break"},G=ce;G>0;G--){var ee=ue(G);if(ee==="break")break}t.placement!==C&&(t.modifiersData[o]._skip=!0,t.placement=C,t.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(e,t,s){return s===void 0&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function isAnySideFullyClipped(e){return[top,right,bottom,left].some(function(t){return e[t]>=0})}function hide(e){var t=e.state,s=e.name,o=t.rects.reference,a=t.rects.popper,n=t.modifiersData.preventOverflow,r=detectOverflow(t,{elementContext:"reference"}),l=detectOverflow(t,{altBoundary:!0}),i=getSideOffsets(r,o),d=getSideOffsets(l,a,n),c=isAnySideFullyClipped(i),u=isAnySideFullyClipped(d);t.modifiersData[s]={referenceClippingOffsets:i,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,s){var o=getBasePlacement(e),a=[left,top].indexOf(o)>=0?-1:1,n=typeof s=="function"?s(Object.assign({},t,{placement:e})):s,r=n[0],l=n[1];return r=r||0,l=(l||0)*a,[left,right].indexOf(o)>=0?{x:l,y:r}:{x:r,y:l}}function offset(e){var t=e.state,s=e.options,o=e.name,a=s.offset,n=a===void 0?[0,0]:a,r=placements.reduce(function(c,u){return c[u]=distanceAndSkiddingToXY(u,t.rects,n),c},{}),l=r[t.placement],i=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=r}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,s=e.name;t.modifiersData[s]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return e==="x"?"y":"x"}function preventOverflow(e){var t=e.state,s=e.options,o=e.name,a=s.mainAxis,n=a===void 0?!0:a,r=s.altAxis,l=r===void 0?!1:r,i=s.boundary,d=s.rootBoundary,c=s.altBoundary,u=s.padding,m=s.tether,f=m===void 0?!0:m,g=s.tetherOffset,v=g===void 0?0:g,_=detectOverflow(t,{boundary:i,rootBoundary:d,padding:u,altBoundary:c}),b=getBasePlacement(t.placement),S=getVariation(t.placement),V=!S,k=getMainAxisFromPlacement(b),B=getAltAxis(k),O=t.modifiersData.popperOffsets,M=t.rects.reference,R=t.rects.popper,C=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,w=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,y={x:0,y:0};if(O){if(n){var N,E=k==="y"?top:left,$=k==="y"?bottom:right,H=k==="y"?"height":"width",U=O[k],P=U+_[E],Z=U-_[$],ce=f?-R[H]/2:0,ue=S===start?M[H]:R[H],G=S===start?-R[H]:-M[H],ee=t.elements.arrow,Q=f&&ee?getLayoutRect(ee):{width:0,height:0},ae=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),oe=ae[E],D=ae[$],z=within(0,M[H],Q[H]),J=V?M[H]/2-ce-z-oe-w.mainAxis:ue-z-oe-w.mainAxis,se=V?-M[H]/2+ce+z+D+w.mainAxis:G+z+D+w.mainAxis,de=t.elements.arrow&&getOffsetParent(t.elements.arrow),A=de?k==="y"?de.clientTop||0:de.clientLeft||0:0,I=(N=L?.[k])!=null?N:0,F=U+J-I-A,W=U+se-I,Y=within(f?min(P,F):P,U,f?max(Z,W):Z);O[k]=Y,y[k]=Y-U}if(l){var q,te=k==="x"?top:left,K=k==="x"?bottom:right,T=O[B],x=B==="y"?"height":"width",j=T+_[te],X=T-_[K],ne=[top,left].indexOf(b)!==-1,re=(q=L?.[B])!=null?q:0,pe=ne?j:T-M[x]-R[x]-re+w.altAxis,_e=ne?T+M[x]+R[x]-re-w.altAxis:X,me=f&&ne?withinMaxClamp(pe,T,_e):within(f?pe:j,T,f?_e:X);O[B]=me,y[B]=me-T}t.modifiersData[o]=y}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e===getWindow(e)||!isHTMLElement(e)?getWindowScroll(e):getHTMLElementScroll(e)}function isElementScaled(e){var t=e.getBoundingClientRect(),s=round(t.width)/e.offsetWidth||1,o=round(t.height)/e.offsetHeight||1;return s!==1||o!==1}function getCompositeRect(e,t,s){s===void 0&&(s=!1);var o=isHTMLElement(t),a=isHTMLElement(t)&&isElementScaled(t),n=getDocumentElement(t),r=getBoundingClientRect(e,a,s),l={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(o||!o&&!s)&&((getNodeName(t)!=="body"||isScrollParent(n))&&(l=getNodeScroll(t)),isHTMLElement(t)?(i=getBoundingClientRect(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):n&&(i.x=getWindowScrollBarX(n))),{x:r.left+l.scrollLeft-i.x,y:r.top+l.scrollTop-i.y,width:r.width,height:r.height}}function order(e){var t=new Map,s=new Set,o=[];e.forEach(function(n){t.set(n.name,n)});function a(n){s.add(n.name);var r=[].concat(n.requires||[],n.requiresIfExists||[]);r.forEach(function(l){if(!s.has(l)){var i=t.get(l);i&&a(i)}}),o.push(n)}return e.forEach(function(n){s.has(n.name)||a(n)}),o}function orderModifiers(e){var t=order(e);return modifierPhases.reduce(function(s,o){return s.concat(t.filter(function(a){return a.phase===o}))},[])}function debounce(e){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(e())})})),t}}function mergeByName(e){var t=e.reduce(function(s,o){var a=s[o.name];return s[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,s},{});return Object.keys(t).map(function(s){return t[s]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function popperGenerator(e){e===void 0&&(e={});var t=e,s=t.defaultModifiers,o=s===void 0?[]:s,a=t.defaultOptions,n=a===void 0?DEFAULT_OPTIONS:a;return function(l,i,d){d===void 0&&(d=n);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,n),modifiersData:{},elements:{reference:l,popper:i},attributes:{},styles:{}},u=[],m=!1,f={state:c,setOptions:function(b){var S=typeof b=="function"?b(c.options):b;v(),c.options=Object.assign({},n,c.options,S),c.scrollParents={reference:isElement$1(l)?listScrollParents(l):l.contextElement?listScrollParents(l.contextElement):[],popper:listScrollParents(i)};var V=orderModifiers(mergeByName([].concat(o,c.options.modifiers)));return c.orderedModifiers=V.filter(function(k){return k.enabled}),g(),f.update()},forceUpdate:function(){if(!m){var b=c.elements,S=b.reference,V=b.popper;if(areValidElements(S,V)){c.rects={reference:getCompositeRect(S,getOffsetParent(V),c.options.strategy==="fixed"),popper:getLayoutRect(V)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(w){return c.modifiersData[w.name]=Object.assign({},w.data)});for(var k=0;k<c.orderedModifiers.length;k++){if(c.reset===!0){c.reset=!1,k=-1;continue}var B=c.orderedModifiers[k],O=B.fn,M=B.options,R=M===void 0?{}:M,C=B.name;typeof O=="function"&&(c=O({state:c,options:R,name:C,instance:f})||c)}}}},update:debounce(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){v(),m=!0}};if(!areValidElements(l,i))return f;f.setOptions(d).then(function(_){!m&&d.onFirstUpdate&&d.onFirstUpdate(_)});function g(){c.orderedModifiers.forEach(function(_){var b=_.name,S=_.options,V=S===void 0?{}:S,k=_.effect;if(typeof k=="function"){var B=k({state:c,name:b,instance:f,options:V}),O=function(){};u.push(B||O)}})}function v(){u.forEach(function(_){return _()}),u=[]}return f}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,afterMain,afterRead,afterWrite,applyStyles:applyStyles$1,arrow:arrow$1,auto,basePlacements,beforeMain,beforeRead,beforeWrite,bottom,clippingParents,computeStyles:computeStyles$1,createPopper,createPopperBase:createPopper$2,createPopperLite:createPopper$1,detectOverflow,end,eventListeners,flip:flip$1,hide:hide$1,left,main,modifierPhases,offset:offset$1,placements,popper,popperGenerator,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1,read,reference,right,start,top,variationPlacements,viewport,write},Symbol.toStringTag,{value:"Module"}));const elementMap=new Map,Data={set(e,t,s){elementMap.has(e)||elementMap.set(e,new Map);const o=elementMap.get(e);if(!o.has(t)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(t,s)},get(e,t){return elementMap.has(e)&&elementMap.get(e).get(t)||null},remove(e,t){if(!elementMap.has(e))return;const s=elementMap.get(e);s.delete(t),s.size===0&&elementMap.delete(e)}},MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,s)=>`#${CSS.escape(s)}`)),e),toType=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=e=>{do e+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(e));return e},getTransitionDurationFromElement=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(e);const o=Number.parseFloat(t),a=Number.parseFloat(s);return!o&&!a?0:(t=t.split(",")[0],s=s.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(s))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=e=>{e.dispatchEvent(new Event(TRANSITION_END))},isElement=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),getElement=e=>isElement(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(parseSelector(e)):null,isVisible=e=>{if(!isElement(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",s=e.closest("details:not([open])");if(!s)return t;if(s!==e){const o=e.closest("summary");if(o&&o.parentNode!==s||o===null)return!1}return t},isDisabled=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",findShadowRoot=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?findShadowRoot(e.parentNode):null},noop$2=()=>{},reflow=e=>{e.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=e=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of DOMContentLoadedCallbacks)t()}),DOMContentLoadedCallbacks.push(e)):e()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=e=>{onDOMContentLoaded(()=>{const t=getjQuery();if(t){const s=e.NAME,o=t.fn[s];t.fn[s]=e.jQueryInterface,t.fn[s].Constructor=e,t.fn[s].noConflict=()=>(t.fn[s]=o,e.jQueryInterface)}})},execute=(e,t=[],s=e)=>typeof e=="function"?e.call(...t):s,executeAfterTransition=(e,t,s=!0)=>{if(!s){execute(e);return}const a=getTransitionDurationFromElement(t)+5;let n=!1;const r=({target:l})=>{l===t&&(n=!0,t.removeEventListener(TRANSITION_END,r),execute(e))};t.addEventListener(TRANSITION_END,r),setTimeout(()=>{n||triggerTransitionEnd(t)},a)},getNextActiveElement=(e,t,s,o)=>{const a=e.length;let n=e.indexOf(t);return n===-1?!s&&o?e[a-1]:e[0]:(n+=s?1:-1,o&&(n=(n+a)%a),e[Math.max(0,Math.min(n,a-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(e,t){return t&&`${t}::${uidEvent++}`||e.uidEvent||uidEvent++}function getElementEvents(e){const t=makeEventUid(e);return e.uidEvent=t,eventRegistry[t]=eventRegistry[t]||{},eventRegistry[t]}function bootstrapHandler(e,t){return function s(o){return hydrateObj(o,{delegateTarget:e}),s.oneOff&&EventHandler.off(e,o.type,t),t.apply(e,[o])}}function bootstrapDelegationHandler(e,t,s){return function o(a){const n=e.querySelectorAll(t);for(let{target:r}=a;r&&r!==this;r=r.parentNode)for(const l of n)if(l===r)return hydrateObj(a,{delegateTarget:r}),o.oneOff&&EventHandler.off(e,a.type,t,s),s.apply(r,[a])}}function findHandler(e,t,s=null){return Object.values(e).find(o=>o.callable===t&&o.delegationSelector===s)}function normalizeParameters(e,t,s){const o=typeof t=="string",a=o?s:t||s;let n=getTypeEvent(e);return nativeEvents.has(n)||(n=e),[o,a,n]}function addHandler(e,t,s,o,a){if(typeof t!="string"||!e)return;let[n,r,l]=normalizeParameters(t,s,o);t in customEvents&&(r=(g=>function(v){if(!v.relatedTarget||v.relatedTarget!==v.delegateTarget&&!v.delegateTarget.contains(v.relatedTarget))return g.call(this,v)})(r));const i=getElementEvents(e),d=i[l]||(i[l]={}),c=findHandler(d,r,n?s:null);if(c){c.oneOff=c.oneOff&&a;return}const u=makeEventUid(r,t.replace(namespaceRegex,"")),m=n?bootstrapDelegationHandler(e,s,r):bootstrapHandler(e,r);m.delegationSelector=n?s:null,m.callable=r,m.oneOff=a,m.uidEvent=u,d[u]=m,e.addEventListener(l,m,n)}function removeHandler(e,t,s,o,a){const n=findHandler(t[s],o,a);n&&(e.removeEventListener(s,n,!!a),delete t[s][n.uidEvent])}function removeNamespacedHandlers(e,t,s,o){const a=t[s]||{};for(const[n,r]of Object.entries(a))n.includes(o)&&removeHandler(e,t,s,r.callable,r.delegationSelector)}function getTypeEvent(e){return e=e.replace(stripNameRegex,""),customEvents[e]||e}const EventHandler={on(e,t,s,o){addHandler(e,t,s,o,!1)},one(e,t,s,o){addHandler(e,t,s,o,!0)},off(e,t,s,o){if(typeof t!="string"||!e)return;const[a,n,r]=normalizeParameters(t,s,o),l=r!==t,i=getElementEvents(e),d=i[r]||{},c=t.startsWith(".");if(typeof n<"u"){if(!Object.keys(d).length)return;removeHandler(e,i,r,n,a?s:null);return}if(c)for(const u of Object.keys(i))removeNamespacedHandlers(e,i,u,t.slice(1));for(const[u,m]of Object.entries(d)){const f=u.replace(stripUidRegex,"");(!l||t.includes(f))&&removeHandler(e,i,r,m.callable,m.delegationSelector)}},trigger(e,t,s){if(typeof t!="string"||!e)return null;const o=getjQuery(),a=getTypeEvent(t),n=t!==a;let r=null,l=!0,i=!0,d=!1;n&&o&&(r=o.Event(t,s),o(e).trigger(r),l=!r.isPropagationStopped(),i=!r.isImmediatePropagationStopped(),d=r.isDefaultPrevented());const c=hydrateObj(new Event(t,{bubbles:l,cancelable:!0}),s);return d&&c.preventDefault(),i&&e.dispatchEvent(c),c.defaultPrevented&&r&&r.preventDefault(),c}};function hydrateObj(e,t={}){for(const[s,o]of Object.entries(t))try{e[s]=o}catch{Object.defineProperty(e,s,{configurable:!0,get(){return o}})}return e}function normalizeData(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function normalizeDataKey(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Manipulator={setDataAttribute(e,t,s){e.setAttribute(`data-bs-${normalizeDataKey(t)}`,s)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${normalizeDataKey(t)}`)},getDataAttributes(e){if(!e)return{};const t={},s=Object.keys(e.dataset).filter(o=>o.startsWith("bs")&&!o.startsWith("bsConfig"));for(const o of s){let a=o.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),t[a]=normalizeData(e.dataset[o])}return t},getDataAttribute(e,t){return normalizeData(e.getAttribute(`data-bs-${normalizeDataKey(t)}`))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,s){const o=isElement(s)?Manipulator.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof o=="object"?o:{},...isElement(s)?Manipulator.getDataAttributes(s):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,s=this.constructor.DefaultType){for(const[o,a]of Object.entries(s)){const n=t[o],r=isElement(n)?"element":toType(n);if(!new RegExp(a).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${r}" but expected type "${a}".`)}}}const VERSION$2="5.3.8";class BaseComponent extends Config{constructor(t,s){super(),t=getElement(t),t&&(this._element=t,this._config=this._getConfig(s),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,s,o=!0){executeAfterTransition(t,s,o)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Data.get(getElement(t),this.DATA_KEY)}static getOrCreateInstance(t,s={}){return this.getInstance(t)||new this(t,typeof s=="object"?s:null)}static get VERSION(){return VERSION$2}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const getSelector=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let s=e.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&s!=="#"?s.trim():null}return t?t.split(",").map(s=>parseSelector(s)).join(","):null},SelectorEngine={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(s=>s.matches(t))},parents(e,t){const s=[];let o=e.parentNode.closest(t);for(;o;)s.push(o),o=o.parentNode.closest(t);return s},prev(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return[s];s=s.previousElementSibling}return[]},next(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return[s];s=s.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(s=>!isDisabled(s)&&isVisible(s))},getSelectorFromElement(e){const t=getSelector(e);return t&&SelectorEngine.findOne(t)?t:null},getElementFromSelector(e){const t=getSelector(e);return t?SelectorEngine.findOne(t):null},getMultipleElementsFromSelector(e){const t=getSelector(e);return t?SelectorEngine.find(t):[]}},enableDismissTrigger=(e,t="hide")=>{const s=`click.dismiss${e.EVENT_KEY}`,o=e.NAME;EventHandler.on(document,s,`[data-bs-dismiss="${o}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),isDisabled(this))return;const n=SelectorEngine.getElementFromSelector(this)||this.closest(`.${o}`);e.getOrCreateInstance(n)[t]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const s=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(t){return this.each(function(){const s=Alert.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(t){return this.each(function(){const s=Button.getOrCreateInstance(this);t==="toggle"&&s[t]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,e=>{e.preventDefault();const t=e.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(t).toggle()});defineJQueryPlugin(Button);const NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(t,s){super(),this._element=t,!(!t||!Swipe.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=SWIPE_THRESHOLD)return;const s=t/this._deltaX;this._deltaX=0,s&&execute(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,t=>this._start(t)),EventHandler.on(this._element,EVENT_POINTERUP,t=>this._end(t)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,t=>this._start(t)),EventHandler.on(this._element,EVENT_TOUCHMOVE,t=>this._move(t)),EventHandler.on(this._element,EVENT_TOUCHEND,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===POINTER_TYPE_PEN||t.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(t,s){super(t,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(t){const s=this._getItems();if(t>s.length-1||t<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(t));return}const o=this._getItemIndex(this._getActive());if(o===t)return;const a=t>o?ORDER_NEXT:ORDER_PREV;this._slide(a,s[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,t=>this._keydown(t)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const o of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(o,EVENT_DRAG_START,a=>a.preventDefault());const s={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,s)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const s=KEY_TO_DIRECTION[t.key];s&&(t.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const s=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);s.classList.remove(CLASS_NAME_ACTIVE$2),s.removeAttribute("aria-current");const o=SelectorEngine.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);o&&(o.classList.add(CLASS_NAME_ACTIVE$2),o.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const s=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(t,s=null){if(this._isSliding)return;const o=this._getActive(),a=t===ORDER_NEXT,n=s||getNextActiveElement(this._getItems(),o,a,this._config.wrap);if(n===o)return;const r=this._getItemIndex(n),l=f=>EventHandler.trigger(this._element,f,{relatedTarget:n,direction:this._orderToDirection(t),from:this._getItemIndex(o),to:r});if(l(EVENT_SLIDE).defaultPrevented||!o||!n)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=n;const c=a?CLASS_NAME_START:CLASS_NAME_END,u=a?CLASS_NAME_NEXT:CLASS_NAME_PREV;n.classList.add(u),reflow(n),o.classList.add(c),n.classList.add(c);const m=()=>{n.classList.remove(c,u),n.classList.add(CLASS_NAME_ACTIVE$2),o.classList.remove(CLASS_NAME_ACTIVE$2,u,c),this._isSliding=!1,l(EVENT_SLID)};this._queueCallback(m,o,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return isRTL()?t===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:t===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(t){return isRTL()?t===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:t===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(t){return this.each(function(){const s=Carousel.getOrCreateInstance(this,t);if(typeof t=="number"){s.to(t);return}if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(e){const t=SelectorEngine.getElementFromSelector(this);if(!t||!t.classList.contains(CLASS_NAME_CAROUSEL))return;e.preventDefault();const s=Carousel.getOrCreateInstance(t),o=this.getAttribute("data-bs-slide-to");if(o){s.to(o),s._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const e=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const t of e)Carousel.getOrCreateInstance(t)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(t,s){super(t,s),this._isTransitioning=!1,this._triggerArray=[];const o=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const a of o){const n=SelectorEngine.getSelectorFromElement(a),r=SelectorEngine.find(n).filter(l=>l===this._element);n!==null&&r.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(l=>l!==this._element).map(l=>Collapse.getOrCreateInstance(l,{toggle:!1}))),t.length&&t[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const l of t)l.hide();const o=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[o]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[o]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},r=`scroll${o[0].toUpperCase()+o.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[o]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const a of this._triggerArray){const n=SelectorEngine.getElementFromSelector(a);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[s]="",this._queueCallback(o,this._element,!0)}_isShown(t=this._element){return t.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=getElement(t.parent),t}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const s of t){const o=SelectorEngine.getElementFromSelector(s);o&&this._addAriaAndCollapsedClass([s],this._isShown(o))}}_getFirstLevelChildren(t){const s=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(t,this._config.parent).filter(o=>!s.includes(o))}_addAriaAndCollapsedClass(t,s){if(t.length)for(const o of t)o.classList.toggle(CLASS_NAME_COLLAPSED,!s),o.setAttribute("aria-expanded",s)}static jQueryInterface(t){const s={};return typeof t=="string"&&/show|hide/.test(t)&&(s.toggle=!1),this.each(function(){const o=Collapse.getOrCreateInstance(this,s);if(typeof t=="string"){if(typeof o[t]>"u")throw new TypeError(`No method named "${t}"`);o[t]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(t,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(t,s){super(t,s),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const o of[].concat(...document.body.children))EventHandler.on(o,"mouseover",noop$2);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,t)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))EventHandler.off(o,"mouseover",noop$2);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!isElement(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:isElement(this._config.reference)?t=getElement(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const s=this._getPopperConfig();this._popper=createPopper(t,this._menu,s)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const t=this._parent;if(t.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(t.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(t.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(t.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(CLASS_NAME_DROPUP)?s?PLACEMENT_TOPEND:PLACEMENT_TOP:s?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...execute(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:s}){const o=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(a=>isVisible(a));o.length&&getNextActiveElement(o,s,t===ARROW_DOWN_KEY$1,!o.includes(s)).focus()}static jQueryInterface(t){return this.each(function(){const s=Dropdown.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}static clearMenus(t){if(t.button===RIGHT_MOUSE_BUTTON||t.type==="keyup"&&t.key!==TAB_KEY$1)return;const s=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const o of s){const a=Dropdown.getInstance(o);if(!a||a._config.autoClose===!1)continue;const n=t.composedPath(),r=n.includes(a._menu);if(n.includes(a._element)||a._config.autoClose==="inside"&&!r||a._config.autoClose==="outside"&&r||a._menu.contains(t.target)&&(t.type==="keyup"&&t.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const l={relatedTarget:a._element};t.type==="click"&&(l.clickEvent=t),a._completeHide(l)}}static dataApiKeydownHandler(t){const s=/input|textarea/i.test(t.target.tagName),o=t.key===ESCAPE_KEY$2,a=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(t.key);if(!a&&!o||s&&!o)return;t.preventDefault();const n=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,t.delegateTarget.parentNode),r=Dropdown.getOrCreateInstance(n);if(a){t.stopPropagation(),r.show(),r._selectMenuItem(t);return}r._isShown()&&(t.stopPropagation(),r.hide(),n.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(e){e.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(t){if(!this._config.isVisible){execute(t);return}this._append();const s=this._getElement();this._config.isAnimated&&reflow(s),s.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(t)})}hide(t){if(!this._config.isVisible){execute(t);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(t)})}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(CLASS_NAME_FADE$4),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=getElement(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),EventHandler.on(t,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){executeAfterTransition(t,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,t=>this._handleFocusin(t)),EventHandler.on(document,EVENT_KEYDOWN_TAB,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(t){const{trapElement:s}=this._config;if(t.target===document||t.target===s||s.contains(t.target))return;const o=SelectorEngine.focusableChildren(s);o.length===0?s.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?o[o.length-1].focus():o[0].focus()}_handleKeydown(t){t.key===TAB_KEY&&(this._lastTabNavDirection=t.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,s=>s+t),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,s=>s+t),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,s=>s-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,s,o){const a=this.getWidth(),n=r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+a)return;this._saveInitialAttribute(r,s);const l=window.getComputedStyle(r).getPropertyValue(s);r.style.setProperty(s,`${o(Number.parseFloat(l))}px`)};this._applyManipulationCallback(t,n)}_saveInitialAttribute(t,s){const o=t.style.getPropertyValue(s);o&&Manipulator.setDataAttribute(t,s,o)}_resetElementAttributes(t,s){const o=a=>{const n=Manipulator.getDataAttribute(a,s);if(n===null){a.style.removeProperty(s);return}Manipulator.removeDataAttribute(a,s),a.style.setProperty(s,n)};this._applyManipulationCallback(t,o)}_applyManipulationCallback(t,s){if(isElement(t)){s(t);return}for(const o of SelectorEngine.find(t,this._element))s(o)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_CLICK_DISMISS=`click.dismiss${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Modal extends BaseComponent{constructor(t,s){super(t,s),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){EventHandler.off(window,EVENT_KEY$4),EventHandler.off(this._dialog,EVENT_KEY$4),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);s&&(s.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const o=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:t})};this._queueCallback(o,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,t=>{if(t.key===ESCAPE_KEY$1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,t=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,s=>{if(!(this._element!==t.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,o=this._element.style.overflowY;o==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=o},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),o=s>0;if(o&&!t){const a=isRTL()?"paddingLeft":"paddingRight";this._element.style[a]=`${s}px`}if(!o&&t){const a=isRTL()?"paddingRight":"paddingLeft";this._element.style[a]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,s){return this.each(function(){const o=Modal.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof o[t]>"u")throw new TypeError(`No method named "${t}"`);o[t](s)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(e){const t=SelectorEngine.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),EventHandler.one(t,EVENT_SHOW$4,a=>{a.defaultPrevented||EventHandler.one(t,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const s=SelectorEngine.findOne(OPEN_SELECTOR$1);s&&Modal.getInstance(s).hide(),Modal.getOrCreateInstance(t).toggle(this)});enableDismissTrigger(Modal);defineJQueryPlugin(Modal);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(t,s){super(t,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const o=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:t})};this._queueCallback(o,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const s=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},s=!!this._config.backdrop;return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?t:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,t=>{if(t.key===ESCAPE_KEY){if(this._config.keyboard){this.hide();return}EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED)}})}static jQueryInterface(t){return this.each(function(){const s=Offcanvas.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(e){const t=SelectorEngine.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),isDisabled(this))return;EventHandler.one(t,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const s=SelectorEngine.findOne(OPEN_SELECTOR);s&&s!==t&&Offcanvas.getInstance(s).hide(),Offcanvas.getOrCreateInstance(t).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const e of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(e).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const e of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Offcanvas.getOrCreateInstance(e).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),SAFE_URL_PATTERN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,allowedAttribute=(e,t)=>{const s=e.nodeName.toLowerCase();return t.includes(s)?uriAttributes.has(s)?!!SAFE_URL_PATTERN.test(e.nodeValue):!0:t.filter(o=>o instanceof RegExp).some(o=>o.test(s))};function sanitizeHtml(e,t,s){if(!e.length)return e;if(s&&typeof s=="function")return s(e);const a=new window.DOMParser().parseFromString(e,"text/html"),n=[].concat(...a.body.querySelectorAll("*"));for(const r of n){const l=r.nodeName.toLowerCase();if(!Object.keys(t).includes(l)){r.remove();continue}const i=[].concat(...r.attributes),d=[].concat(t["*"]||[],t[l]||[]);for(const c of i)allowedAttribute(c,d)||r.removeAttribute(c.nodeName)}return a.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[a,n]of Object.entries(this._config.content))this._setContent(t,n,a);const s=t.children[0],o=this._resolvePossibleFunction(this._config.extraClass);return o&&s.classList.add(...o.split(" ")),s}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[s,o]of Object.entries(t))super._typeCheckConfig({selector:s,entry:o},DefaultContentType)}_setContent(t,s,o){const a=SelectorEngine.findOne(o,t);if(a){if(s=this._resolvePossibleFunction(s),!s){a.remove();return}if(isElement(s)){this._putElementInTemplate(getElement(s),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(s);return}a.textContent=s}}_maybeSanitize(t){return this._config.sanitize?sanitizeHtml(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return execute(t,[void 0,this])}_putElementInTemplate(t,s){if(this._config.html){s.innerHTML="",s.append(t);return}s.textContent=t.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(t,s){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),o=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!o)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(a),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper=this._createPopper(a),a.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))EventHandler.on(l,"mouseover",noop$2);const r=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(r,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;if(this._getTipElement().classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))EventHandler.off(a,"mouseover",noop$2);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const o=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)))};this._queueCallback(o,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const s=this._getTemplateFactory(t).toHtml();if(!s)return null;s.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),s.classList.add(`bs-${this.constructor.NAME}-auto`);const o=getUID(this.constructor.NAME).toString();return s.setAttribute("id",o),this._isAnimated()&&s.classList.add(CLASS_NAME_FADE$2),s}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new TemplateFactory({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(t){const s=execute(this._config.placement,[this,t,this._element]),o=AttachmentMap[s.toUpperCase()];return createPopper(this._element,t,this._getPopperConfig(o))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_resolvePossibleFunction(t){return execute(t,[this._element,this._element])}_getPopperConfig(t){const s={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:o=>{this._getTipElement().setAttribute("data-popper-placement",o.state.placement)}}]};return{...s,...execute(this._config.popperConfig,[void 0,s])}}_setListeners(){const t=this._config.trigger.split(" ");for(const s of t)if(s==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[TRIGGER_CLICK]=!(a._isShown()&&a._activeTrigger[TRIGGER_CLICK]),a.toggle()});else if(s!==TRIGGER_MANUAL){const o=s===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),a=s===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,o,this._config.selector,n=>{const r=this._initializeOnDelegatedTarget(n);r._activeTrigger[n.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,r._enter()}),EventHandler.on(this._element,a,this._config.selector,n=>{const r=this._initializeOnDelegatedTarget(n);r._activeTrigger[n.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=r._element.contains(n.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,s){clearTimeout(this._timeout),this._timeout=setTimeout(t,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const s=Manipulator.getDataAttributes(this._element);for(const o of Object.keys(s))DISALLOWED_ATTRIBUTES.has(o)&&delete s[o];return t={...s,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:getElement(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[s,o]of Object.entries(this._config))this.constructor.Default[s]!==o&&(t[s]=o);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const s=Tooltip.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip.DefaultType,content:"(null|string|element|function)"};class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const s=Popover.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor(t,s){super(t,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=getElement(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(s=>Number.parseFloat(s))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,t=>{const s=this._observableSections.get(t.target.hash);if(s){t.preventDefault();const o=this._rootElement||window,a=s.offsetTop-this._element.offsetTop;if(o.scrollTo){o.scrollTo({top:a,behavior:"smooth"});return}o.scrollTop=a}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),t)}_observerCallback(t){const s=r=>this._targetLinks.get(`#${r.target.id}`),o=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(s(r))},a=(this._rootElement||document.documentElement).scrollTop,n=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const r of t){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(r));continue}const l=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&l){if(o(r),!a)return;continue}!n&&!l&&o(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const s of t){if(!s.hash||isDisabled(s))continue;const o=SelectorEngine.findOne(decodeURI(s.hash),this._element);isVisible(o)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,o))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(t),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,t.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const s of SelectorEngine.parents(t,SELECTOR_NAV_LIST_GROUP))for(const o of SelectorEngine.prev(s,SELECTOR_LINK_ITEMS))o.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(t){t.classList.remove(CLASS_NAME_ACTIVE$1);const s=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,t);for(const o of s)o.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(t){return this.each(function(){const s=ScrollSpy.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const e of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(e)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",HOME_KEY="Home",END_KEY="End",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=`:not(${SELECTOR_DROPDOWN_TOGGLE})`,SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;class Tab extends BaseComponent{constructor(t){super(t),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,s=>this._keydown(s)))}static get NAME(){return NAME$1}show(){const t=this._element;if(this._elemIsActive(t))return;const s=this._getActiveElem(),o=s?EventHandler.trigger(s,EVENT_HIDE$1,{relatedTarget:t}):null;EventHandler.trigger(t,EVENT_SHOW$1,{relatedTarget:s}).defaultPrevented||o&&o.defaultPrevented||(this._deactivate(s,t),this._activate(t,s))}_activate(t,s){if(!t)return;t.classList.add(CLASS_NAME_ACTIVE),this._activate(SelectorEngine.getElementFromSelector(t));const o=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(CLASS_NAME_SHOW$1);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),EventHandler.trigger(t,EVENT_SHOWN$1,{relatedTarget:s})};this._queueCallback(o,t,t.classList.contains(CLASS_NAME_FADE$1))}_deactivate(t,s){if(!t)return;t.classList.remove(CLASS_NAME_ACTIVE),t.blur(),this._deactivate(SelectorEngine.getElementFromSelector(t));const o=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(CLASS_NAME_SHOW$1);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),EventHandler.trigger(t,EVENT_HIDDEN$1,{relatedTarget:s})};this._queueCallback(o,t,t.classList.contains(CLASS_NAME_FADE$1))}_keydown(t){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY,HOME_KEY,END_KEY].includes(t.key))return;t.stopPropagation(),t.preventDefault();const s=this._getChildren().filter(a=>!isDisabled(a));let o;if([HOME_KEY,END_KEY].includes(t.key))o=s[t.key===HOME_KEY?0:s.length-1];else{const a=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(t.key);o=getNextActiveElement(s,t.target,a,!0)}o&&(o.focus({preventScroll:!0}),Tab.getOrCreateInstance(o).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,s){this._setAttributeIfNotExists(t,"role","tablist");for(const o of s)this._setInitialAttributesOnChild(o)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const s=this._elemIsActive(t),o=this._getOuterElement(t);t.setAttribute("aria-selected",s),o!==t&&this._setAttributeIfNotExists(o,"role","presentation"),s||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const s=SelectorEngine.getElementFromSelector(t);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,s){const o=this._getOuterElement(t);if(!o.classList.contains(CLASS_DROPDOWN))return;const a=(n,r)=>{const l=SelectorEngine.findOne(n,o);l&&l.classList.toggle(r,s)};a(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),a(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),o.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(t,s,o){t.hasAttribute(s)||t.setAttribute(s,o)}_elemIsActive(t){return t.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(t){return t.matches(SELECTOR_INNER_ELEM)?t:SelectorEngine.findOne(SELECTOR_INNER_ELEM,t)}_getOuterElement(t){return t.closest(SELECTOR_OUTER)||t}static jQueryInterface(t){return this.each(function(){const s=Tab.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const e of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(e)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(t,s){super(t,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const s=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const s=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,s){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}const o=t.relatedTarget;this._element===o||this._element.contains(o)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,t=>this._onInteraction(t,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,t=>this._onInteraction(t,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,t=>this._onInteraction(t,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const s=Toast.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);const isBrowser=typeof document<"u";function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&isRouteComponent(e.default)}const assign=Object.assign;function applyToParams(e,t){const s={};for(const o in t){const a=t[o];s[o]=isArray$1(a)?a.map(e):e(a)}return s}const noop$1=()=>{},isArray$1=Array.isArray;function mergeOptions(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return e==null?"":encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,s="/"){let o,a={},n="",r="";const l=t.indexOf("#");let i=t.indexOf("?");return i=l>=0&&i>l?-1:i,i>=0&&(o=t.slice(0,i),n=t.slice(i,l>0?l:t.length),a=e(n.slice(1))),l>=0&&(o=o||t.slice(0,l),r=t.slice(l,t.length)),o=resolveRelativePath(o??t,s),{fullPath:o+n+r,path:o,query:a,hash:decode(r)}}function stringifyURL(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,s){const o=t.matched.length-1,a=s.matched.length-1;return o>-1&&o===a&&isSameRouteRecord(t.matched[o],s.matched[a])&&isSameRouteLocationParams(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!isSameRouteLocationParamsValue(e[s],t[s]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray$1(e)?isEquivalentArray(e,t):isArray$1(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray$1(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),a=o[o.length-1];(a===".."||a===".")&&o.push("");let n=s.length-1,r,l;for(r=0;r<o.length;r++)if(l=o[r],l!==".")if(l==="..")n>1&&n--;else break;return s.slice(0,n).join("/")+"/"+o.slice(r).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let NavigationType=(function(e){return e.pop="pop",e.push="push",e})({}),NavigationDirection=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),a=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!a)return;t=getElementPosition(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}let ErrorTypes=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const NavigationFailureSymbol=Symbol("");ErrorTypes.MATCHER_NOT_FOUND+"",ErrorTypes.NAVIGATION_GUARD_REDIRECT+"",ErrorTypes.NAVIGATION_ABORTED+"",ErrorTypes.NAVIGATION_CANCELLED+"",ErrorTypes.NAVIGATION_DUPLICATED+"";function createRouterError(e,t){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const propertiesToLog=["params","query","hash"];function stringifyRoute(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of propertiesToLog)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function parseQuery(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const a=s[o].replace(PLUS_RE," "),n=a.indexOf("="),r=decode(n<0?a:a.slice(0,n)),l=n<0?null:decode(a.slice(n+1));if(r in t){let i=t[r];isArray$1(i)||(i=t[r]=[i]),i.push(l)}else t[r]=l}return t}function stringifyQuery(e){let t="";for(let s in e){const o=e[s];if(s=encodeQueryKey(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(isArray$1(o)?o.map(a=>a&&encodeQueryValue(a)):[o&&encodeQueryValue(o)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+s,a!=null&&(t+="="+a))})}return t}function normalizeQuery(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=isArray$1(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function guardToPromiseFn(e,t,s,o,a,n=r=>r()){const r=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((l,i)=>{const d=m=>{m===!1?i(createRouterError(ErrorTypes.NAVIGATION_ABORTED,{from:s,to:t})):m instanceof Error?i(m):isRouteLocation(m)?i(createRouterError(ErrorTypes.NAVIGATION_GUARD_REDIRECT,{from:t,to:m})):(r&&o.enterCallbacks[a]===r&&typeof m=="function"&&r.push(m),l())},c=n(()=>e.call(o&&o.instances[a],t,s,d));let u=Promise.resolve(c);e.length<3&&(u=u.then(d)),u.catch(m=>i(m))})}function extractComponentsGuards(e,t,s,o,a=n=>n()){const n=[];for(const r of e)for(const l in r.components){let i=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(isRouteComponent(i)){const d=(i.__vccOpts||i)[t];d&&n.push(guardToPromiseFn(d,s,o,r,l,a))}else{let d=i();n.push(()=>d.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${l}" at "${r.path}"`);const u=isESModule(c)?c.default:c;r.mods[l]=c,r.components[l]=u;const m=(u.__vccOpts||u)[t];return m&&guardToPromiseFn(m,s,o,r,l,a)()}))}}return n}function extractChangingRecords(e,t){const s=[],o=[],a=[],n=Math.max(t.matched.length,e.matched.length);for(let r=0;r<n;r++){const l=t.matched[r];l&&(e.matched.find(d=>isSameRouteRecord(d,l))?o.push(l):s.push(l));const i=e.matched[r];i&&(t.matched.find(d=>isSameRouteRecord(d,i))||a.push(i))}return[s,o,a]}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:s,search:o,hash:a}=t,n=e.indexOf("#");if(n>-1){let r=a.includes(e.slice(n))?e.slice(n).length:1,l=a.slice(r);return l[0]!=="/"&&(l="/"+l),stripBase(l,"")}return stripBase(s,e)+o+a}function useHistoryListeners(e,t,s,o){let a=[],n=[],r=null;const l=({state:m})=>{const f=createCurrentLocation(e,location),g=s.value,v=t.value;let _=0;if(m){if(s.value=f,t.value=m,r&&r===g){r=null;return}_=v?m.position-v.position:0}else o(f);a.forEach(b=>{b(s.value,g,{delta:_,type:NavigationType.pop,direction:_?_>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function i(){r=s.value}function d(m){a.push(m);const f=()=>{const g=a.indexOf(m);g>-1&&a.splice(g,1)};return n.push(f),f}function c(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(assign({},m.state,{scroll:computeScrollPosition()}),"")}}function u(){for(const m of n)m();n=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:i,listen:d,destroy:u}}function buildState(e,t,s,o=!1,a=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:a?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:s}=window,o={value:createCurrentLocation(e,s)},a={value:t.state};a.value||n(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(i,d,c){const u=e.indexOf("#"),m=u>-1?(s.host&&document.querySelector("base")?e:e.slice(u))+i:createBaseLocation()+e+i;try{t[c?"replaceState":"pushState"](d,"",m),a.value=d}catch(f){console.error(f),s[c?"replace":"assign"](m)}}function r(i,d){n(i,assign({},t.state,buildState(a.value.back,i,a.value.forward,!0),d,{position:a.value.position}),!0),o.value=i}function l(i,d){const c=assign({},a.value,t.state,{forward:i,scroll:computeScrollPosition()});n(c.current,c,!0),n(i,assign({},buildState(o.value,i,null),{position:c.position+1},d),!1),o.value=i}return{location:o,state:a,push:l,replace:r}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),s=useHistoryListeners(e,t.state,t.location,t.replace);function o(n,r=!0){r||s.pauseListeners(),history.go(n)}const a=assign({location:"",base:e,go:o,createHref:createHref.bind(null,e)},t,s);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}let TokenType=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var TokenizerState=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(TokenizerState||{});const ROOT_TOKEN={type:TokenType.Static,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${s})/"${d}": ${f}`)}let s=TokenizerState.Static,o=s;const a=[];let n;function r(){n&&a.push(n),n=[]}let l=0,i,d="",c="";function u(){d&&(s===TokenizerState.Static?n.push({type:TokenType.Static,value:d}):s===TokenizerState.Param||s===TokenizerState.ParamRegExp||s===TokenizerState.ParamRegExpEnd?(n.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),n.push({type:TokenType.Param,value:d,regexp:c,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=i}for(;l<e.length;){if(i=e[l++],i==="\\"&&s!==TokenizerState.ParamRegExp){o=s,s=TokenizerState.EscapeNext;continue}switch(s){case TokenizerState.Static:i==="/"?(d&&u(),r()):i===":"?(u(),s=TokenizerState.Param):m();break;case TokenizerState.EscapeNext:m(),s=o;break;case TokenizerState.Param:i==="("?s=TokenizerState.ParamRegExp:VALID_PARAM_RE.test(i)?m():(u(),s=TokenizerState.Static,i!=="*"&&i!=="?"&&i!=="+"&&l--);break;case TokenizerState.ParamRegExp:i===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+i:s=TokenizerState.ParamRegExpEnd:c+=i;break;case TokenizerState.ParamRegExpEnd:u(),s=TokenizerState.Static,i!=="*"&&i!=="?"&&i!=="+"&&l--,c="";break;default:t("Unknown state");break}}return s===TokenizerState.ParamRegExp&&t(`Unfinished custom RegExp for param "${d}"`),u(),r(),a}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0};var PathScore=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(PathScore||{});const REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const s=assign({},BASE_PATH_PARSER_OPTIONS,t),o=[];let a=s.start?"^":"";const n=[];for(const d of e){const c=d.length?[]:[PathScore.Root];s.strict&&!d.length&&(a+="/");for(let u=0;u<d.length;u++){const m=d[u];let f=PathScore.Segment+(s.sensitive?PathScore.BonusCaseSensitive:0);if(m.type===TokenType.Static)u||(a+="/"),a+=m.value.replace(REGEX_CHARS_RE,"\\$&"),f+=PathScore.Static;else if(m.type===TokenType.Param){const{value:g,repeatable:v,optional:_,regexp:b}=m;n.push({name:g,repeatable:v,optional:_});const S=b||BASE_PARAM_PATTERN;if(S!==BASE_PARAM_PATTERN){f+=PathScore.BonusCustomRegExp;try{`${S}`}catch(k){throw new Error(`Invalid custom RegExp for param "${g}" (${S}): `+k.message)}}let V=v?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;u||(V=_&&d.length<2?`(?:/${V})`:"/"+V),_&&(V+="?"),a+=V,f+=PathScore.Dynamic,_&&(f+=PathScore.BonusOptional),v&&(f+=PathScore.BonusRepeatable),S===".*"&&(f+=PathScore.BonusWildcard)}c.push(f)}o.push(c)}if(s.strict&&s.end){const d=o.length-1;o[d][o[d].length-1]+=PathScore.BonusStrict}s.strict||(a+="/?"),s.end?a+="$":s.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const r=new RegExp(a,s.sensitive?"":"i");function l(d){const c=d.match(r),u={};if(!c)return null;for(let m=1;m<c.length;m++){const f=c[m]||"",g=n[m-1];u[g.name]=f&&g.repeatable?f.split("/"):f}return u}function i(d){let c="",u=!1;for(const m of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const f of m)if(f.type===TokenType.Static)c+=f.value;else if(f.type===TokenType.Param){const{value:g,repeatable:v,optional:_}=f,b=g in d?d[g]:"";if(isArray$1(b)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const S=isArray$1(b)?b.join("/"):b;if(!S)if(_)m.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${g}"`);c+=S}}return c||"/"}return{re:r,score:o,keys:n,parse:l,stringify:i}}function compareScoreArray(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===PathScore.Static+PathScore.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===PathScore.Static+PathScore.Segment?1:-1:0}function comparePathParserScore(e,t){let s=0;const o=e.score,a=t.score;for(;s<o.length&&s<a.length;){const n=compareScoreArray(o[s],a[s]);if(n)return n;s++}if(Math.abs(a.length-o.length)===1){if(isLastScoreNegative(o))return 1;if(isLastScoreNegative(a))return-1}return a.length-o.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const PATH_PARSER_OPTIONS_DEFAULTS={strict:!1,end:!0,sensitive:!1};function createRouteRecordMatcher(e,t,s){const o=tokensToParser(tokenizePath(e.path),s),a=assign(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function createRouterMatcher(e,t){const s=[],o=new Map;t=mergeOptions(PATH_PARSER_OPTIONS_DEFAULTS,t);function a(u){return o.get(u)}function n(u,m,f){const g=!f,v=normalizeRouteRecord(u);v.aliasOf=f&&f.record;const _=mergeOptions(t,u),b=[v];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const B of k)b.push(normalizeRouteRecord(assign({},v,{components:f?f.record.components:v.components,path:B,aliasOf:f?f.record:v})))}let S,V;for(const k of b){const{path:B}=k;if(m&&B[0]!=="/"){const O=m.record.path,M=O[O.length-1]==="/"?"":"/";k.path=m.record.path+(B&&M+B)}if(S=createRouteRecordMatcher(k,m,_),f?f.alias.push(S):(V=V||S,V!==S&&V.alias.push(S),g&&u.name&&!isAliasRecord(S)&&r(u.name)),isMatchable(S)&&i(S),v.children){const O=v.children;for(let M=0;M<O.length;M++)n(O[M],S,f&&f.children[M])}f=f||S}return V?()=>{r(V)}:noop$1}function r(u){if(isRouteName(u)){const m=o.get(u);m&&(o.delete(u),s.splice(s.indexOf(m),1),m.children.forEach(r),m.alias.forEach(r))}else{const m=s.indexOf(u);m>-1&&(s.splice(m,1),u.record.name&&o.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function l(){return s}function i(u){const m=findInsertionIndex(u,s);s.splice(m,0,u),u.record.name&&!isAliasRecord(u)&&o.set(u.record.name,u)}function d(u,m){let f,g={},v,_;if("name"in u&&u.name){if(f=o.get(u.name),!f)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:u});_=f.record.name,g=assign(pickParams(m.params,f.keys.filter(V=>!V.optional).concat(f.parent?f.parent.keys.filter(V=>V.optional):[]).map(V=>V.name)),u.params&&pickParams(u.params,f.keys.map(V=>V.name))),v=f.stringify(g)}else if(u.path!=null)v=u.path,f=s.find(V=>V.re.test(v)),f&&(g=f.parse(v),_=f.record.name);else{if(f=m.name?o.get(m.name):s.find(V=>V.re.test(m.path)),!f)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:u,currentLocation:m});_=f.record.name,g=assign({},m.params,u.params),v=f.stringify(g)}const b=[];let S=f;for(;S;)b.unshift(S.record),S=S.parent;return{name:_,path:v,params:g,matched:b,meta:mergeMetaFields(b)}}e.forEach(u=>n(u));function c(){s.length=0,o.clear()}return{addRoute:n,resolve:d,removeRoute:r,clearRoutes:c,getRoutes:l,getRecordMatcher:a}}function pickParams(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function normalizeRouteRecord(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function normalizeRecordProps(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,s)=>assign(t,s.meta),{})}function findInsertionIndex(e,t){let s=0,o=t.length;for(;s!==o;){const n=s+o>>1;comparePathParserScore(e,t[n])<0?o=n:s=n+1}const a=getInsertionAncestor(e);return a&&(o=t.lastIndexOf(a,o-1)),o}function getInsertionAncestor(e){let t=e;for(;t=t.parent;)if(isMatchable(t)&&comparePathParserScore(e,t)===0)return t}function isMatchable({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function useLink(e){const t=inject(routerKey),s=inject(routeLocationKey),o=computed(()=>{const i=unref(e.to);return t.resolve(i)}),a=computed(()=>{const{matched:i}=o.value,{length:d}=i,c=i[d-1],u=s.matched;if(!c||!u.length)return-1;const m=u.findIndex(isSameRouteRecord.bind(null,c));if(m>-1)return m;const f=getOriginalPath(i[d-2]);return d>1&&getOriginalPath(c)===f&&u[u.length-1].path!==f?u.findIndex(isSameRouteRecord.bind(null,i[d-2])):m}),n=computed(()=>a.value>-1&&includesParams(s.params,o.value.params)),r=computed(()=>a.value>-1&&a.value===s.matched.length-1&&isSameRouteLocationParams(s.params,o.value.params));function l(i={}){if(guardEvent(i)){const d=t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop$1);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:o,href:computed(()=>o.value.href),isActive:n,isExactActive:r,navigate:l}}function preferSingleVNode(e){return e.length===1?e[0]:e}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(e,{slots:t}){const s=reactive(useLink(e)),{options:o}=inject(routerKey),a=computed(()=>({[getLinkClass(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[getLinkClass(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const n=t.default&&preferSingleVNode(t.default(s));return e.custom?n:h("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:a.value},n)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const s in t){const o=t[s],a=e[s];if(typeof o=="string"){if(o!==a)return!1}else if(!isArray$1(a)||a.length!==o.length||o.some((n,r)=>n!==a[r]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,s)=>e??t??s,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=inject(routerViewLocationKey),a=computed(()=>e.route||o.value),n=inject(viewDepthKey,0),r=computed(()=>{let d=unref(n);const{matched:c}=a.value;let u;for(;(u=c[d])&&!u.components;)d++;return d}),l=computed(()=>a.value.matched[r.value]);provide(viewDepthKey,computed(()=>r.value+1)),provide(matchedRouteKey,l),provide(routerViewLocationKey,a);const i=ref();return watch(()=>[i.value,l.value,e.name],([d,c,u],[m,f,g])=>{c&&(c.instances[u]=d,f&&f!==c&&d&&d===m&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),d&&c&&(!f||!isSameRouteRecord(c,f)||!m)&&(c.enterCallbacks[u]||[]).forEach(v=>v(d))},{flush:"post"}),()=>{const d=a.value,c=e.name,u=l.value,m=u&&u.components[c];if(!m)return normalizeSlot(s.default,{Component:m,route:d});const f=u.props[c],g=f?f===!0?d.params:typeof f=="function"?f(d):f:null,_=h(m,assign({},g,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(u.instances[c]=null)},ref:i}));return normalizeSlot(s.default,{Component:_,route:d})||_}}});function normalizeSlot(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),s=e.parseQuery||parseQuery,o=e.stringifyQuery||stringifyQuery,a=e.history,n=useCallbacks(),r=useCallbacks(),l=useCallbacks(),i=shallowRef(START_LOCATION_NORMALIZED);let d=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=applyToParams.bind(null,D=>""+D),u=applyToParams.bind(null,encodeParam),m=applyToParams.bind(null,decode);function f(D,z){let J,se;return isRouteName(D)?(J=t.getRecordMatcher(D),se=z):se=D,t.addRoute(se,J)}function g(D){const z=t.getRecordMatcher(D);z&&t.removeRoute(z)}function v(){return t.getRoutes().map(D=>D.record)}function _(D){return!!t.getRecordMatcher(D)}function b(D,z){if(z=assign({},z||i.value),typeof D=="string"){const F=parseURL(s,D,z.path),W=t.resolve({path:F.path},z),Y=a.createHref(F.fullPath);return assign(F,W,{params:m(W.params),hash:decode(F.hash),redirectedFrom:void 0,href:Y})}let J;if(D.path!=null)J=assign({},D,{path:parseURL(s,D.path,z.path).path});else{const F=assign({},D.params);for(const W in F)F[W]==null&&delete F[W];J=assign({},D,{params:u(F)}),z.params=u(z.params)}const se=t.resolve(J,z),de=D.hash||"";se.params=c(m(se.params));const A=stringifyURL(o,assign({},D,{hash:encodeHash(de),path:se.path})),I=a.createHref(A);return assign({fullPath:A,hash:de,query:o===stringifyQuery?normalizeQuery(D.query):D.query||{}},se,{redirectedFrom:void 0,href:I})}function S(D){return typeof D=="string"?parseURL(s,D,i.value.path):assign({},D)}function V(D,z){if(d!==D)return createRouterError(ErrorTypes.NAVIGATION_CANCELLED,{from:z,to:D})}function k(D){return M(D)}function B(D){return k(assign(S(D),{replace:!0}))}function O(D,z){const J=D.matched[D.matched.length-1];if(J&&J.redirect){const{redirect:se}=J;let de=typeof se=="function"?se(D,z):se;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=S(de):{path:de},de.params={}),assign({query:D.query,hash:D.hash,params:de.path!=null?{}:D.params},de)}}function M(D,z){const J=d=b(D),se=i.value,de=D.state,A=D.force,I=D.replace===!0,F=O(J,se);if(F)return M(assign(S(F),{state:typeof F=="object"?assign({},de,F.state):de,force:A,replace:I}),z||J);const W=J;W.redirectedFrom=z;let Y;return!A&&isSameRouteLocation(o,se,J)&&(Y=createRouterError(ErrorTypes.NAVIGATION_DUPLICATED,{to:W,from:se}),ue(se,se,!0,!1)),(Y?Promise.resolve(Y):w(W,se)).catch(q=>isNavigationFailure(q)?isNavigationFailure(q,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?q:ce(q):P(q,W,se)).then(q=>{if(q){if(isNavigationFailure(q,ErrorTypes.NAVIGATION_GUARD_REDIRECT))return M(assign({replace:I},S(q.to),{state:typeof q.to=="object"?assign({},de,q.to.state):de,force:A}),z||W)}else q=y(W,se,!0,I,de);return L(W,se,q),q})}function R(D,z){const J=V(D,z);return J?Promise.reject(J):Promise.resolve()}function C(D){const z=Q.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(D):D()}function w(D,z){let J;const[se,de,A]=extractChangingRecords(D,z);J=extractComponentsGuards(se.reverse(),"beforeRouteLeave",D,z);for(const F of se)F.leaveGuards.forEach(W=>{J.push(guardToPromiseFn(W,D,z))});const I=R.bind(null,D,z);return J.push(I),oe(J).then(()=>{J=[];for(const F of n.list())J.push(guardToPromiseFn(F,D,z));return J.push(I),oe(J)}).then(()=>{J=extractComponentsGuards(de,"beforeRouteUpdate",D,z);for(const F of de)F.updateGuards.forEach(W=>{J.push(guardToPromiseFn(W,D,z))});return J.push(I),oe(J)}).then(()=>{J=[];for(const F of A)if(F.beforeEnter)if(isArray$1(F.beforeEnter))for(const W of F.beforeEnter)J.push(guardToPromiseFn(W,D,z));else J.push(guardToPromiseFn(F.beforeEnter,D,z));return J.push(I),oe(J)}).then(()=>(D.matched.forEach(F=>F.enterCallbacks={}),J=extractComponentsGuards(A,"beforeRouteEnter",D,z,C),J.push(I),oe(J))).then(()=>{J=[];for(const F of r.list())J.push(guardToPromiseFn(F,D,z));return J.push(I),oe(J)}).catch(F=>isNavigationFailure(F,ErrorTypes.NAVIGATION_CANCELLED)?F:Promise.reject(F))}function L(D,z,J){l.list().forEach(se=>C(()=>se(D,z,J)))}function y(D,z,J,se,de){const A=V(D,z);if(A)return A;const I=z===START_LOCATION_NORMALIZED,F=isBrowser?history.state:{};J&&(se||I?a.replace(D.fullPath,assign({scroll:I&&F&&F.scroll},de)):a.push(D.fullPath,de)),i.value=D,ue(D,z,J,I),ce()}let N;function E(){N||(N=a.listen((D,z,J)=>{if(!ae.listening)return;const se=b(D),de=O(se,ae.currentRoute.value);if(de){M(assign(de,{replace:!0,force:!0}),se).catch(noop$1);return}d=se;const A=i.value;isBrowser&&saveScrollPosition(getScrollKey(A.fullPath,J.delta),computeScrollPosition()),w(se,A).catch(I=>isNavigationFailure(I,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_CANCELLED)?I:isNavigationFailure(I,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?(M(assign(S(I.to),{force:!0}),se).then(F=>{isNavigationFailure(F,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===NavigationType.pop&&a.go(-1,!1)}).catch(noop$1),Promise.reject()):(J.delta&&a.go(-J.delta,!1),P(I,se,A))).then(I=>{I=I||y(se,A,!1),I&&(J.delta&&!isNavigationFailure(I,ErrorTypes.NAVIGATION_CANCELLED)?a.go(-J.delta,!1):J.type===NavigationType.pop&&isNavigationFailure(I,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&a.go(-1,!1)),L(se,A,I)}).catch(noop$1)}))}let $=useCallbacks(),H=useCallbacks(),U;function P(D,z,J){ce(D);const se=H.list();return se.length?se.forEach(de=>de(D,z,J)):console.error(D),Promise.reject(D)}function Z(){return U&&i.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((D,z)=>{$.add([D,z])})}function ce(D){return U||(U=!D,E(),$.list().forEach(([z,J])=>D?J(D):z()),$.reset()),D}function ue(D,z,J,se){const{scrollBehavior:de}=e;if(!isBrowser||!de)return Promise.resolve();const A=!J&&getSavedScrollPosition(getScrollKey(D.fullPath,0))||(se||!J)&&history.state&&history.state.scroll||null;return nextTick().then(()=>de(D,z,A)).then(I=>I&&scrollToPosition(I)).catch(I=>P(I,D,z))}const G=D=>a.go(D);let ee;const Q=new Set,ae={currentRoute:i,listening:!0,addRoute:f,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:_,getRoutes:v,resolve:b,options:e,push:k,replace:B,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:n.add,beforeResolve:r.add,afterEach:l.add,onError:H.add,isReady:Z,install(D){D.component("RouterLink",RouterLink),D.component("RouterView",RouterView),D.config.globalProperties.$router=ae,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(i)}),isBrowser&&!ee&&i.value===START_LOCATION_NORMALIZED&&(ee=!0,k(a.location).catch(se=>{}));const z={};for(const se in START_LOCATION_NORMALIZED)Object.defineProperty(z,se,{get:()=>i.value[se],enumerable:!0});D.provide(routerKey,ae),D.provide(routeLocationKey,shallowReactive(z)),D.provide(routerViewLocationKey,i);const J=D.unmount;Q.add(D),D.unmount=function(){Q.delete(D),Q.size<1&&(d=START_LOCATION_NORMALIZED,N&&N(),N=null,i.value=START_LOCATION_NORMALIZED,ee=!1,U=!1),J()}}};function oe(D){return D.reduce((z,J)=>z.then(()=>C(J)),Promise.resolve())}return ae}function useRouter(){return inject(routerKey)}function useRoute(e){return inject(routeLocationKey)}function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(e=>t=>{const s=toString.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction$1(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(toStringTag in e)&&!(iterator in e)},isEmptyObject=e=>{if(!isObject(e)||isBuffer(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction$1(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction$1(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction$1(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let o,a;if(typeof e!="object"&&(e=[e]),isArray(e))for(o=0,a=e.length;o<a;o++)t.call(null,e[o],o,e);else{if(isBuffer(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let l;for(o=0;o<r;o++)l=n[o],t.call(null,e[l],l,e)}}function findKey(e,t){if(isBuffer(e))return null;t=t.toLowerCase();const s=Object.keys(e);let o=s.length,a;for(;o-- >0;)if(a=s[o],t===a.toLowerCase())return a;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e,skipUndefined:t}=isContextDefined(this)&&this||{},s={},o=(a,n)=>{const r=e&&findKey(s,n)||n;isPlainObject(s[r])&&isPlainObject(a)?s[r]=merge(s[r],a):isPlainObject(a)?s[r]=merge({},a):isArray(a)?s[r]=a.slice():(!t||!isUndefined(a))&&(s[r]=a)};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&forEach(arguments[a],o);return s}const extend=(e,t,s,{allOwnKeys:o}={})=>(forEach(t,(a,n)=>{s&&isFunction$1(a)?e[n]=bind(a,s):e[n]=a},{allOwnKeys:o}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,s,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject=(e,t,s,o)=>{let a,n,r;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),n=a.length;n-- >0;)r=a[n],(!o||o(r,e,t))&&!l[r]&&(t[r]=e[r],l[r]=!0);e=s!==!1&&getPrototypeOf(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const o=e.indexOf(t,s);return o!==-1&&o===s},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const o=(e&&e[iterator]).call(e);let a;for(;(a=o.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll=(e,t)=>{let s;const o=[];for(;(s=e.exec(t))!==null;)o.push(s);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,a){return o.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),o={};forEach(s,(a,n)=>{let r;(r=t(a,n,e))!==!1&&(o[n]=r||a)}),Object.defineProperties(e,o)},freezeMethods=e=>{reduceDescriptors(e,(t,s)=>{if(isFunction$1(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=e[s];if(isFunction$1(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(e,t)=>{const s={},o=a=>{a.forEach(n=>{s[n]=!0})};return isArray(e)?o(e):o(String(e).split(t)),s},noop=()=>{},toFiniteNumber=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function isSpecCompliantForm(e){return!!(e&&isFunction$1(e.append)&&e[toStringTag]==="FormData"&&e[iterator])}const toJSONObject=e=>{const t=new Array(10),s=(o,a)=>{if(isObject(o)){if(t.indexOf(o)>=0)return;if(isBuffer(o))return o;if(!("toJSON"in o)){t[a]=o;const n=isArray(o)?[]:{};return forEach(o,(r,l)=>{const i=s(r,a+1);!isUndefined(i)&&(n[l]=i)}),t[a]=void 0,n}}return o};return s(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction$1(e))&&isFunction$1(e.then)&&isFunction$1(e.catch),_setImmediate=((e,t)=>e?setImmediate:t?((s,o)=>(_global.addEventListener("message",({source:a,data:n})=>{a===_global&&n===s&&o.length&&o.shift()()},!1),a=>{o.push(a),_global.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=e=>e!=null&&isFunction$1(e[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(e,t,s,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(e,t,s,o,a,n)=>{const r=Object.create(prototype$1);utils$1.toFlatObject(e,r,function(c){return c!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",i=t==null&&e?e.code:t;return AxiosError$1.call(r,l,i,s,o,a),e&&r.cause==null&&Object.defineProperty(r,"cause",{value:e,configurable:!0}),r.name=e&&e.name||"Error",n&&Object.assign(r,n),r};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,s){return e?e.concat(t).map(function(a,n){return a=removeBrackets(a),!s&&n?"["+a+"]":a}).join(s?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData$1(e,t,s){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!utils$1.isUndefined(_[v])});const o=s.metaTokens,a=s.visitor||c,n=s.dots,r=s.indexes,i=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(utils$1.isDate(g))return g.toISOString();if(utils$1.isBoolean(g))return g.toString();if(!i&&utils$1.isBlob(g))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(g)||utils$1.isTypedArray(g)?i&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,_){let b=g;if(g&&!_&&typeof g=="object"){if(utils$1.endsWith(v,"{}"))v=o?v:v.slice(0,-2),g=JSON.stringify(g);else if(utils$1.isArray(g)&&isFlatArray(g)||(utils$1.isFileList(g)||utils$1.endsWith(v,"[]"))&&(b=utils$1.toArray(g)))return v=removeBrackets(v),b.forEach(function(V,k){!(utils$1.isUndefined(V)||V===null)&&t.append(r===!0?renderKey([v],k,n):r===null?v:v+"[]",d(V))}),!1}return isVisitable(g)?!0:(t.append(renderKey(_,v,n),d(g)),!1)}const u=[],m=Object.assign(predicates,{defaultVisitor:c,convertValue:d,isVisitable});function f(g,v){if(!utils$1.isUndefined(g)){if(u.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));u.push(g),utils$1.forEach(g,function(b,S){(!(utils$1.isUndefined(b)||b===null)&&a.call(t,b,utils$1.isString(S)?S.trim():S,v,m))===!0&&f(b,v?v.concat(S):[S])}),u.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return f(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData$1(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,s){this._pairs.push([t,s])};prototype.toString=function(t){const s=t?function(o){return t.call(this,o,encode$1)}:encode$1;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(e,t,s){if(!t)return e;const o=s&&s.encode||encode;utils$1.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let n;if(a?n=a(t,s):n=utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,s).toString(o),n){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,s,o){return this.handlers.push({fulfilled:t,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$1.forEach(this.handlers,function(o){o!==null&&t(o)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,t){return toFormData$1(e,new platform.classes.URLSearchParams,{visitor:function(s,o,a,n){return platform.isNode&&utils$1.isBuffer(s)?(this.append(o,s.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...t})}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},s=Object.keys(e);let o;const a=s.length;let n;for(o=0;o<a;o++)n=s[o],t[n]=e[n];return t}function formDataToJSON(e){function t(s,o,a,n){let r=s[n++];if(r==="__proto__")return!0;const l=Number.isFinite(+r),i=n>=s.length;return r=!r&&utils$1.isArray(a)?a.length:r,i?(utils$1.hasOwnProp(a,r)?a[r]=[a[r],o]:a[r]=o,!l):((!a[r]||!utils$1.isObject(a[r]))&&(a[r]=[]),t(s,o,a[r],n)&&utils$1.isArray(a[r])&&(a[r]=arrayToObject(a[r])),!l)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const s={};return utils$1.forEachEntry(e,(o,a)=>{t(parsePropPath(o),a,s,0)}),s}return null}function stringifySafely(e,t,s){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const o=s.getContentType()||"",a=o.indexOf("application/json")>-1,n=utils$1.isObject(t);if(n&&utils$1.isHTMLForm(t)&&(t=new FormData(t)),utils$1.isFormData(t))return a?JSON.stringify(formDataToJSON(t)):t;if(utils$1.isArrayBuffer(t)||utils$1.isBuffer(t)||utils$1.isStream(t)||utils$1.isFile(t)||utils$1.isBlob(t)||utils$1.isReadableStream(t))return t;if(utils$1.isArrayBufferView(t))return t.buffer;if(utils$1.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(n){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((l=utils$1.isFileList(t))||o.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return toFormData$1(l?{"files[]":t}:t,i&&new i,this.formSerializer)}}return n||a?(s.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const s=this.transitional||defaults.transitional,o=s&&s.forcedJSONParsing,a=this.responseType==="json";if(utils$1.isResponse(t)||utils$1.isReadableStream(t))return t;if(t&&utils$1.isString(t)&&(o&&!this.responseType||a)){const r=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(r)throw l.name==="SyntaxError"?AxiosError$1.from(l,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let s,o,a;return e&&e.split(`
`).forEach(function(r){a=r.indexOf(":"),s=r.substring(0,a).trim().toLowerCase(),o=r.substring(a+1).trim(),!(!s||t[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?t[s]?t[s].push(o):t[s]=[o]:t[s]=t[s]?t[s]+", "+o:o)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(e);)t[o[1]]=o[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,s,o,a){if(utils$1.isFunction(o))return o.call(this,t,s);if(a&&(t=s),!!utils$1.isString(t)){if(utils$1.isString(o))return t.indexOf(o)!==-1;if(utils$1.isRegExp(o))return o.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,o)=>s.toUpperCase()+o)}function buildAccessors(e,t){const s=utils$1.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+s,{value:function(a,n,r){return this[o].call(this,t,a,n,r)},configurable:!0})})}let AxiosHeaders$1=class{constructor(t){t&&this.set(t)}set(t,s,o){const a=this;function n(l,i,d){const c=normalizeHeader(i);if(!c)throw new Error("header name must be a non-empty string");const u=utils$1.findKey(a,c);(!u||a[u]===void 0||d===!0||d===void 0&&a[u]!==!1)&&(a[u||i]=normalizeValue(l))}const r=(l,i)=>utils$1.forEach(l,(d,c)=>n(d,c,i));if(utils$1.isPlainObject(t)||t instanceof this.constructor)r(t,s);else if(utils$1.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))r(parseHeaders(t),s);else if(utils$1.isObject(t)&&utils$1.isIterable(t)){let l={},i,d;for(const c of t){if(!utils$1.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[d=c[0]]=(i=l[d])?utils$1.isArray(i)?[...i,c[1]]:[i,c[1]]:c[1]}r(l,s)}else t!=null&&n(s,t,o);return this}get(t,s){if(t=normalizeHeader(t),t){const o=utils$1.findKey(this,t);if(o){const a=this[o];if(!s)return a;if(s===!0)return parseTokens(a);if(utils$1.isFunction(s))return s.call(this,a,o);if(utils$1.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=normalizeHeader(t),t){const o=utils$1.findKey(this,t);return!!(o&&this[o]!==void 0&&(!s||matchHeaderValue(this,this[o],o,s)))}return!1}delete(t,s){const o=this;let a=!1;function n(r){if(r=normalizeHeader(r),r){const l=utils$1.findKey(o,r);l&&(!s||matchHeaderValue(o,o[l],l,s))&&(delete o[l],a=!0)}}return utils$1.isArray(t)?t.forEach(n):n(t),a}clear(t){const s=Object.keys(this);let o=s.length,a=!1;for(;o--;){const n=s[o];(!t||matchHeaderValue(this,this[n],n,t,!0))&&(delete this[n],a=!0)}return a}normalize(t){const s=this,o={};return utils$1.forEach(this,(a,n)=>{const r=utils$1.findKey(o,n);if(r){s[r]=normalizeValue(a),delete s[n];return}const l=t?formatHeader(n):String(n).trim();l!==n&&delete s[n],s[l]=normalizeValue(a),o[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return utils$1.forEach(this,(o,a)=>{o!=null&&o!==!1&&(s[a]=t&&utils$1.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const o=new this(t);return s.forEach(a=>o.set(a)),o}static accessor(t){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function n(r){const l=normalizeHeader(r);o[l]||(buildAccessors(a,r),o[l]=!0)}return utils$1.isArray(t)?t.forEach(n):n(t),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[s]=o}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(e,t){const s=this||defaults,o=t||s,a=AxiosHeaders$1.from(o.headers);let n=o.data;return utils$1.forEach(e,function(l){n=l.call(s,n,a.normalize(),t?t.status:void 0)}),a.normalize(),n}function isCancel$1(e){return!!(e&&e.__CANCEL__)}function CanceledError$1(e,t,s){AxiosError$1.call(this,e??"canceled",AxiosError$1.ERR_CANCELED,t,s),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(e,t,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?e(s):t(new AxiosError$1("Request failed with status code "+s.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const s=new Array(e),o=new Array(e);let a=0,n=0,r;return t=t!==void 0?t:1e3,function(i){const d=Date.now(),c=o[n];r||(r=d),s[a]=i,o[a]=d;let u=n,m=0;for(;u!==a;)m+=s[u++],u=u%e;if(a=(a+1)%e,a===n&&(n=(n+1)%e),d-r<t)return;const f=c&&d-c;return f?Math.round(m*1e3/f):void 0}}function throttle(e,t){let s=0,o=1e3/t,a,n;const r=(d,c=Date.now())=>{s=c,a=null,n&&(clearTimeout(n),n=null),e(...d)};return[(...d)=>{const c=Date.now(),u=c-s;u>=o?r(d,c):(a=d,n||(n=setTimeout(()=>{n=null,r(a)},o-u)))},()=>a&&r(a)]}const progressEventReducer=(e,t,s=3)=>{let o=0;const a=speedometer(50,250);return throttle(n=>{const r=n.loaded,l=n.lengthComputable?n.total:void 0,i=r-o,d=a(i),c=r<=l;o=r;const u={loaded:r,total:l,progress:l?r/l:void 0,bytes:i,rate:d||void 0,estimated:d&&l&&c?(l-r)/d:void 0,event:n,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(u)},s)},progressEventDecorator=(e,t)=>{const s=e!=null;return[o=>t[0]({lengthComputable:s,total:e,loaded:o}),t[1]]},asyncDecorator=e=>(...t)=>utils$1.asap(()=>e(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,platform.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,t,s,o,a,n,r){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];utils$1.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),utils$1.isString(o)&&l.push(`path=${o}`),utils$1.isString(a)&&l.push(`domain=${a}`),n===!0&&l.push("secure"),utils$1.isString(r)&&l.push(`SameSite=${r}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t,s){let o=!isAbsoluteURL(t);return e&&(o||s==!1)?combineURLs(e,t):t}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig$1(e,t){t=t||{};const s={};function o(d,c,u,m){return utils$1.isPlainObject(d)&&utils$1.isPlainObject(c)?utils$1.merge.call({caseless:m},d,c):utils$1.isPlainObject(c)?utils$1.merge({},c):utils$1.isArray(c)?c.slice():c}function a(d,c,u,m){if(utils$1.isUndefined(c)){if(!utils$1.isUndefined(d))return o(void 0,d,u,m)}else return o(d,c,u,m)}function n(d,c){if(!utils$1.isUndefined(c))return o(void 0,c)}function r(d,c){if(utils$1.isUndefined(c)){if(!utils$1.isUndefined(d))return o(void 0,d)}else return o(void 0,c)}function l(d,c,u){if(u in t)return o(d,c);if(u in e)return o(void 0,d)}const i={url:n,method:n,data:n,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(d,c,u)=>a(headersToObject(d),headersToObject(c),u,!0)};return utils$1.forEach(Object.keys({...e,...t}),function(c){const u=i[c]||a,m=u(e[c],t[c],c);utils$1.isUndefined(m)&&u!==l||(s[c]=m)}),s}const resolveConfig=e=>{const t=mergeConfig$1({},e);let{data:s,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:n,headers:r,auth:l}=t;if(t.headers=r=AxiosHeaders$1.from(r),t.url=buildURL(buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&r.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),utils$1.isFormData(s)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(utils$1.isFunction(s.getHeaders)){const i=s.getHeaders(),d=["content-type","content-length"];Object.entries(i).forEach(([c,u])=>{d.includes(c.toLowerCase())&&r.set(c,u)})}}if(platform.hasStandardBrowserEnv&&(o&&utils$1.isFunction(o)&&(o=o(t)),o||o!==!1&&isURLSameOrigin(t.url))){const i=a&&n&&cookies.read(n);i&&r.set(a,i)}return t},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(s,o){const a=resolveConfig(e);let n=a.data;const r=AxiosHeaders$1.from(a.headers).normalize();let{responseType:l,onUploadProgress:i,onDownloadProgress:d}=a,c,u,m,f,g;function v(){f&&f(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function b(){if(!_)return;const V=AxiosHeaders$1.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),B={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:V,config:e,request:_};settle(function(M){s(M),v()},function(M){o(M),v()},B),_=null}"onloadend"in _?_.onloadend=b:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(b)},_.onabort=function(){_&&(o(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,_)),_=null)},_.onerror=function(k){const B=k&&k.message?k.message:"Network Error",O=new AxiosError$1(B,AxiosError$1.ERR_NETWORK,e,_);O.event=k||null,o(O),_=null},_.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const B=a.transitional||transitionalDefaults;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),o(new AxiosError$1(k,B.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,_)),_=null},n===void 0&&r.setContentType(null),"setRequestHeader"in _&&utils$1.forEach(r.toJSON(),function(k,B){_.setRequestHeader(B,k)}),utils$1.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),l&&l!=="json"&&(_.responseType=a.responseType),d&&([m,g]=progressEventReducer(d,!0),_.addEventListener("progress",m)),i&&_.upload&&([u,f]=progressEventReducer(i),_.upload.addEventListener("progress",u),_.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(c=V=>{_&&(o(!V||V.type?new CanceledError$1(null,e,_):V),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const S=parseProtocol(a.url);if(S&&platform.protocols.indexOf(S)===-1){o(new AxiosError$1("Unsupported protocol "+S+":",AxiosError$1.ERR_BAD_REQUEST,e));return}_.send(n||null)})},composeSignals=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let o=new AbortController,a;const n=function(d){if(!a){a=!0,l();const c=d instanceof Error?d:this.reason;o.abort(c instanceof AxiosError$1?c:new CanceledError$1(c instanceof Error?c.message:c))}};let r=t&&setTimeout(()=>{r=null,n(new AxiosError$1(`timeout ${t} of ms exceeded`,AxiosError$1.ETIMEDOUT))},t);const l=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(n):d.removeEventListener("abort",n)}),e=null)};e.forEach(d=>d.addEventListener("abort",n));const{signal:i}=o;return i.unsubscribe=()=>utils$1.asap(l),i}},streamChunk=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let o=0,a;for(;o<s;)a=o+t,yield e.slice(o,a),o=a},readBytes=async function*(e,t){for await(const s of readStream(e))yield*streamChunk(s,t)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:o}=await t.read();if(s)break;yield o}}finally{await t.cancel()}},trackStream=(e,t,s,o)=>{const a=readBytes(e,t);let n=0,r,l=i=>{r||(r=!0,o&&o(i))};return new ReadableStream({async pull(i){try{const{done:d,value:c}=await a.next();if(d){l(),i.close();return}let u=c.byteLength;if(s){let m=n+=u;s(m)}i.enqueue(new Uint8Array(c))}catch(d){throw l(d),d}},cancel(i){return l(i),a.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction}=utils$1,globalFetchAPI=(({Request:e,Response:t})=>({Request:e,Response:t}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder}=utils$1.global,test=(e,...t)=>{try{return!!e(...t)}catch{return!1}},factory=e=>{e=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,e);const{fetch:t,Request:s,Response:o}=e,a=t?isFunction(t):typeof fetch=="function",n=isFunction(s),r=isFunction(o);if(!a)return!1;const l=a&&isFunction(ReadableStream$1),i=a&&(typeof TextEncoder=="function"?(g=>v=>g.encode(v))(new TextEncoder):async g=>new Uint8Array(await new s(g).arrayBuffer())),d=n&&l&&test(()=>{let g=!1;const v=new s(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),c=r&&l&&test(()=>utils$1.isReadableStream(new o("").body)),u={stream:c&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!u[g]&&(u[g]=(v,_)=>{let b=v&&v[g];if(b)return b.call(v);throw new AxiosError$1(`Response type '${g}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,_)})});const m=async g=>{if(g==null)return 0;if(utils$1.isBlob(g))return g.size;if(utils$1.isSpecCompliantForm(g))return(await new s(platform.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(g)||utils$1.isArrayBuffer(g))return g.byteLength;if(utils$1.isURLSearchParams(g)&&(g=g+""),utils$1.isString(g))return(await i(g)).byteLength},f=async(g,v)=>{const _=utils$1.toFiniteNumber(g.getContentLength());return _??m(v)};return async g=>{let{url:v,method:_,data:b,signal:S,cancelToken:V,timeout:k,onDownloadProgress:B,onUploadProgress:O,responseType:M,headers:R,withCredentials:C="same-origin",fetchOptions:w}=resolveConfig(g),L=t||fetch;M=M?(M+"").toLowerCase():"text";let y=composeSignals([S,V&&V.toAbortSignal()],k),N=null;const E=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let $;try{if(O&&d&&_!=="get"&&_!=="head"&&($=await f(R,b))!==0){let ue=new s(v,{method:"POST",body:b,duplex:"half"}),G;if(utils$1.isFormData(b)&&(G=ue.headers.get("content-type"))&&R.setContentType(G),ue.body){const[ee,Q]=progressEventDecorator($,progressEventReducer(asyncDecorator(O)));b=trackStream(ue.body,DEFAULT_CHUNK_SIZE,ee,Q)}}utils$1.isString(C)||(C=C?"include":"omit");const H=n&&"credentials"in s.prototype,U={...w,signal:y,method:_.toUpperCase(),headers:R.normalize().toJSON(),body:b,duplex:"half",credentials:H?C:void 0};N=n&&new s(v,U);let P=await(n?L(N,w):L(v,U));const Z=c&&(M==="stream"||M==="response");if(c&&(B||Z&&E)){const ue={};["status","statusText","headers"].forEach(ae=>{ue[ae]=P[ae]});const G=utils$1.toFiniteNumber(P.headers.get("content-length")),[ee,Q]=B&&progressEventDecorator(G,progressEventReducer(asyncDecorator(B),!0))||[];P=new o(trackStream(P.body,DEFAULT_CHUNK_SIZE,ee,()=>{Q&&Q(),E&&E()}),ue)}M=M||"text";let ce=await u[utils$1.findKey(u,M)||"text"](P,g);return!Z&&E&&E(),await new Promise((ue,G)=>{settle(ue,G,{data:ce,headers:AxiosHeaders$1.from(P.headers),status:P.status,statusText:P.statusText,config:g,request:N})})}catch(H){throw E&&E(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,g,N),{cause:H.cause||H}):AxiosError$1.from(H,H&&H.code,g,N)}}},seedCache=new Map,getFetch=e=>{let t=e&&e.env||{};const{fetch:s,Request:o,Response:a}=t,n=[o,a,s];let r=n.length,l=r,i,d,c=seedCache;for(;l--;)i=n[l],d=c.get(i),d===void 0&&c.set(i,d=l?new Map:factory(t)),c=d;return d};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1;function getAdapter$1(e,t){e=utils$1.isArray(e)?e:[e];const{length:s}=e;let o,a;const n={};for(let r=0;r<s;r++){o=e[r];let l;if(a=o,!isResolvedHandle(o)&&(a=knownAdapters[(l=String(o)).toLowerCase()],a===void 0))throw new AxiosError$1(`Unknown adapter '${l}'`);if(a&&(utils$1.isFunction(a)||(a=a.get(t))))break;n[l||"#"+r]=a}if(!a){const r=Object.entries(n).map(([i,d])=>`adapter ${i} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?r.length>1?`since :
`+r.map(renderReason).join(`
`):" "+renderReason(r[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults.adapter,e)(e).then(function(o){return throwIfCancellationRequested(e),o.data=transformData.call(e,e.transformResponse,o),o.headers=AxiosHeaders$1.from(o.headers),o},function(o){return isCancel$1(o)||(throwIfCancellationRequested(e),o&&o.response&&(o.response.data=transformData.call(e,e.transformResponse,o.response),o.response.headers=AxiosHeaders$1.from(o.response.headers))),Promise.reject(o)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,s,o){function a(n,r){return"[Axios v"+VERSION$1+"] Transitional option '"+n+"'"+r+(o?". "+o:"")}return(n,r,l)=>{if(t===!1)throw new AxiosError$1(a(r," has been removed"+(s?" in "+s:"")),AxiosError$1.ERR_DEPRECATED);return s&&!deprecatedWarnings[r]&&(deprecatedWarnings[r]=!0,console.warn(a(r," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(n,r,l):!0}};validators$1.spelling=function(t){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function assertOptions(e,t,s){if(typeof e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let a=o.length;for(;a-- >0;){const n=o[a],r=t[n];if(r){const l=e[n],i=l===void 0||r(l,n,e);if(i!==!0)throw new AxiosError$1("option "+n+" must be "+i,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError$1("Unknown option "+n,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(t){this.defaults=t||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,s){try{return await this._request(t,s)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const n=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?n&&!String(o.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+n):o.stack=n}catch{}}throw o}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=mergeConfig$1(this.defaults,s);const{transitional:o,paramsSerializer:a,headers:n}=s;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),a!=null&&(utils$1.isFunction(a)?s.paramsSerializer={serialize:a}:validator.assertOptions(a,{encode:validators.function,serialize:validators.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),validator.assertOptions(s,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r=n&&utils$1.merge(n.common,n[s.method]);n&&utils$1.forEach(["delete","get","head","post","put","patch","common"],g=>{delete n[g]}),s.headers=AxiosHeaders$1.concat(r,n);const l=[];let i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(i=i&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let c,u=0,m;if(!i){const g=[dispatchRequest.bind(this),void 0];for(g.unshift(...l),g.push(...d),m=g.length,c=Promise.resolve(s);u<m;)c=c.then(g[u++],g[u++]);return c}m=l.length;let f=s;for(;u<m;){const g=l[u++],v=l[u++];try{f=g(f)}catch(_){v.call(this,_);break}}try{c=dispatchRequest.call(this,f)}catch(g){return Promise.reject(g)}for(u=0,m=d.length;u<m;)c=c.then(d[u++],d[u++]);return c}getUri(t){t=mergeConfig$1(this.defaults,t);const s=buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls);return buildURL(s,t.params,t.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(s,o){return this.request(mergeConfig$1(o||{},{method:t,url:s,data:(o||{}).data}))}});utils$1.forEach(["post","put","patch"],function(t){function s(o){return function(n,r,l){return this.request(mergeConfig$1(l||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Axios$1.prototype[t]=s(),Axios$1.prototype[t+"Form"]=s(!0)});let CancelToken$1=class $e{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(n){s=n});const o=this;this.promise.then(a=>{if(!o._listeners)return;let n=o._listeners.length;for(;n-- >0;)o._listeners[n](a);o._listeners=null}),this.promise.then=a=>{let n;const r=new Promise(l=>{o.subscribe(l),n=l}).then(a);return r.cancel=function(){o.unsubscribe(n)},r},t(function(n,r,l){o.reason||(o.reason=new CanceledError$1(n,r,l),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=o=>{t.abort(o)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new $e(function(a){t=a}),cancel:t}}};function spread$1(e){return function(s){return e.apply(null,s)}}function isAxiosError$1(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([e,t])=>{HttpStatusCode$1[t]=e});function createInstance(e){const t=new Axios$1(e),s=bind(Axios$1.prototype.request,t);return utils$1.extend(s,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return createInstance(mergeConfig$1(e,a))},s}const axios=createInstance(defaults);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(t){return Promise.all(t)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;function getCookie(e){const t=document.cookie.match(new RegExp("(^|;\\s*)"+e+"=([^;]+)"));return t?decodeURIComponent(t[2]):null}const api=axios.create({baseURL:"https://clic-stream-api.cambioperu.org",withCredentials:!0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});api.interceptors.request.use(e=>{const t=getCookie("XSRF-TOKEN");return t&&(e.headers["X-XSRF-TOKEN"]=t),e});let fetchPromise=null;const useAuthStore=defineStore("auth",{state:()=>({user:null,initialized:!1}),getters:{isAuthenticated:e=>!!e.user,menuSections:e=>{const s=(e.user?.permissions||[]).filter(r=>r.is_menu);if(!s.length)return[];const o=s.reduce((r,l)=>{const i=l.parent_id||"root";return r[i]=r[i]||[],r[i].push(l),r},{}),a=(r,l)=>(r.sort_order??0)-(l.sort_order??0);return(o.root||[]).sort(a).map(r=>({title:r.menu_label||r.name,icon:r.icon||"bi-circle",to:r.menu_path||"#",children:(o[r.id]||[]).sort(a).map(l=>({label:l.menu_label||l.name,to:l.menu_path||"#",icon:l.icon||"bi-dot"}))}))},can:e=>t=>(e.user?.permissions||[]).some(o=>o.name===t)},actions:{async fetchUser(){if(fetchPromise)return fetchPromise;fetchPromise=(async()=>{try{const{data:e}=await api.get("/api/user",{params:{include:"balances"}});this.user=e}finally{this.initialized=!0}})();try{return await fetchPromise}finally{fetchPromise=null}},async login(e,t,s=!1){await api.get("/sanctum/csrf-cookie"),await api.post("/login",{email:e,password:t,remember:s}),await this.fetchUser()},async register(e){return await api.get("/sanctum/csrf-cookie"),api.post("/register",e)},async logout(){await api.post("/logout"),this.user=null,this.initialized=!0},async updateProfile(e){await api.put("/api/user/profile",e),await this.fetchUser()},async updatePassword(e){await api.put("/api/user/password",e)}}});function useAuth(){return useAuthStore()}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),s}var md5={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,(function(e){(function(){var t="input is invalid type",s="finalize already called",o=typeof window=="object",a=o?window:{};a.JS_MD5_NO_WINDOW&&(o=!1);var n=!o&&typeof self=="object",r=!a.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;r?a=commonjsGlobal:n&&(a=self);var l=!a.JS_MD5_NO_COMMON_JS&&!0&&e.exports,i=!a.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),c=[128,32768,8388608,-2147483648],u=[0,8,16,24],m=["hex","array","digest","buffer","arrayBuffer","base64"],f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),g=[],v;if(i){var _=new ArrayBuffer(68);v=new Uint8Array(_),g=new Uint32Array(_)}var b=Array.isArray;(a.JS_MD5_NO_NODE_JS||!b)&&(b=function(y){return Object.prototype.toString.call(y)==="[object Array]"});var S=ArrayBuffer.isView;i&&(a.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!S)&&(S=function(y){return typeof y=="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});var V=function(y){var N=typeof y;if(N==="string")return[y,!0];if(N!=="object"||y===null)throw new Error(t);if(i&&y.constructor===ArrayBuffer)return[new Uint8Array(y),!1];if(!b(y)&&!S(y))throw new Error(t);return[y,!1]},k=function(y){return function(N){return new C(!0).update(N)[y]()}},B=function(){var y=k("hex");r&&(y=O(y)),y.create=function(){return new C},y.update=function($){return y.create().update($)};for(var N=0;N<m.length;++N){var E=m[N];y[E]=k(E)}return y},O=function(y){var N=require$$1,E=require$$1.Buffer,$;E.from&&!a.JS_MD5_NO_BUFFER_FROM?$=E.from:$=function(U){return new E(U)};var H=function(U){if(typeof U=="string")return N.createHash("md5").update(U,"utf8").digest("hex");if(U==null)throw new Error(t);return U.constructor===ArrayBuffer&&(U=new Uint8Array(U)),b(U)||S(U)||U.constructor===E?N.createHash("md5").update($(U)).digest("hex"):y(U)};return H},M=function(y){return function(N,E){return new w(N,!0).update(E)[y]()}},R=function(){var y=M("hex");y.create=function($){return new w($)},y.update=function($,H){return y.create($).update(H)};for(var N=0;N<m.length;++N){var E=m[N];y[E]=M(E)}return y};function C(y){if(y)g[0]=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0,this.blocks=g,this.buffer8=v;else if(i){var N=new ArrayBuffer(68);this.buffer8=new Uint8Array(N),this.blocks=new Uint32Array(N)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}C.prototype.update=function(y){if(this.finalized)throw new Error(s);var N=V(y);y=N[0];for(var E=N[1],$,H=0,U,P=y.length,Z=this.blocks,ce=this.buffer8;H<P;){if(this.hashed&&(this.hashed=!1,Z[0]=Z[16],Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),E)if(i)for(U=this.start;H<P&&U<64;++H)$=y.charCodeAt(H),$<128?ce[U++]=$:$<2048?(ce[U++]=192|$>>>6,ce[U++]=128|$&63):$<55296||$>=57344?(ce[U++]=224|$>>>12,ce[U++]=128|$>>>6&63,ce[U++]=128|$&63):($=65536+(($&1023)<<10|y.charCodeAt(++H)&1023),ce[U++]=240|$>>>18,ce[U++]=128|$>>>12&63,ce[U++]=128|$>>>6&63,ce[U++]=128|$&63);else for(U=this.start;H<P&&U<64;++H)$=y.charCodeAt(H),$<128?Z[U>>>2]|=$<<u[U++&3]:$<2048?(Z[U>>>2]|=(192|$>>>6)<<u[U++&3],Z[U>>>2]|=(128|$&63)<<u[U++&3]):$<55296||$>=57344?(Z[U>>>2]|=(224|$>>>12)<<u[U++&3],Z[U>>>2]|=(128|$>>>6&63)<<u[U++&3],Z[U>>>2]|=(128|$&63)<<u[U++&3]):($=65536+(($&1023)<<10|y.charCodeAt(++H)&1023),Z[U>>>2]|=(240|$>>>18)<<u[U++&3],Z[U>>>2]|=(128|$>>>12&63)<<u[U++&3],Z[U>>>2]|=(128|$>>>6&63)<<u[U++&3],Z[U>>>2]|=(128|$&63)<<u[U++&3]);else if(i)for(U=this.start;H<P&&U<64;++H)ce[U++]=y[H];else for(U=this.start;H<P&&U<64;++H)Z[U>>>2]|=y[H]<<u[U++&3];this.lastByteIndex=U,this.bytes+=U-this.start,U>=64?(this.start=U-64,this.hash(),this.hashed=!0):this.start=U}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,N=this.lastByteIndex;y[N>>>2]|=c[N&3],N>=56&&(this.hashed||this.hash(),y[0]=y[16],y[16]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=y[10]=y[11]=y[12]=y[13]=y[14]=y[15]=0),y[14]=this.bytes<<3,y[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},C.prototype.hash=function(){var y,N,E,$,H,U,P=this.blocks;this.first?(y=P[0]-680876937,y=(y<<7|y>>>25)-271733879<<0,$=(-1732584194^y&2004318071)+P[1]-117830708,$=($<<12|$>>>20)+y<<0,E=(-271733879^$&(y^-271733879))+P[2]-1126478375,E=(E<<17|E>>>15)+$<<0,N=(y^E&($^y))+P[3]-1316259209,N=(N<<22|N>>>10)+E<<0):(y=this.h0,N=this.h1,E=this.h2,$=this.h3,y+=($^N&(E^$))+P[0]-680876936,y=(y<<7|y>>>25)+N<<0,$+=(E^y&(N^E))+P[1]-389564586,$=($<<12|$>>>20)+y<<0,E+=(N^$&(y^N))+P[2]+606105819,E=(E<<17|E>>>15)+$<<0,N+=(y^E&($^y))+P[3]-1044525330,N=(N<<22|N>>>10)+E<<0),y+=($^N&(E^$))+P[4]-176418897,y=(y<<7|y>>>25)+N<<0,$+=(E^y&(N^E))+P[5]+1200080426,$=($<<12|$>>>20)+y<<0,E+=(N^$&(y^N))+P[6]-1473231341,E=(E<<17|E>>>15)+$<<0,N+=(y^E&($^y))+P[7]-45705983,N=(N<<22|N>>>10)+E<<0,y+=($^N&(E^$))+P[8]+1770035416,y=(y<<7|y>>>25)+N<<0,$+=(E^y&(N^E))+P[9]-1958414417,$=($<<12|$>>>20)+y<<0,E+=(N^$&(y^N))+P[10]-42063,E=(E<<17|E>>>15)+$<<0,N+=(y^E&($^y))+P[11]-1990404162,N=(N<<22|N>>>10)+E<<0,y+=($^N&(E^$))+P[12]+1804603682,y=(y<<7|y>>>25)+N<<0,$+=(E^y&(N^E))+P[13]-40341101,$=($<<12|$>>>20)+y<<0,E+=(N^$&(y^N))+P[14]-1502002290,E=(E<<17|E>>>15)+$<<0,N+=(y^E&($^y))+P[15]+1236535329,N=(N<<22|N>>>10)+E<<0,y+=(E^$&(N^E))+P[1]-165796510,y=(y<<5|y>>>27)+N<<0,$+=(N^E&(y^N))+P[6]-1069501632,$=($<<9|$>>>23)+y<<0,E+=(y^N&($^y))+P[11]+643717713,E=(E<<14|E>>>18)+$<<0,N+=($^y&(E^$))+P[0]-373897302,N=(N<<20|N>>>12)+E<<0,y+=(E^$&(N^E))+P[5]-701558691,y=(y<<5|y>>>27)+N<<0,$+=(N^E&(y^N))+P[10]+38016083,$=($<<9|$>>>23)+y<<0,E+=(y^N&($^y))+P[15]-660478335,E=(E<<14|E>>>18)+$<<0,N+=($^y&(E^$))+P[4]-405537848,N=(N<<20|N>>>12)+E<<0,y+=(E^$&(N^E))+P[9]+568446438,y=(y<<5|y>>>27)+N<<0,$+=(N^E&(y^N))+P[14]-1019803690,$=($<<9|$>>>23)+y<<0,E+=(y^N&($^y))+P[3]-187363961,E=(E<<14|E>>>18)+$<<0,N+=($^y&(E^$))+P[8]+1163531501,N=(N<<20|N>>>12)+E<<0,y+=(E^$&(N^E))+P[13]-1444681467,y=(y<<5|y>>>27)+N<<0,$+=(N^E&(y^N))+P[2]-51403784,$=($<<9|$>>>23)+y<<0,E+=(y^N&($^y))+P[7]+1735328473,E=(E<<14|E>>>18)+$<<0,N+=($^y&(E^$))+P[12]-1926607734,N=(N<<20|N>>>12)+E<<0,H=N^E,y+=(H^$)+P[5]-378558,y=(y<<4|y>>>28)+N<<0,$+=(H^y)+P[8]-2022574463,$=($<<11|$>>>21)+y<<0,U=$^y,E+=(U^N)+P[11]+1839030562,E=(E<<16|E>>>16)+$<<0,N+=(U^E)+P[14]-35309556,N=(N<<23|N>>>9)+E<<0,H=N^E,y+=(H^$)+P[1]-1530992060,y=(y<<4|y>>>28)+N<<0,$+=(H^y)+P[4]+1272893353,$=($<<11|$>>>21)+y<<0,U=$^y,E+=(U^N)+P[7]-155497632,E=(E<<16|E>>>16)+$<<0,N+=(U^E)+P[10]-1094730640,N=(N<<23|N>>>9)+E<<0,H=N^E,y+=(H^$)+P[13]+681279174,y=(y<<4|y>>>28)+N<<0,$+=(H^y)+P[0]-358537222,$=($<<11|$>>>21)+y<<0,U=$^y,E+=(U^N)+P[3]-722521979,E=(E<<16|E>>>16)+$<<0,N+=(U^E)+P[6]+76029189,N=(N<<23|N>>>9)+E<<0,H=N^E,y+=(H^$)+P[9]-640364487,y=(y<<4|y>>>28)+N<<0,$+=(H^y)+P[12]-421815835,$=($<<11|$>>>21)+y<<0,U=$^y,E+=(U^N)+P[15]+530742520,E=(E<<16|E>>>16)+$<<0,N+=(U^E)+P[2]-995338651,N=(N<<23|N>>>9)+E<<0,y+=(E^(N|~$))+P[0]-198630844,y=(y<<6|y>>>26)+N<<0,$+=(N^(y|~E))+P[7]+1126891415,$=($<<10|$>>>22)+y<<0,E+=(y^($|~N))+P[14]-1416354905,E=(E<<15|E>>>17)+$<<0,N+=($^(E|~y))+P[5]-57434055,N=(N<<21|N>>>11)+E<<0,y+=(E^(N|~$))+P[12]+1700485571,y=(y<<6|y>>>26)+N<<0,$+=(N^(y|~E))+P[3]-1894986606,$=($<<10|$>>>22)+y<<0,E+=(y^($|~N))+P[10]-1051523,E=(E<<15|E>>>17)+$<<0,N+=($^(E|~y))+P[1]-2054922799,N=(N<<21|N>>>11)+E<<0,y+=(E^(N|~$))+P[8]+1873313359,y=(y<<6|y>>>26)+N<<0,$+=(N^(y|~E))+P[15]-30611744,$=($<<10|$>>>22)+y<<0,E+=(y^($|~N))+P[6]-1560198380,E=(E<<15|E>>>17)+$<<0,N+=($^(E|~y))+P[13]+1309151649,N=(N<<21|N>>>11)+E<<0,y+=(E^(N|~$))+P[4]-145523070,y=(y<<6|y>>>26)+N<<0,$+=(N^(y|~E))+P[11]-1120210379,$=($<<10|$>>>22)+y<<0,E+=(y^($|~N))+P[2]+718787259,E=(E<<15|E>>>17)+$<<0,N+=($^(E|~y))+P[9]-343485551,N=(N<<21|N>>>11)+E<<0,this.first?(this.h0=y+1732584193<<0,this.h1=N-271733879<<0,this.h2=E-1732584194<<0,this.h3=$+271733878<<0,this.first=!1):(this.h0=this.h0+y<<0,this.h1=this.h1+N<<0,this.h2=this.h2+E<<0,this.h3=this.h3+$<<0)},C.prototype.hex=function(){this.finalize();var y=this.h0,N=this.h1,E=this.h2,$=this.h3;return d[y>>>4&15]+d[y&15]+d[y>>>12&15]+d[y>>>8&15]+d[y>>>20&15]+d[y>>>16&15]+d[y>>>28&15]+d[y>>>24&15]+d[N>>>4&15]+d[N&15]+d[N>>>12&15]+d[N>>>8&15]+d[N>>>20&15]+d[N>>>16&15]+d[N>>>28&15]+d[N>>>24&15]+d[E>>>4&15]+d[E&15]+d[E>>>12&15]+d[E>>>8&15]+d[E>>>20&15]+d[E>>>16&15]+d[E>>>28&15]+d[E>>>24&15]+d[$>>>4&15]+d[$&15]+d[$>>>12&15]+d[$>>>8&15]+d[$>>>20&15]+d[$>>>16&15]+d[$>>>28&15]+d[$>>>24&15]},C.prototype.toString=C.prototype.hex,C.prototype.digest=function(){this.finalize();var y=this.h0,N=this.h1,E=this.h2,$=this.h3;return[y&255,y>>>8&255,y>>>16&255,y>>>24&255,N&255,N>>>8&255,N>>>16&255,N>>>24&255,E&255,E>>>8&255,E>>>16&255,E>>>24&255,$&255,$>>>8&255,$>>>16&255,$>>>24&255]},C.prototype.array=C.prototype.digest,C.prototype.arrayBuffer=function(){this.finalize();var y=new ArrayBuffer(16),N=new Uint32Array(y);return N[0]=this.h0,N[1]=this.h1,N[2]=this.h2,N[3]=this.h3,y},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.base64=function(){for(var y,N,E,$="",H=this.array(),U=0;U<15;)y=H[U++],N=H[U++],E=H[U++],$+=f[y>>>2]+f[(y<<4|N>>>4)&63]+f[(N<<2|E>>>6)&63]+f[E&63];return y=H[U],$+=f[y>>>2]+f[y<<4&63]+"==",$};function w(y,N){var E,$=V(y);if(y=$[0],$[1]){var H=[],U=y.length,P=0,Z;for(E=0;E<U;++E)Z=y.charCodeAt(E),Z<128?H[P++]=Z:Z<2048?(H[P++]=192|Z>>>6,H[P++]=128|Z&63):Z<55296||Z>=57344?(H[P++]=224|Z>>>12,H[P++]=128|Z>>>6&63,H[P++]=128|Z&63):(Z=65536+((Z&1023)<<10|y.charCodeAt(++E)&1023),H[P++]=240|Z>>>18,H[P++]=128|Z>>>12&63,H[P++]=128|Z>>>6&63,H[P++]=128|Z&63);y=H}y.length>64&&(y=new C(!0).update(y).array());var ce=[],ue=[];for(E=0;E<64;++E){var G=y[E]||0;ce[E]=92^G,ue[E]=54^G}C.call(this,N),this.update(ue),this.oKeyPad=ce,this.inner=!0,this.sharedMemory=N}w.prototype=new C,w.prototype.finalize=function(){if(C.prototype.finalize.call(this),this.inner){this.inner=!1;var y=this.array();C.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(y),C.prototype.finalize.call(this)}};var L=B();L.md5=L,L.md5.hmac=R(),l?e.exports=L:a.md5=L})()})(md5)),md5.exports}var md5Exports=requireMd5();function areObjEquals(e,t){let s=!0;for(let[o,a]of Object.entries(e))if(Object.prototype.hasOwnProperty.call(t,o)?t[o]!==a&&(s=!1):s=!1,!s)break;return s}function createModelStore(model,state={},getters={},actions={}){const defData={key:"id",responseAdapter:e=>e?.data?.data??e?.data??e,paginationAdapter:e=>e?.data?.meta??null},config=Object.assign(defData,model.getStoreConfig());let check=(e,t)=>e[config.key]===t[config.key];if(config.hasKey){if(Array.isArray(config.key)){let check_str=config.key.reduce((e,t)=>e+` d['${t}'] === data['${t}'] &&`,"(d,data)=>{return");check_str=check_str.substring(0,check_str.length-2),check_str+="}",check=eval(check_str)}}else console.warn(`El modulo ${config.moduleAlias} no tiene Keys, esto reducira el rendimiento`),check=(e,t)=>areObjEquals(e,t);return{state:()=>({itemSelected:{loading:!1,...model.getDefault()},items:[],keysAsinc:[],keysTemp:[],key:config.key,moduleAlias:config.moduleAlias,maxRelationsResolve:config.maxRelationsResolve,relations:config.relations,syncStatus:config.sync,paginate:config.paginate,pagination:config.pagination,selectedStatus:!1,timeOutAsinc:null,check,resolve:e=>e,...state}),getters:{default:()=>model.getDefault(),name:({items:e,key:t})=>s=>{const o=e.find(a=>a[t]===s);return o?o[model.getNameAttribute()]:null},find:({items:e,key:t,resolve:s})=>(o,a=1)=>{const n=e.find(r=>r[t]===Number(o));return n?s(n,a):model.getDefault()},list:({items:e,resolve:t})=>e.map(t),filter:({items:e,resolve:t})=>(s,o=1)=>e.filter(s).map(a=>t(a,o)),selected:({itemSelected:e,selectedStatus:t,resolve:s})=>t&&s(e),...getters},actions:{checkAsinc(e){return new Promise(t=>{const s=()=>{let o=[];o=o.concat(this.keysTemp),Array.isArray(o)?this.keysAsinc=this.keysAsinc.concat(o):this.keysAsinc.push(o),this.keysTemp=[];let a={};a[this.key]=["IN"].concat(o),this.getSome(a),this.timeOutAsinc=null};if(Array.isArray(e)){let o=e;e.forEach((a,n)=>{(this.items.findIndex(r=>r[this.key]==a)!=-1||this.keysAsinc.indexOf(a)!=-1||this.keysTemp.indexOf(a)!=-1)&&o.splice(n,1)}),o.length>0&&(this.keysTemp=this.keysTemp.concat(o)),this.timeOutAsinc==null&&(this.timeOutAsinc=setTimeout(s,100)),t(o)}else{const o=this.find(e);o[this.key]==null&&(!this.keysAsinc.find(a=>a==e)&&!this.keysTemp.find(a=>a==e)&&this.keysTemp.push(e),this.timeOutAsinc==null&&(this.timeOutAsinc=setTimeout(s,100))),t(o)}})},show(e){return new Promise((t,s)=>{model.show(e).then(o=>{this.syncItem(config.responseAdapter(o)),t(o)}).catch(s)})},async get(e={},t={}){const s=this.syncStatus?"sync":"setItems";if(this.paginate&&(e={...e,...Object.assign({page:this.pagination.current_page,per_page:this.pagination.per_page},t)}),await model.saved(e))this[s](model.getFromLocalStorage()),this.afterGet();else return new Promise((o,a)=>{model.getAll(e).then(n=>{const r=config.responseAdapter(n);if(model.save(r),this[s](r),this.paginate){const l=config.paginationAdapter(n);l&&(this.pagination=Object.assign(this.pagination,l))}this.afterGet(),o(n)}).catch(a)})},async getPage(e={},t={}){return model.paginate&&(e={...e,...Object.assign({page:this.pagination.current_page,per_page:this.pagination.per_page},t)}),this.get(e)},getSome(e={}){return new Promise((t,s)=>{model.getAll(e).then(o=>{this.sync(config.responseAdapter(o)),this.afterGet(),t(o)}).catch(s)})},clearAndGet(e={}){return new Promise((t,s)=>{this.setItems([]),model.getAll(e).then(o=>{this.setItems(config.responseAdapter(o)),this.afterGet(),t(o)}).catch(s)})},afterGet(){},create(e){return new Promise((t,s)=>{model.create(e).then(o=>{this.syncItem(config.responseAdapter(o)),t(o)}).catch(o=>{s(o)})})},update(e){return new Promise((t,s)=>{model.update(e).then(o=>{this.syncItem(config.responseAdapter(o)),t(o)}).catch(o=>{s(o)})})},delete(e){return new Promise((t,s)=>{model.delete(e).then(o=>{let a=this.items.findIndex(n=>this.check(n,e));this.items.splice(a,1),t(o)}).catch(o=>{s(o)})})},setItems(e){this.items=e},setSyncStatus(e){this.syncStatus=e},sync(e){typeof e=="object"&&e!==null&&(Array.isArray(e)?this.syncItems(e):this.syncItem(e))},addToRelation({relation:e,id:t,relations:s}){if(this.relations.some(o=>o.alias==e)){let o=this.items.findIndex(a=>a[this.key]===t);Array.isArray(s)?this.items[o][e]=this.items[o][e].cocat(s):this.items[o][e].push(s)}},syncItems(e){e=e.filter((s,o,a)=>a.findIndex(n=>this.check(n,s))===o);let t=e.filter(s=>{let o=this.items.findIndex(a=>this.check(a,s));return o>-1?(this.items[o]=Object.assign(this.items[o],s),!1):!0});this.items=this.items.concat(t)},syncItem(e){if(this.find(e[this.key])[this.key]!==null&&this.find(e[this.key])[this.key]!==void 0){let t=this.items.findIndex(s=>this.check(s,e));this.items[t]=Object.assign(this.items[t],e)}else this.items.push(e)},setPageSize(e){this.pagination.per_page=e},SET_ITEMS(e){this.items=e},ADD_ITEMS(e){Array.isArray(e)?this.items=this.items.concat(e):this.items.push(e)},...actions}}}class Model{constructor(t,s=null){this.instance=s??axios.create();let o={alias:null,route:null,hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{},params:{modeljs:!0},modelGetters:{},paginate:!1,pagination:{current_page:1,per_page:10},responseAdapter:a=>a?.data?.data??a?.data??a,paginationAdapter:a=>a?.data?.meta??null};o=Object.assign(o,t),this.alias=o.alias,this.route=o.route,this.hash=o.hash,this.sync=o.sync,this.store=o.store;for(const a in o.methods)this[a]=o.methods[a];this.singular=o.singular,this.plural=o.plural,this.key=o.key,this.hasKey=o.hasKey,this.name=o.name,this.maxRelationsResolve=o.maxRelationsResolve,this.relations=o.relations,this.selectable=o.selectable,this.default=o.default,this.params=o.params,this.modelGetters=o.modelGetters,this.paginate=o.paginate,this.pagination=o.pagination,this.responseAdapter=o.responseAdapter,this.paginationAdapter=o.paginationAdapter,this.state={},this.getters={},this.actions={}}get(t="",s={},o={}){return s=Object.assign(s,this.params),t=this.route+"/"+t,this.instance.get(t,{params:s},o)}post(t="",s={}){return s=Object.assign(s,this.params),t=this.route+"/"+t,this.instance.post(t,s)}getAll(t={},s={}){return t=Object.assign(t,this.params),this.instance.get(this.route,{params:t},s)}create(t){return t=Object.assign(t,this.params),this.instance.post(this.route,t)}show(t){let s=null,o=this.params;return typeof t=="object"?(s=t[this.key],o=Object.assign(t,this.params)):s=t,this.instance.get(this.route+"/"+s,{params:o})}update(t){return t=Object.assign(t,this.params),this.instance.put(this.route+"/"+t[this.key],t)}delete(t){return this.instance.delete(this.route+"/"+t[this.key],{params:this.params})}async saved(t={}){return this.store?(this.hash&&await this.verificarHash(t),!!localStorage.getItem(this.alias)):this.store}save(t){this.store&&localStorage.setItem(this.alias,JSON.stringify(t))}getFromLocalStorage(){return JSON.parse(localStorage.getItem(this.alias))}destroy(){localStorage.removeItem(this.alias)}async verificarHash(t={}){let s=await this.getAll({...t,hash:!0});localStorage.getItem(this.alias)&&s.data!==md5Exports.md5(localStorage.getItem(this.alias))&&localStorage.removeItem(this.alias)}setStore({state:t=null,getters:s=null,actions:o=null}){return this.state=t===null?this.state:t,this.getters=s===null?this.getters:s,this.actions=o===null?this.actions:o,this}getStore(t=null,s=null,o=null){return this.state=t===null?this.state:t,this.getters=s===null?this.getters:s,this.actions=o===null?this.actions:o,createModelStore(this,this.state,this.getters,this.actions)}getConfig(){return{sync:this.sync,alias:this.alias,route:this.route,hash:this.hash,store:this.store,methods:this.methods,singular:this.singular,plural:this.plural,key:this.key,name:this.name,selectable:this.selectable,default:this.default}}getStoreConfig(){return{key:this.key,hasKey:this.hasKey,moduleAlias:this.alias,maxRelationsResolve:this.maxRelationsResolve,relations:this.relations.map(t=>({...t,hasMany:t.hasMany===void 0?!1:t.hasMany,alias:t.alias===void 0?t.attribute:t.alias})),sync:this.sync,paginate:this.paginate,pagination:this.pagination,responseAdapter:this.responseAdapter,paginationAdapter:this.paginationAdapter}}isSelectable(){return this.selectable===!0}getDefault(){return Object.assign({},JSON.parse(JSON.stringify(this.default)))}getModelGetters(){return Object.assign({},JSON.parse(JSON.stringify(this.modelGetters)))}getNameAttribute(){return this.name}}const categoryConfig={alias:"categories",route:"/api/categories",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,name:"",slug:"",description:"",parent_id:null,inventory_type:"unlimited",sort_order:0,is_active:!0,tag_ids:[],created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Category=new Model(categoryConfig,api),createCategoryStore=(e=null,t=null,s=null)=>Category.getStore(e,t,s),extraState$i={},extraGetters$i={},extraActions$i={},useCategoryStore=defineStore(Category.alias,createCategoryStore(extraState$i,extraGetters$i,extraActions$i)),tagConfig={alias:"tags",route:"/api/tags",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,name:"",slug:"",tag_type:"duration",description:"",color:"",is_active:!0,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Tag=new Model(tagConfig,api),createTagStore=(e=null,t=null,s=null)=>Tag.getStore(e,t,s),extraState$h={},extraGetters$h={},extraActions$h={},useTagStore=defineStore(Tag.alias,createTagStore(extraState$h,extraGetters$h,extraActions$h)),_export_sfc=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s},_hoisted_1$1v={key:0,class:"alert-panel card shadow border-0"},_hoisted_2$1n={class:"list-group list-group-flush"},_hoisted_3$1j={class:"flex-grow-1"},_hoisted_4$11={class:"text-muted d-block"},_hoisted_5$W={class:"fw-semibold"},_hoisted_6$U={key:0,class:"text-muted small"},_hoisted_7$Q={class:"card-footer text-center py-2"},_sfc_main$1z={__name:"AlertCenter",setup(e){const t=ref(!1),s=ref(null),o=[{date:"12 diciembre 2019",title:"Nuevo reporte mensual listo para descargar",message:"",icon:"bi-file-earmark-text",variant:"primary"},{date:"7 diciembre 2019",title:"Se han depositado $290.29 en tu cuenta",message:"",icon:"bi-cash-coin",variant:"success"},{date:"2 diciembre 2019",title:"Alerta de gasto inusual detectada",message:"Revisa tus movimientos recientes.",icon:"bi-exclamation-triangle",variant:"warning"}],a=()=>{t.value=!t.value},n=r=>{t.value&&s.value&&!s.value.contains(r.target)&&(t.value=!1)};return onMounted(()=>{document.addEventListener("click",n)}),onBeforeUnmount(()=>{document.removeEventListener("click",n)}),(r,l)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:s,class:"position-relative"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary btn-sm position-relative","aria-label":"Alertas",onClick:withModifiers(a,["stop"])},[...l[1]||(l[1]=[createBaseVNode("i",{class:"bi bi-bell"},null,-1),createBaseVNode("span",{class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"}," 3+ ",-1)])]),t.value?(openBlock(),createElementBlock("div",_hoisted_1$1v,[l[2]||(l[2]=createBaseVNode("div",{class:"card-header bg-dark text-white fw-semibold py-2"}," Centro de notificaciones ",-1)),createBaseVNode("div",_hoisted_2$1n,[(openBlock(),createElementBlock(Fragment,null,renderList(o,(i,d)=>createBaseVNode("div",{key:d,class:"list-group-item d-flex gap-3 align-items-start"},[createBaseVNode("span",{class:normalizeClass([["badge",`bg-${i.variant}`],"p-3 rounded-circle d-inline-flex align-items-center justify-content-center"])},[createBaseVNode("i",{class:normalizeClass(["bi",i.icon])},null,2)],2),createBaseVNode("div",_hoisted_3$1j,[createBaseVNode("small",_hoisted_4$11,toDisplayString(i.date),1),createBaseVNode("div",_hoisted_5$W,toDisplayString(i.title),1),i.message?(openBlock(),createElementBlock("div",_hoisted_6$U,toDisplayString(i.message),1)):createCommentVNode("",!0)])])),64))]),createBaseVNode("div",_hoisted_7$Q,[createBaseVNode("button",{type:"button",class:"btn btn-link text-decoration-none p-0",onClick:l[0]||(l[0]=withModifiers(i=>t.value=!1,["stop"]))}," Ver todas las alertas ")])])):createCommentVNode("",!0)],512))}},AlertCenter=_export_sfc(_sfc_main$1z,[["__scopeId","data-v-58d5cbae"]]),_hoisted_1$1u={class:"navbar navbar-dark navbar-expand-lg sticky-top bg-dark shadow"},_hoisted_2$1m={class:"container-fluid px-3"},_hoisted_3$1i={class:"fs-5 text-white"},_hoisted_4$10={key:0,class:"navbar-toggler ms-auto ms-lg-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#topNavbarMenu","aria-controls":"topNavbarMenu","aria-expanded":"false","aria-label":"Toggle navigation"},_hoisted_5$V={class:"collapse navbar-collapse flex-grow-1 justify-content-center",id:"topNavbarMenu"},_hoisted_6$T={class:"navbar-nav gap-1 mb-2 mb-lg-0"},_hoisted_7$P={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_8$N={class:"dropdown-menu"},_hoisted_9$J={class:"navbar-nav flex-row align-items-center gap-2 ms-auto"},_hoisted_10$D={key:0,class:"nav-item"},_hoisted_11$x={class:"nav-item"},_hoisted_12$q={class:"nav-item dropdown profile-dropdown"},_hoisted_13$o={class:"dropdown-menu dropdown-menu-end"},_sfc_main$1y={__name:"Navbar",props:{showSidebarToggle:{type:Boolean,default:!0}},emits:["settings","logout"],setup(e,{emit:t}){const s=e,o=t,a=ref(null);let n=null;const r=useAuth(),l="ProdTemplate",i=computed(()=>r.menuSections||[]),d=computed(()=>!!r.user?.balances),c=computed(()=>r.can("wallets.balance.admin_commission")?"admin_commission":r.can("wallets.balance.validator_cash")?"validator_cash":"user_balance"),u=computed(()=>{const f=r.user?.balances||{};return`$${Number(f[c.value]||0).toFixed(2)}`}),m=f=>Array.isArray(f?.children)&&f.children.length>0;return onMounted(()=>{a.value&&(n=new Dropdown(a.value,{autoClose:"outside"}))}),onBeforeUnmount(()=>{n?.dispose(),n=null}),(f,g)=>{const v=resolveComponent("RouterLink");return openBlock(),createElementBlock("header",_hoisted_1$1u,[createBaseVNode("div",_hoisted_2$1m,[createVNode(v,{to:"/",class:"text-decoration-none fw-semibold d-flex align-items-center gap-2"},{default:withCtx(()=>[g[2]||(g[2]=createBaseVNode("i",{class:"bi bi-star-fill text-warning fs-3"},null,-1)),createBaseVNode("span",_hoisted_3$1i,toDisplayString(unref(l)),1)]),_:1}),s.showSidebarToggle?(openBlock(),createElementBlock("button",_hoisted_4$10,[...g[3]||(g[3]=[createBaseVNode("span",{class:"navbar-toggler-icon"},null,-1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5$V,[createBaseVNode("ul",_hoisted_6$T,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,_=>(openBlock(),createElementBlock("li",{key:_.title,class:normalizeClass(["nav-item",{dropdown:m(_),"nav-hover-dropdown":m(_)}])},[m(_)?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("a",_hoisted_7$P,[_.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["bi",_.icon,"me-1"]),"aria-hidden":"true"},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(_.title),1)]),createBaseVNode("ul",_hoisted_8$N,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.children,b=>(openBlock(),createElementBlock("li",{key:b.to},[createVNode(v,{class:"dropdown-item",to:b.to,"active-class":"active"},{default:withCtx(()=>[b.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["bi",b.icon,"me-2"]),"aria-hidden":"true"},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(b.label),1)]),_:2},1032,["to"])]))),128))])],64)):(openBlock(),createBlock(v,{key:1,class:"nav-link",to:_.to,"active-class":"active"},{default:withCtx(()=>[_.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["bi",_.icon,"me-1"]),"aria-hidden":"true"},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(_.title),1)]),_:2},1032,["to"]))],2))),128))])]),createBaseVNode("ul",_hoisted_9$J,[d.value?(openBlock(),createElementBlock("li",_hoisted_10$D,[createVNode(v,{class:"badge text-bg-primary text-decoration-none d-flex align-items-center gap-1 px-3 py-2",to:"/wallets/transactions"},{default:withCtx(()=>[g[4]||(g[4]=createBaseVNode("i",{class:"bi bi-wallet2"},null,-1)),createTextVNode(" "+toDisplayString(u.value),1)]),_:1})])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_11$x,[createVNode(AlertCenter)]),createBaseVNode("li",_hoisted_12$q,[createBaseVNode("button",{ref_key:"profileBtn",ref:a,class:"btn btn-outline-secondary btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","aria-label":"Perfil"},[g[5]||(g[5]=createBaseVNode("i",{class:"bi bi-person-circle me-1"},null,-1)),createTextVNode(" "+toDisplayString(unref(r).user?.name||"Usuario"),1)],512),createBaseVNode("ul",_hoisted_13$o,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item d-flex align-items-center gap-2",href:"#",onClick:g[0]||(g[0]=withModifiers(_=>o("settings"),["stop","prevent"]))},[...g[6]||(g[6]=[createBaseVNode("i",{class:"bi bi-gear","aria-hidden":"true"},null,-1),createBaseVNode("span",null,"Configuracin",-1)])])]),g[8]||(g[8]=createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider"})],-1)),createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item d-flex align-items-center gap-2",href:"#",onClick:g[1]||(g[1]=withModifiers(_=>o("logout"),["stop","prevent"]))},[...g[7]||(g[7]=[createBaseVNode("i",{class:"bi bi-box-arrow-right","aria-hidden":"true"},null,-1),createBaseVNode("span",null,"Cerrar sesin",-1)])])])])])])])])}}},Navbar=_export_sfc(_sfc_main$1y,[["__scopeId","data-v-39ea512e"]]),_sfc_main$1x={},_hoisted_1$1t={class:"col-12 px-md-4 bg-body-tertiary"};function _sfc_render$2(e,t){return openBlock(),createElementBlock("main",_hoisted_1$1t,[renderSlot(e.$slots,"default")])}const Content=_export_sfc(_sfc_main$1x,[["render",_sfc_render$2]]),_hoisted_1$1s={class:"dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle"},_hoisted_2$1l={class:"btn btn-primary rounded-pill shadow dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_3$1h={key:0},_hoisted_4$$={key:1},_hoisted_5$U={key:2},_hoisted_6$S={class:"dropdown-menu"},_sfc_main$1w={__name:"ThemeToggle",props:{theme:{type:String,default:"auto"}},emits:["change-theme"],setup(e,{emit:t}){const s=e,o=t;return(a,n)=>(openBlock(),createElementBlock("div",_hoisted_1$1s,[createBaseVNode("button",_hoisted_2$1l,[s.theme==="light"?(openBlock(),createElementBlock("span",_hoisted_3$1h,"")):s.theme==="dark"?(openBlock(),createElementBlock("span",_hoisted_4$$,"")):(openBlock(),createElementBlock("span",_hoisted_5$U,""))]),createBaseVNode("ul",_hoisted_6$S,[createBaseVNode("li",null,[createBaseVNode("button",{class:normalizeClass(["dropdown-item",{active:s.theme==="light"}]),onClick:n[0]||(n[0]=r=>o("change-theme","light"))}," Light ",2)]),createBaseVNode("li",null,[createBaseVNode("button",{class:normalizeClass(["dropdown-item",{active:s.theme==="dark"}]),onClick:n[1]||(n[1]=r=>o("change-theme","dark"))}," Dark ",2)]),createBaseVNode("li",null,[createBaseVNode("button",{class:normalizeClass(["dropdown-item",{active:s.theme==="auto"}]),onClick:n[2]||(n[2]=r=>o("change-theme","auto"))}," Auto ",2)])])]))}},countryConfig={alias:"countries",route:"/api/countries",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,name:"",iso2:"",iso3:"",currency_code:"",currency_name:"",currency_symbol:"",timezone:"",phone_prefix:"",rate_usd_to_local:null,is_active:!0,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Country=new Model(countryConfig,api),createCountryStore=(e=null,t=null,s=null)=>Country.getStore(e,t,s),extraState$g={},extraGetters$g={},extraActions$g={},useCountryStore=defineStore(Country.alias,createCountryStore(extraState$g,extraGetters$g,extraActions$g)),_hoisted_1$1r={class:"container-fluid"},_hoisted_2$1k={class:"row"},_sfc_main$1v={__name:"index",props:{userName:{type:String,default:"Usuario"},userEmail:{type:String,default:""},currentPath:{type:String,default:"/"},theme:{type:String,default:"auto"}},emits:["settings","logout","change-theme"],setup(e,{emit:t}){const s=e,o=t,a=useAuth(),n=useCountryStore(),r=computed(()=>a.user?.country_id||null);return onMounted(async()=>{if(!a.user)try{await a.fetchUser()}catch{}if(r.value&&!n.find(r.value)?.id)try{await n.show(r.value)}catch{}}),(l,i)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",null,[createVNode(Navbar,{onSettings:i[0]||(i[0]=d=>o("settings")),onLogout:i[1]||(i[1]=d=>o("logout"))}),createBaseVNode("div",_hoisted_1$1r,[createBaseVNode("div",_hoisted_2$1k,[createVNode(Content,null,{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3})])])]),createVNode(_sfc_main$1w,{theme:s.theme,onChangeTheme:i[2]||(i[2]=d=>o("change-theme",d))},null,8,["theme"])],64))}},_sfc_main$1u={__name:"index",props:{theme:{type:String,default:"auto"}},emits:["settings","logout","change-theme"],setup(e,{emit:t}){const s=e,o=t;return(a,n)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",null,[renderSlot(a.$slots,"default")]),createVNode(_sfc_main$1w,{theme:s.theme,onChangeTheme:n[0]||(n[0]=r=>o("change-theme",r))},null,8,["theme"])],64))}},_hoisted_1$1q={class:"app-shell"},_sfc_main$1t={__name:"App",setup(e){const t=useRoute(),s=useRouter(),o=useAuth(),a=useCategoryStore(),n=useTagStore(),r=computed(()=>t.meta.hideChrome),l=computed(()=>t.meta.layout||"default"),i=computed(()=>o.user?.name??"Usuario"),d=computed(()=>o.user?.email??""),c=computed(()=>t.path),u=()=>{s.push({name:"settings.profile"})},m=async()=>{await o.logout(),s.push({name:"store.front"})},f=ref(localStorage.getItem("theme")||"auto"),g=_=>{const b=_==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":_;document.documentElement.setAttribute("data-bs-theme",b)};watchEffect(()=>{localStorage.setItem("theme",f.value),g(f.value)});const v=async()=>{if(await Promise.allSettled([a.get(),n.get()]),!o.initialized)try{await o.fetchUser()}catch{}};return onMounted(()=>{g(f.value),v()}),(_,b)=>{const S=resolveComponent("RouterView");return openBlock(),createElementBlock("div",_hoisted_1$1q,[r.value?(openBlock(),createBlock(S,{key:0})):l.value==="top"?(openBlock(),createBlock(_sfc_main$1u,{key:1,theme:f.value,onChangeTheme:b[0]||(b[0]=V=>f.value=V),onSettings:u,onLogout:m},{default:withCtx(()=>[createVNode(S)]),_:1},8,["theme"])):(openBlock(),createBlock(_sfc_main$1v,{key:2,"user-name":i.value,"user-email":d.value,"current-path":c.value,theme:f.value,onChangeTheme:b[1]||(b[1]=V=>f.value=V),onSettings:u,onLogout:m},{default:withCtx(()=>[createVNode(S)]),_:1},8,["user-name","user-email","current-path","theme"]))])}}},_hoisted_1$1p={class:"auth-page"},_hoisted_2$1j={class:"card shadow-sm auth-card"},_hoisted_3$1g={class:"card-body p-4"},_hoisted_4$_={class:"d-flex justify-content-end mt-1"},_hoisted_5$T={class:"form-check"},_hoisted_6$R={key:0,class:"alert alert-danger py-2 mb-0"},_hoisted_7$O=["disabled"],_hoisted_8$M={key:0,class:"spinner-border spinner-border-sm me-2"},_hoisted_9$I={class:"text-center text-muted mb-0"},_sfc_main$1s={__name:"Login",setup(e){const t=useRouter(),s=useAuth(),o=ref(""),a=ref(""),n=ref(!1),r=ref(!1),l=ref(""),i=async()=>{r.value=!0,l.value="";try{await s.login(o.value,a.value,n.value);const c=(Array.isArray(s.user?.roles)?s.user.roles:[]).map(f=>f.name),u=f=>c.includes(f);let m="/dashboard";u("validator")?m="/validations/my-validations":u("provider")?m="/products":u("distributor")&&(m="/"),t.push(m)}catch{l.value="Credenciales invlidas"}finally{r.value=!1}};return(d,c)=>{const u=resolveComponent("RouterLink");return openBlock(),createElementBlock("section",_hoisted_1$1p,[c[10]||(c[10]=createBaseVNode("div",{class:"text-center mb-4"},[createBaseVNode("h2",{class:"fw-semibold mb-2"},"Inicia sesin en tu cuenta"),createBaseVNode("p",{class:"text-muted mb-0"},"Ingresa tu correo o usuario y contrasea para continuar")],-1)),createBaseVNode("div",_hoisted_2$1j,[createBaseVNode("div",_hoisted_3$1g,[createBaseVNode("form",{onSubmit:withModifiers(i,["prevent"]),class:"d-grid gap-3"},[createBaseVNode("div",null,[c[3]||(c[3]=createBaseVNode("label",{class:"form-label fw-semibold"},"Correo o usuario",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":c[0]||(c[0]=m=>o.value=m),type:"text",class:"form-control form-control-lg",placeholder:"correo@empresa.com o usuario",required:"",autocomplete:"username"},null,512),[[vModelText,o.value]])]),createBaseVNode("div",null,[c[5]||(c[5]=createBaseVNode("div",{class:"d-flex justify-content-between align-items-center mb-1"},[createBaseVNode("label",{class:"form-label fw-semibold mb-0"},"Contrasea")],-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":c[1]||(c[1]=m=>a.value=m),type:"password",class:"form-control form-control-lg",placeholder:"Contrasea",required:"",autocomplete:"current-password"},null,512),[[vModelText,a.value]]),createBaseVNode("div",_hoisted_4$_,[createVNode(u,{class:"small",to:"/forgot-password"},{default:withCtx(()=>[...c[4]||(c[4]=[createTextVNode("Olvidaste tu contrasea?",-1)])]),_:1})])]),createBaseVNode("div",_hoisted_5$T,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",id:"remember","onUpdate:modelValue":c[2]||(c[2]=m=>n.value=m)},null,512),[[vModelCheckbox,n.value]]),c[6]||(c[6]=createBaseVNode("label",{class:"form-check-label",for:"remember"},"Recordarme",-1))]),l.value?(openBlock(),createElementBlock("div",_hoisted_6$R,toDisplayString(l.value),1)):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",class:"btn btn-primary btn-lg w-100",disabled:r.value},[r.value?(openBlock(),createElementBlock("span",_hoisted_8$M)):createCommentVNode("",!0),c[7]||(c[7]=createTextVNode(" Iniciar sesin ",-1))],8,_hoisted_7$O),createBaseVNode("p",_hoisted_9$I,[c[9]||(c[9]=createTextVNode(" No tienes una cuenta? ",-1)),createVNode(u,{to:"/register"},{default:withCtx(()=>[...c[8]||(c[8]=[createTextVNode("Regstrate",-1)])]),_:1})])],32)])])])}}},_hoisted_1$1o={class:"auth-page"},_hoisted_2$1i={key:0,class:"text-center mb-4"},_hoisted_3$1f={key:1,class:"card shadow-sm auth-card"},_hoisted_4$Z={class:"card-body p-4 text-center"},_hoisted_5$S={key:2,class:"card shadow-sm auth-card"},_hoisted_6$Q={class:"card-body p-4"},_hoisted_7$N={key:0,class:"alert alert-danger py-2 mb-0"},_hoisted_8$L=["disabled"],_hoisted_9$H={key:0,class:"spinner-border spinner-border-sm me-2"},_hoisted_10$C={class:"text-center text-muted mb-0"},_sfc_main$1r={__name:"Register",setup(e){const t=useAuth(),s=ref(""),o=ref(""),a=ref(""),n=ref(""),r=ref(""),l=ref(""),i=ref(!1),d=ref(""),c=ref(!1),u=async()=>{i.value=!0,d.value="";try{await t.register({name:s.value,username:o.value,phone_number:a.value,email:n.value,password:r.value,password_confirmation:l.value}),c.value=!0}catch{d.value="No se pudo registrar"}finally{i.value=!1}};return(m,f)=>{const g=resolveComponent("RouterLink");return openBlock(),createElementBlock("section",_hoisted_1$1o,[c.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$1i,[...f[6]||(f[6]=[createBaseVNode("h2",{class:"fw-semibold mb-2"},"Crea una cuenta",-1),createBaseVNode("p",{class:"text-muted mb-0"},"Ingresa tus datos para registrarte",-1)])])),c.value?(openBlock(),createElementBlock("div",_hoisted_3$1f,[createBaseVNode("div",_hoisted_4$Z,[f[8]||(f[8]=createBaseVNode("p",{class:"text-muted mb-3"}," Registro enviado. Espera la aprobacion y comunicate con el administrador para la confirmacion. ",-1)),createVNode(g,{to:"/",class:"btn btn-primary"},{default:withCtx(()=>[...f[7]||(f[7]=[createTextVNode(" Inicio ",-1)])]),_:1})])])):(openBlock(),createElementBlock("div",_hoisted_5$S,[createBaseVNode("div",_hoisted_6$Q,[createBaseVNode("form",{onSubmit:withModifiers(u,["prevent"]),class:"d-grid gap-3"},[createBaseVNode("div",null,[f[9]||(f[9]=createBaseVNode("label",{class:"form-label fw-semibold"},"Nombre",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":f[0]||(f[0]=v=>s.value=v),type:"text",class:"form-control form-control-lg",placeholder:"Nombre completo",required:"",autocomplete:"name"},null,512),[[vModelText,s.value]])]),createBaseVNode("div",null,[f[10]||(f[10]=createBaseVNode("label",{class:"form-label fw-semibold"},"Nombre de usuario",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":f[1]||(f[1]=v=>o.value=v),type:"text",class:"form-control form-control-lg",placeholder:"usuario",required:"",autocomplete:"username"},null,512),[[vModelText,o.value]])]),createBaseVNode("div",null,[f[11]||(f[11]=createBaseVNode("label",{class:"form-label fw-semibold"},"Celular",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":f[2]||(f[2]=v=>a.value=v),type:"text",class:"form-control form-control-lg",placeholder:"+51 999 999 999",autocomplete:"tel"},null,512),[[vModelText,a.value]])]),createBaseVNode("div",null,[f[12]||(f[12]=createBaseVNode("label",{class:"form-label fw-semibold"},"Correo electrnico",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":f[3]||(f[3]=v=>n.value=v),type:"email",class:"form-control form-control-lg",placeholder:"email@example.com",required:"",autocomplete:"email"},null,512),[[vModelText,n.value]])]),createBaseVNode("div",null,[f[13]||(f[13]=createBaseVNode("label",{class:"form-label fw-semibold"},"Contrasea",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":f[4]||(f[4]=v=>r.value=v),type:"password",class:"form-control form-control-lg",placeholder:"Contrasea",required:"",autocomplete:"new-password"},null,512),[[vModelText,r.value]])]),createBaseVNode("div",null,[f[14]||(f[14]=createBaseVNode("label",{class:"form-label fw-semibold"},"Confirmar contrasea",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":f[5]||(f[5]=v=>l.value=v),type:"password",class:"form-control form-control-lg",placeholder:"Confirma tu contrasea",required:"",autocomplete:"new-password"},null,512),[[vModelText,l.value]])]),d.value?(openBlock(),createElementBlock("div",_hoisted_7$N,toDisplayString(d.value),1)):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",class:"btn btn-primary btn-lg w-100",disabled:i.value},[i.value?(openBlock(),createElementBlock("span",_hoisted_9$H)):createCommentVNode("",!0),f[15]||(f[15]=createTextVNode(" Crear cuenta ",-1))],8,_hoisted_8$L),createBaseVNode("p",_hoisted_10$C,[f[17]||(f[17]=createTextVNode(" Ya tienes cuenta? ",-1)),createVNode(g,{to:"/login"},{default:withCtx(()=>[...f[16]||(f[16]=[createTextVNode("Inicia sesin",-1)])]),_:1})])],32)])]))])}}},_hoisted_1$1n={class:"auth-page"},_hoisted_2$1h={class:"card shadow-sm auth-card"},_hoisted_3$1e={class:"card-body p-4"},_hoisted_4$Y={key:0,class:"alert alert-success py-2 mb-0"},_hoisted_5$R={key:1,class:"alert alert-danger py-2 mb-0"},_hoisted_6$P=["disabled"],_hoisted_7$M={key:0,class:"spinner-border spinner-border-sm me-2"},_hoisted_8$K={class:"text-center text-muted mb-0"},_sfc_main$1q={__name:"ForgotPassword",setup(e){const t=ref(""),s=ref(!1),o=ref(""),a=ref(""),n=async()=>{s.value=!0,o.value="",a.value="";try{await api.get("/sanctum/csrf-cookie"),await api.post("/forgot-password",{email:t.value}),a.value="Te enviamos un enlace para restablecer tu contrasea."}catch{o.value="No se pudo enviar el enlace"}finally{s.value=!1}};return(r,l)=>{const i=resolveComponent("RouterLink");return openBlock(),createElementBlock("section",_hoisted_1$1n,[l[5]||(l[5]=createBaseVNode("div",{class:"text-center mb-4"},[createBaseVNode("h2",{class:"fw-semibold mb-2"},"Olvidaste tu contrasea?"),createBaseVNode("p",{class:"text-muted mb-0"},"Ingresa tu correo para recibir el enlace de restablecimiento")],-1)),createBaseVNode("div",_hoisted_2$1h,[createBaseVNode("div",_hoisted_3$1e,[createBaseVNode("form",{onSubmit:withModifiers(n,["prevent"]),class:"d-grid gap-3"},[createBaseVNode("div",null,[l[1]||(l[1]=createBaseVNode("label",{class:"form-label fw-semibold"},"Correo electrnico",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>t.value=d),type:"email",class:"form-control form-control-lg",placeholder:"email@example.com",required:"",autocomplete:"email"},null,512),[[vModelText,t.value]])]),a.value?(openBlock(),createElementBlock("div",_hoisted_4$Y,toDisplayString(a.value),1)):createCommentVNode("",!0),o.value?(openBlock(),createElementBlock("div",_hoisted_5$R,toDisplayString(o.value),1)):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",class:"btn btn-primary btn-lg w-100",disabled:s.value},[s.value?(openBlock(),createElementBlock("span",_hoisted_7$M)):createCommentVNode("",!0),l[2]||(l[2]=createTextVNode(" Enviar enlace de restablecimiento ",-1))],8,_hoisted_6$P),createBaseVNode("p",_hoisted_8$K,[l[4]||(l[4]=createTextVNode(" O bien, vuelve a ",-1)),createVNode(i,{to:"/login"},{default:withCtx(()=>[...l[3]||(l[3]=[createTextVNode("iniciar sesin",-1)])]),_:1})])],32)])])])}}},_hoisted_1$1m={class:"auth-page"},_hoisted_2$1g={class:"card shadow-sm auth-card"},_hoisted_3$1d={class:"card-body p-4"},_hoisted_4$X={key:0,class:"alert alert-success py-2 mb-0"},_hoisted_5$Q={key:1,class:"alert alert-danger py-2 mb-0"},_hoisted_6$O=["disabled"],_hoisted_7$L={key:0,class:"spinner-border spinner-border-sm me-2"},_sfc_main$1p={__name:"ResetPassword",setup(e){const t=useRoute(),s=useRouter(),o=reactive({token:t.params.token||"",email:t.query.email||"",password:"",password_confirmation:""}),a=ref(!1),n=ref(""),r=ref("");onMounted(()=>{t.query.email&&(o.email=t.query.email)});const l=async()=>{a.value=!0,n.value="",r.value="";try{await api.get("/sanctum/csrf-cookie"),await api.post("/reset-password",o),r.value="Contrasea actualizada. Redirigiendo al login...",setTimeout(()=>s.push({name:"login"}),1e3)}catch{n.value="No se pudo restablecer la contrasea"}finally{a.value=!1}};return(i,d)=>(openBlock(),createElementBlock("section",_hoisted_1$1m,[d[7]||(d[7]=createBaseVNode("div",{class:"text-center mb-4"},[createBaseVNode("h2",{class:"fw-semibold mb-2"},"Restablece tu contrasea"),createBaseVNode("p",{class:"text-muted mb-0"},"Elige una nueva contrasea para tu cuenta")],-1)),createBaseVNode("div",_hoisted_2$1g,[createBaseVNode("div",_hoisted_3$1d,[createBaseVNode("form",{onSubmit:withModifiers(l,["prevent"]),class:"d-grid gap-3"},[createBaseVNode("div",null,[d[3]||(d[3]=createBaseVNode("label",{class:"form-label fw-semibold"},"Correo electrnico",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[0]||(d[0]=c=>o.email=c),type:"email",class:"form-control form-control-lg",required:"",autocomplete:"email"},null,512),[[vModelText,o.email]])]),createBaseVNode("div",null,[d[4]||(d[4]=createBaseVNode("label",{class:"form-label fw-semibold"},"Contrasea",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[1]||(d[1]=c=>o.password=c),type:"password",class:"form-control form-control-lg",placeholder:"Nueva contrasea",required:"",autocomplete:"new-password"},null,512),[[vModelText,o.password]])]),createBaseVNode("div",null,[d[5]||(d[5]=createBaseVNode("label",{class:"form-label fw-semibold"},"Confirmar contrasea",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[2]||(d[2]=c=>o.password_confirmation=c),type:"password",class:"form-control form-control-lg",placeholder:"Confirma tu contrasea",required:"",autocomplete:"new-password"},null,512),[[vModelText,o.password_confirmation]])]),r.value?(openBlock(),createElementBlock("div",_hoisted_4$X,toDisplayString(r.value),1)):createCommentVNode("",!0),n.value?(openBlock(),createElementBlock("div",_hoisted_5$Q,toDisplayString(n.value),1)):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",class:"btn btn-primary btn-lg w-100",disabled:a.value},[a.value?(openBlock(),createElementBlock("span",_hoisted_7$L)):createCommentVNode("",!0),d[6]||(d[6]=createTextVNode(" Restablecer contrasea ",-1))],8,_hoisted_6$O)],32)])])]))}},authRoutes=[{path:"/login",name:"login",component:_sfc_main$1s,meta:{hideChrome:!0}},{path:"/register",name:"register",component:_sfc_main$1r,meta:{hideChrome:!0}},{path:"/forgot-password",name:"forgot",component:_sfc_main$1q,meta:{hideChrome:!0}},{path:"/password-reset/:token",name:"password-reset",component:_sfc_main$1p,meta:{hideChrome:!0},props:!0}],roleConfig={alias:"roles",route:"/api/roles",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,name:null,guard_name:null,permissions:[],created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Role=new Model(roleConfig,api),createRoleStore=(e=null,t=null,s=null)=>Role.getStore(e,t,s),extraState$f={},extraGetters$f={},extraActions$f={},useRoleStore=defineStore(Role.alias,createRoleStore(extraState$f,extraGetters$f,extraActions$f)),_hoisted_1$1l={class:"d-flex justify-content-end"},_hoisted_2$1f={class:"search-box"},_hoisted_3$1c={class:"input-group"},_hoisted_4$W=["onKeyup"],_sfc_main$1o={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=()=>s("search",o.value.trim()),n=()=>{o.value="",s("search","")};return(r,l)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(a,["prevent"])},[createBaseVNode("div",_hoisted_1$1l,[createBaseVNode("div",_hoisted_2$1f,[createBaseVNode("div",_hoisted_3$1c,[withDirectives(createBaseVNode("input",{id:"roleSearch","onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),type:"text",class:"form-control",placeholder:"Buscar roles",onKeyup:withKeys(withModifiers(a,["prevent"]),["enter"])},null,40,_hoisted_4$W),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:n},[...l[1]||(l[1]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),l[2]||(l[2]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])])])],32))}},_hoisted_1$1k=["onKeydown"],_hoisted_2$1e={key:0,class:"mb-1"},_hoisted_3$1b={class:"table-responsive"},_hoisted_4$V=["onClick"],_hoisted_5$P={key:1},_hoisted_6$N=["id","onClick"],_hoisted_7$K={class:"mt-3","aria-label":"Paginacin"},_hoisted_8$J={class:"pagination pagination-sm justify-content-end mb-0"},_hoisted_9$G=["onClick"],_sfc_main$1n={__name:"Table",props:{items:{type:Array,default:()=>[]},tag:{type:String,default:"row"},pageLength:{type:Number,default:10},noAction:{type:Boolean,default:!1},headers:{type:Array,default:()=>[]},defaultSort:{type:[String,Object],default:null},rowKey:{type:[String,Function],default:null}},emits:["enter"],setup(e,{emit:t}){const s=e,o=t,a=ref(1),n=ref({index:null,headHeight:0,clickPosition:0});let r;const l=ref(null),i=ref(null),d=ref(null),c=computed(()=>{if(!s.defaultSort)return null;if(typeof s.defaultSort=="string")return{key:s.defaultSort,direction:"desc"};const G=s.defaultSort.key;if(!G)return null;const ee=String(s.defaultSort.direction||"asc").toLowerCase();return{key:G,direction:ee==="desc"?"desc":"asc"}}),u=ref(null),m=ref("asc");watch(()=>c.value,G=>{if(!G?.key){u.value=null,m.value="asc";return}u.value=G.key,m.value=G.direction||"asc"},{immediate:!0});const f=G=>G?.sortable!==!1&&!!G?.key,g=G=>G?G.sortKey||G.key:null,v=(G,ee)=>typeof ee=="function"?ee(G):typeof ee=="string"?G?.[ee]:null,_=(G,ee)=>{if(G==null)return ee==null?0:1;if(ee==null)return-1;if(typeof G=="number"&&typeof ee=="number")return G-ee;const Q=String(G).toLowerCase(),ae=String(ee).toLowerCase();return Q.localeCompare(ae,"es",{numeric:!0,sensitivity:"base"})},b=G=>{f(G)&&(u.value===G.key?m.value=m.value==="asc"?"desc":"asc":(u.value=G.key,m.value="asc"))},S=G=>f(G)?u.value!==G.key?"bi-arrow-down-up":m.value==="asc"?"bi-chevron-up":"bi-chevron-down":"",V=G=>{const ee=G?.class;return Array.isArray(ee)?ee.filter(Boolean).join(" "):typeof ee=="string"?ee:""},k=G=>G?.width?{width:typeof G.width=="number"?`${G.width}px`:G.width}:null,B=computed(()=>{if(!u.value)return[...s.items];const G=s.headers.find(ae=>ae.key===u.value),ee=G?g(G):u.value,Q=[...s.items];return Q.sort((ae,oe)=>{const D=_(v(ae,ee),v(oe,ee));return m.value==="desc"?-D:D}),Q}),O=computed(()=>Math.ceil(B.value.length/s.pageLength)||1);watch(()=>O.value,()=>{a.value>O.value&&(a.value=1,C())});const M=computed(()=>{const G=(a.value-1)*s.pageLength;return B.value.slice(G,G+s.pageLength)}),R=computed(()=>{const G=n.value.index;return{index:G,item:G!==null?M.value[G]:void 0}}),C=()=>{n.value.index=null,n.value.clickPosition=0},w=()=>a.value<O.value?(a.value+=1,C(),!0):!1,L=()=>a.value>1?(a.value-=1,C(),!0):!1,y=()=>{n.value.index=0,E()},N=()=>{n.value.index=Math.min(s.pageLength,M.value.length)-1,E()},E=(G=null)=>{if(n.value.index===null)return;const ee=d.value?.querySelector(`#${s.tag}${n.value.index}`);if(!ee)return;const Q=ee.offsetTop-(n.value.headHeight||0)-n.value.clickPosition;d.value.scrollTop=Q,d.value.scrollTop!==Q&&(n.value.clickPosition=ee.offsetTop-(n.value.headHeight||0)-d.value.scrollTop),G&&d.value.querySelector(`#${G}${n.value.index}`)?.focus()},$=G=>{n.value.index=G;const ee=d.value?.querySelector(`#${s.tag}${G}`);!ee||!i.value||(n.value.headHeight=i.value.offsetHeight,n.value.clickPosition=ee.offsetTop-n.value.headHeight-d.value.scrollTop)},H=(G,ee=null)=>{let Q=0;n.value.index!==null?(Q=n.value.index+G,Q<0&&(Q=L()?s.pageLength-1:0),(Q>=s.pageLength||Q>=M.value.length)&&(Q=w()?0:Math.min(s.pageLength,M.value.length)-1)):Q=G<0?s.pageLength-1:0,n.value.index=Q,E(ee)},U=(G,ee)=>{G.target.select?.(),$(ee)},P=G=>{r&&n.value.index===G?($(G),o("enter",R.value),clearTimeout(r),r=void 0):(r=setTimeout(()=>{r=void 0},500),G!==n.value.index?$(G):n.value.index=null)},Z=()=>o("enter",R.value),ce=G=>n.value.index===G?"table-active":M.value[G]?.class||"",ue=(G,ee)=>s.rowKey?typeof s.rowKey=="function"?s.rowKey(G)??ee:typeof s.rowKey=="string"?G?.[s.rowKey]??ee:ee:ee;return onBeforeUnmount(()=>{r&&clearTimeout(r)}),(G,ee)=>(openBlock(),createElementBlock("div",{tabindex:"0",onKeydown:[ee[2]||(ee[2]=withKeys(withModifiers(Q=>H(-1),["prevent"]),["up"])),ee[3]||(ee[3]=withKeys(withModifiers(Q=>H(1),["prevent"]),["down"])),ee[4]||(ee[4]=withKeys(withModifiers(Q=>n.value.index=null,["prevent","stop"]),["esc"])),ee[5]||(ee[5]=withKeys(withModifiers(Q=>L(),["prevent","stop"]),["left"])),ee[6]||(ee[6]=withKeys(withModifiers(Q=>w(),["prevent","stop"]),["right"])),ee[7]||(ee[7]=withKeys(withModifiers(Q=>y(),["prevent","stop"]),["home"])),ee[8]||(ee[8]=withKeys(withModifiers(Q=>N(),["prevent","stop"]),["end"])),withKeys(withModifiers(Z,["prevent"]),["enter"])]},[e.noAction?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$1e,[renderSlot(G.$slots,"actions",{selected:R.value},void 0,!0)])),createBaseVNode("div",_hoisted_3$1b,[createBaseVNode("table",{ref_key:"tableRef",ref:l,class:"table table-hover table-bordered mb-0"},[createBaseVNode("thead",{ref_key:"headRef",ref:i,class:"table-light"},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.headers,Q=>(openBlock(),createElementBlock("th",{key:Q.key||Q.title,scope:"col",class:normalizeClass(V(Q)),style:normalizeStyle(k(Q))},[f(Q)?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-link p-0 d-inline-flex align-items-center gap-1 text-decoration-none text-body",onClick:ae=>b(Q)},[createBaseVNode("span",null,toDisplayString(Q.title),1),createBaseVNode("i",{class:normalizeClass(["bi",S(Q)])},null,2)],8,_hoisted_4$V)):(openBlock(),createElementBlock("span",_hoisted_5$P,toDisplayString(Q.title),1))],6))),128))])],512),createBaseVNode("tbody",{ref_key:"bodyRef",ref:d},[(openBlock(!0),createElementBlock(Fragment,null,renderList(M.value,(Q,ae)=>(openBlock(),createElementBlock("tr",{id:`${e.tag}${ae}`,key:ue(Q,ae),class:normalizeClass(ce(ae)),onClick:withModifiers(oe=>P(ae),["prevent","stop"])},[renderSlot(G.$slots,"body",{item:Q,index:ae,foco:U,move:H},void 0,!0)],10,_hoisted_6$N))),128))],512),createBaseVNode("tfoot",null,[renderSlot(G.$slots,"footer",{},void 0,!0)])],512)]),createBaseVNode("nav",_hoisted_7$K,[createBaseVNode("ul",_hoisted_8$J,[createBaseVNode("li",{class:normalizeClass(["page-item",{disabled:a.value===1}])},[createBaseVNode("button",{class:"page-link",type:"button",onClick:ee[0]||(ee[0]=Q=>a.value>1&&(a.value-=1))},"Anterior")],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(O.value,Q=>(openBlock(),createElementBlock("li",{key:Q,class:normalizeClass(["page-item",{active:Q===a.value}])},[createBaseVNode("button",{class:"page-link",type:"button",onClick:ae=>a.value=Q},toDisplayString(Q),9,_hoisted_9$G)],2))),128)),createBaseVNode("li",{class:normalizeClass(["page-item",{disabled:a.value===O.value}])},[createBaseVNode("button",{class:"page-link",type:"button",onClick:ee[1]||(ee[1]=Q=>a.value<O.value&&(a.value+=1))},"Siguiente")],2)])])],40,_hoisted_1$1k))}},Table=_export_sfc(_sfc_main$1n,[["__scopeId","data-v-12aa5029"]]),_hoisted_1$1j={class:"d-flex align-items-center gap-2"},_hoisted_2$1d=["disabled","onClick"],_hoisted_3$1a=["disabled","onClick"],_hoisted_4$U={key:0,class:"permission-badges"},_hoisted_5$O={key:1},_hoisted_6$M={class:"text-center"},_hoisted_7$J={class:"d-inline-flex align-items-center gap-2"},_hoisted_8$I=["onClick"],_hoisted_9$F=["onClick"],_hoisted_10$B={key:0},_sfc_main$1m={__name:"List",emits:["edit"],setup(e,{emit:t}){const s=useRoleStore(),{list:o}=storeToRefs(s),a=useAuth(),n=[{title:"Rol",key:"name"},{title:"Permisos",key:"permissions",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],r=t,l=d=>d.endsWith(".view")||d.endsWith(".index")?"badge text-bg-success":d.endsWith(".create")||d.endsWith(".edit")?"badge badge-orange":d.endsWith(".delete")?"badge text-bg-danger":"badge text-bg-primary",i=async d=>{window.confirm(`Eliminar el rol "${d.name}"?`)&&await s.delete(d)};return(d,c)=>(openBlock(),createBlock(Table,{items:unref(o),headers:n,"default-sort":{key:"id",direction:"desc"},"page-length":10,tag:"role"},{actions:withCtx(({selected:u})=>[createBaseVNode("div",_hoisted_1$1j,[unref(a).can("roles.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!u.item,onClick:m=>u.item&&r("edit",u.item)}," Editar ",8,_hoisted_2$1d)):createCommentVNode("",!0),unref(a).can("roles.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!u.item,onClick:m=>u.item&&i(u.item)}," Eliminar ",8,_hoisted_3$1a)):createCommentVNode("",!0)])]),body:withCtx(({item:u})=>[createBaseVNode("td",null,toDisplayString(u.name),1),createBaseVNode("td",null,[u.permissions?.length?(openBlock(),createElementBlock("div",_hoisted_4$U,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.permissions,m=>(openBlock(),createElementBlock("span",{key:m.id||m.name,class:normalizeClass(l(m.name))},toDisplayString(m.name),3))),128))])):(openBlock(),createElementBlock("span",_hoisted_5$O,""))]),createBaseVNode("td",_hoisted_6$M,[createBaseVNode("div",_hoisted_7$J,[unref(a).can("roles.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:m=>r("edit",u)},[...c[0]||(c[0]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_8$I)):createCommentVNode("",!0),unref(a).can("roles.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:m=>i(u)},[...c[1]||(c[1]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_9$F)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[unref(o).length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_10$B,[...c[2]||(c[2]=[createBaseVNode("td",{colspan:"3",class:"text-center text-muted"},"No hay roles",-1)])]))]),_:1},8,["items"]))}},List$2=_export_sfc(_sfc_main$1m,[["__scopeId","data-v-762faf06"]]),permissionConfig={alias:"permissions",route:"/api/permissions",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,name:null,guard_name:null,description:null,is_menu:!1,menu_label:null,menu_path:null,icon:null,parent_id:null,sort_order:0,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Permission=new Model(permissionConfig,api),createPermissionStore=(e=null,t=null,s=null)=>Permission.getStore(e,t,s),extraState$e={},extraGetters$e={},extraActions$e={},usePermissionStore=defineStore(Permission.alias,createPermissionStore(extraState$e,extraGetters$e,extraActions$e));let container=null;const ensureContainer=()=>{container||(container=document.createElement("div"),container.className="toast-container position-fixed top-0 end-0 p-3",container.style.zIndex=2e3,document.body.appendChild(container))},showToast=(e,t="primary")=>{ensureContainer();const s=document.createElement("div");s.className=`toast align-items-center text-bg-${t} border-0 opacity-75`,s.setAttribute("role","alert"),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),s.innerHTML=`
    <div class="d-flex">
      <div class="toast-body">${e}</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  `,container.appendChild(s),new Toast(s,{delay:3e3}).show(),s.addEventListener("hidden.bs.toast",()=>{s.remove()})},useToast=()=>({success:e=>showToast(e,"success"),info:e=>showToast(e,"info"),warning:e=>showToast(e,"warning"),danger:e=>showToast(e,"danger")}),_hoisted_1$1i={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$1c={class:"modal-content"},_hoisted_3$19={class:"modal-header py-2"},_hoisted_4$T={class:"modal-title",id:"roleModalLabel"},_hoisted_5$N={class:"modal-body p-0"},_hoisted_6$L={class:"row g-3"},_hoisted_7$I={class:"col-md-6"},_hoisted_8$H={key:0,class:"text-danger small mt-1"},_hoisted_9$E={class:"col-12"},_hoisted_10$A={class:"row g-2"},_hoisted_11$w={class:"col-md-5"},_hoisted_12$p=["value"],_hoisted_13$n={class:"col-md-5"},_hoisted_14$n=["value"],_hoisted_15$m={key:0,class:"text-danger small mt-1"},_sfc_main$1l={__name:"Form",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useRoleStore(),r=usePermissionStore(),l=useToast(),i=()=>Role.getDefault(),d=ref({...i(),permissions:[]}),c=ref("create"),u=ref([]),m=ref([]),f=ref({}),g=async()=>{f.value={};try{c.value==="edit"?(await n.update(d.value),l.success("Rol actualizado")):(await n.create(d.value),l.success("Rol creado")),b()}catch(O){const M=O?.response?.data;O?.response?.status===422&&M?.errors?f.value=M.errors:l.danger("No se pudo guardar el rol")}},v=()=>{c.value="create",d.value={...i(),permissions:[]},f.value={},u.value=[],m.value=[],o?.show()},_=O=>{c.value="edit";const M=(O.permissions||[]).map(R=>R.id);d.value={...i(),...O,permissions:M},f.value={},u.value=[],m.value=[],o?.show()},b=()=>{o?.hide()};t({openCreate:v,openEdit:_,close:b}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const O=document.activeElement;O instanceof HTMLElement&&s.value?.contains(O)&&O.blur()},s.value.addEventListener("hide.bs.modal",a)),r.list.length||r.get()});const S=computed(()=>{const O=d.value.permissions||[];return r.list.filter(M=>!O.includes(M.id)).slice().sort((M,R)=>M.name.localeCompare(R.name))}),V=computed(()=>{const O=d.value.permissions||[];return r.list.filter(M=>O.includes(M.id)).slice().sort((M,R)=>M.name.localeCompare(R.name))}),k=()=>{const O=new Set([...d.value.permissions||[],...u.value]);d.value.permissions=Array.from(O),u.value=[]},B=()=>{d.value.permissions=(d.value.permissions||[]).filter(O=>!m.value.includes(O)),m.value=[]};return onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(O,M)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"roleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$1i,[createBaseVNode("div",_hoisted_2$1c,[createBaseVNode("div",_hoisted_3$19,[createBaseVNode("h5",_hoisted_4$T,toDisplayString(c.value==="edit"?"Editar rol":"Nuevo rol"),1),M[3]||(M[3]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$N,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(g,["prevent"])},[createBaseVNode("div",_hoisted_6$L,[createBaseVNode("div",_hoisted_7$I,[M[4]||(M[4]=createBaseVNode("label",{class:"form-label fw-semibold",for:"roleName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"roleName","onUpdate:modelValue":M[0]||(M[0]=R=>d.value.name=R),type:"text",class:normalizeClass(["form-control",{"is-invalid":f.value.name}]),placeholder:"admin"},null,2),[[vModelText,d.value.name]]),f.value.name?(openBlock(),createElementBlock("div",_hoisted_8$H,toDisplayString(f.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$E,[M[7]||(M[7]=createBaseVNode("label",{class:"form-label fw-semibold"},"Permisos",-1)),createBaseVNode("div",_hoisted_10$A,[createBaseVNode("div",_hoisted_11$w,[M[5]||(M[5]=createBaseVNode("div",{class:"form-text mb-1"},"Disponibles",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":M[1]||(M[1]=R=>u.value=R),class:"form-select",multiple:"",size:"8"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.value,R=>(openBlock(),createElementBlock("option",{key:R.id,value:R.id},toDisplayString(R.name),9,_hoisted_12$p))),128))],512),[[vModelSelect,u.value]])]),createBaseVNode("div",{class:"col-md-2 d-flex flex-column justify-content-center align-items-center gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:k}," > "),createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary w-100",onClick:B}," < ")]),createBaseVNode("div",_hoisted_13$n,[M[6]||(M[6]=createBaseVNode("div",{class:"form-text mb-1"},"Asignados",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":M[2]||(M[2]=R=>m.value=R),class:"form-select",multiple:"",size:"8"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(V.value,R=>(openBlock(),createElementBlock("option",{key:R.id,value:R.id},toDisplayString(R.name),9,_hoisted_14$n))),128))],512),[[vModelSelect,m.value]]),f.value.permissions?(openBlock(),createElementBlock("div",_hoisted_15$m,toDisplayString(f.value.permissions[0]),1)):createCommentVNode("",!0)])])])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:b},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:g},"Guardar")])])])])],512))}},_hoisted_1$1h={class:"p-3"},_hoisted_2$1b={class:"card card-body"},_hoisted_3$18={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$1k={__name:"index",setup(e){const t=useRoleStore(),s=useAuth(),o=ref(null);return onMounted(()=>{t.get()}),(a,n)=>(openBlock(),createElementBlock("section",_hoisted_1$1h,[createBaseVNode("div",_hoisted_2$1b,[n[2]||(n[2]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Roles"),createBaseVNode("p",{class:"text-muted mb-0"},"Administra los roles y sus permisos.")],-1)),createBaseVNode("div",_hoisted_3$18,[createVNode(_sfc_main$1o,{class:"mb-0 flex-shrink-0"}),unref(s).can("roles.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:n[0]||(n[0]=r=>o.value?.openCreate())}," Nuevo rol ")):createCommentVNode("",!0)]),createVNode(List$2,{class:"mb-3",onEdit:n[1]||(n[1]=r=>o.value?.openEdit(r))})]),createVNode(_sfc_main$1l,{ref_key:"formRef",ref:o},null,512)]))}},roleRoutes=[{path:"/roles",name:"roles.index",meta:{requiresAuth:!0,permissions:["roles.view"]},component:_sfc_main$1k}],_hoisted_1$1g={class:"d-flex justify-content-end"},_hoisted_2$1a={class:"search-box"},_hoisted_3$17={class:"input-group"},_hoisted_4$S=["onKeyup"],_sfc_main$1j={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=()=>s("search",o.value.trim()),n=()=>{o.value="",s("search","")};return(r,l)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(a,["prevent"])},[createBaseVNode("div",_hoisted_1$1g,[createBaseVNode("div",_hoisted_2$1a,[createBaseVNode("div",_hoisted_3$17,[withDirectives(createBaseVNode("input",{id:"permissionSearch","onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),type:"text",class:"form-control",placeholder:"Buscar permisos",onKeyup:withKeys(withModifiers(a,["prevent"]),["enter"])},null,40,_hoisted_4$S),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:n},[...l[1]||(l[1]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),l[2]||(l[2]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])])])],32))}},_hoisted_1$1f={class:"d-flex align-items-center gap-2"},_hoisted_2$19=["disabled","onClick"],_hoisted_3$16=["disabled","onClick"],_hoisted_4$R={class:"text-center"},_hoisted_5$M={class:"d-inline-flex align-items-center gap-2"},_hoisted_6$K=["onClick"],_hoisted_7$H=["onClick"],_hoisted_8$G={key:0},_sfc_main$1i={__name:"List",emits:["edit"],setup(e,{emit:t}){const s=usePermissionStore(),{list:o}=storeToRefs(s),a=useAuth(),n=[{title:"Nombre",key:"name"},{title:"Descripcin",key:"description"},{title:"Etiqueta",key:"menu_label"},{title:"Ruta",key:"menu_path"},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],r=t,l=async i=>{window.confirm(`Eliminar el permiso "${i.name}"?`)&&await s.delete(i)};return(i,d)=>(openBlock(),createBlock(Table,{items:unref(o),headers:n,"default-sort":{key:"id",direction:"desc"},"page-length":10,tag:"perm"},{actions:withCtx(({selected:c})=>[createBaseVNode("div",_hoisted_1$1f,[unref(a).can("permissions.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!c.item,onClick:u=>c.item&&r("edit",c.item)}," Editar ",8,_hoisted_2$19)):createCommentVNode("",!0),unref(a).can("permissions.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!c.item,onClick:u=>c.item&&l(c.item)}," Eliminar ",8,_hoisted_3$16)):createCommentVNode("",!0)])]),body:withCtx(({item:c})=>[createBaseVNode("td",null,toDisplayString(c.name),1),createBaseVNode("td",null,toDisplayString(c.description||""),1),createBaseVNode("td",null,toDisplayString(c.menu_label||""),1),createBaseVNode("td",null,toDisplayString(c.menu_path||""),1),createBaseVNode("td",_hoisted_4$R,[createBaseVNode("div",_hoisted_5$M,[unref(a).can("permissions.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:u=>r("edit",c)},[...d[0]||(d[0]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_6$K)):createCommentVNode("",!0),unref(a).can("permissions.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:u=>l(c)},[...d[1]||(d[1]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_7$H)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[unref(o).length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_8$G,[...d[2]||(d[2]=[createBaseVNode("td",{colspan:"5",class:"text-center text-muted"},"No hay permisos",-1)])]))]),_:1},8,["items"]))}},_hoisted_1$1e={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$18={class:"modal-content"},_hoisted_3$15={class:"modal-header py-2"},_hoisted_4$Q={class:"modal-title",id:"permissionModalLabel"},_hoisted_5$L={class:"modal-body p-0"},_hoisted_6$J={class:"row g-3"},_hoisted_7$G={class:"col-md-6"},_hoisted_8$F={key:0,class:"text-danger small mt-1"},_hoisted_9$D={class:"col-md-6"},_hoisted_10$z={key:0,class:"text-danger small mt-1"},_hoisted_11$v={class:"col-12"},_hoisted_12$o={key:0,class:"text-danger small mt-1"},_hoisted_13$m={class:"col-md-6"},_hoisted_14$m={key:0,class:"text-danger small mt-1"},_hoisted_15$l={class:"col-md-6"},_hoisted_16$k={key:0,class:"text-danger small mt-1"},_sfc_main$1h={__name:"Form",setup(e,{expose:t}){const s=ref(null);let o=null;const a=usePermissionStore();let n=null;const r=useToast(),l=()=>Permission.getDefault(),i=ref(l()),d=ref("create"),c=ref({}),u=async()=>{c.value={};try{d.value==="edit"?(await a.update(i.value),r.success("Permiso actualizado")):(await a.create(i.value),r.success("Permiso creado")),g()}catch(v){const _=v?.response?.data;v?.response?.status===422&&_?.errors?c.value=_.errors:r.danger("No se pudo guardar el permiso")}},m=()=>{d.value="create",i.value=l(),c.value={},o?.show()},f=v=>{d.value="edit",i.value={...l(),...v},c.value={},o?.show()},g=()=>{o?.hide()};return t({openCreate:m,openEdit:f,close:g}),onMounted(()=>{s.value&&(o=new Modal(s.value),n=()=>{const v=document.activeElement;v instanceof HTMLElement&&s.value?.contains(v)&&v.blur()},s.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&n&&(s.value.removeEventListener("hide.bs.modal",n),n=null)}),(v,_)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"permissionModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$1e,[createBaseVNode("div",_hoisted_2$18,[createBaseVNode("div",_hoisted_3$15,[createBaseVNode("h5",_hoisted_4$Q,toDisplayString(d.value==="edit"?"Editar permiso":"Nuevo permiso"),1),_[5]||(_[5]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$L,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(u,["prevent"])},[createBaseVNode("div",_hoisted_6$J,[createBaseVNode("div",_hoisted_7$G,[_[6]||(_[6]=createBaseVNode("label",{class:"form-label fw-semibold",for:"permissionName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"permissionName","onUpdate:modelValue":_[0]||(_[0]=b=>i.value.name=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.name}]),placeholder:"permissions.view"},null,2),[[vModelText,i.value.name]]),c.value.name?(openBlock(),createElementBlock("div",_hoisted_8$F,toDisplayString(c.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$D,[_[7]||(_[7]=createBaseVNode("label",{class:"form-label fw-semibold",for:"permissionLabel"},"Etiqueta",-1)),withDirectives(createBaseVNode("input",{id:"permissionLabel","onUpdate:modelValue":_[1]||(_[1]=b=>i.value.menu_label=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.menu_label}]),placeholder:"Permisos"},null,2),[[vModelText,i.value.menu_label]]),c.value.menu_label?(openBlock(),createElementBlock("div",_hoisted_10$z,toDisplayString(c.value.menu_label[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$v,[_[8]||(_[8]=createBaseVNode("label",{class:"form-label fw-semibold",for:"permissionDescription"},"Descripcin",-1)),withDirectives(createBaseVNode("textarea",{id:"permissionDescription","onUpdate:modelValue":_[2]||(_[2]=b=>i.value.description=b),rows:"2",class:normalizeClass(["form-control",{"is-invalid":c.value.description}]),placeholder:"Descripcin del permiso"},null,2),[[vModelText,i.value.description]]),c.value.description?(openBlock(),createElementBlock("div",_hoisted_12$o,toDisplayString(c.value.description[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$m,[_[9]||(_[9]=createBaseVNode("label",{class:"form-label fw-semibold",for:"permissionPath"},"Ruta",-1)),withDirectives(createBaseVNode("input",{id:"permissionPath","onUpdate:modelValue":_[3]||(_[3]=b=>i.value.menu_path=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.menu_path}]),placeholder:"/permissions"},null,2),[[vModelText,i.value.menu_path]]),c.value.menu_path?(openBlock(),createElementBlock("div",_hoisted_14$m,toDisplayString(c.value.menu_path[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$l,[_[10]||(_[10]=createBaseVNode("label",{class:"form-label fw-semibold",for:"permissionIcon"},"Icono",-1)),withDirectives(createBaseVNode("input",{id:"permissionIcon","onUpdate:modelValue":_[4]||(_[4]=b=>i.value.icon=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.icon}]),placeholder:"bi-shield-lock"},null,2),[[vModelText,i.value.icon]]),c.value.icon?(openBlock(),createElementBlock("div",_hoisted_16$k,toDisplayString(c.value.icon[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:g},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:u},"Guardar")])])])])],512))}},_hoisted_1$1d={class:"p-3"},_hoisted_2$17={class:"card card-body"},_hoisted_3$14={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$1g={__name:"index",setup(e){const t=usePermissionStore(),s=useAuth(),o=ref(null);return onMounted(()=>{t.get()}),(a,n)=>(openBlock(),createElementBlock("section",_hoisted_1$1d,[createBaseVNode("div",_hoisted_2$17,[n[2]||(n[2]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Permisos"),createBaseVNode("p",{class:"text-muted mb-0"},"Administra los permisos y las entradas de men.")],-1)),createBaseVNode("div",_hoisted_3$14,[createVNode(_sfc_main$1j,{class:"mb-0 flex-shrink-0"}),unref(s).can("permissions.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:n[0]||(n[0]=r=>o.value?.openCreate())}," Nuevo permiso ")):createCommentVNode("",!0)]),createVNode(_sfc_main$1i,{class:"mb-3",onEdit:n[1]||(n[1]=r=>o.value?.openEdit(r))})]),createVNode(_sfc_main$1h,{ref_key:"formRef",ref:o},null,512)]))}},permissionRoutes=[{path:"/permissions",name:"permissions.index",meta:{requiresAuth:!0,permissions:["permissions.view"]},component:_sfc_main$1g}],userConfig={alias:"users",route:"/api/users",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,name:null,email:null,country_id:null,username:null,phone_number:null,is_active:!0,roles:[],balances:null,latest_referral_registration:null,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},User=new Model(userConfig,api),createUserStore=(e=null,t=null,s=null)=>User.getStore(e,t,s),extraState$d={},extraGetters$d={filteredByIds:e=>(t=[])=>{const s=new Set(t.map(o=>Number(o)));return(e.list||[]).filter(o=>s.has(Number(o.id)))},name:e=>t=>{const s=(e.list||[]).find(o=>Number(o.id)===Number(t));return s?.name||s?.email||(t?`Usuario ${t}`:null)}},extraActions$d={},useUserStore=defineStore(User.alias,createUserStore(extraState$d,extraGetters$d,extraActions$d)),_hoisted_1$1c={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$16=["value"],_sfc_main$1f={__name:"Filter",props:{roles:{type:Array,default:()=>[]}},emits:["search"],setup(e,{emit:t}){const s=t,o=e,a=ref({search:"",status:"",has_referral:"",referral_status:"",referral_account_type:"",role_id:""}),n=()=>{s("search",{...a.value})};return watch(a,()=>{n()},{deep:!0}),(r,l)=>(openBlock(),createElementBlock("div",_hoisted_1$1c,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>a.value.search=i),type:"text",class:"form-control search-box",placeholder:"Buscar usuario"},null,512),[[vModelText,a.value.search,void 0,{trim:!0}]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":l[1]||(l[1]=i=>a.value.status=i),class:"form-select"},[...l[6]||(l[6]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:"active"},"Activos",-1),createBaseVNode("option",{value:"inactive"},"Inactivos",-1)])],512),[[vModelSelect,a.value.status]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":l[2]||(l[2]=i=>a.value.has_referral=i),class:"form-select"},[...l[7]||(l[7]=[createBaseVNode("option",{value:""},"Referido",-1),createBaseVNode("option",{value:"yes"},"Con referido",-1),createBaseVNode("option",{value:"no"},"Sin referido",-1)])],512),[[vModelSelect,a.value.has_referral]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":l[3]||(l[3]=i=>a.value.referral_account_type=i),class:"form-select"},[...l[8]||(l[8]=[createBaseVNode("option",{value:""},"Tipo referido",-1),createBaseVNode("option",{value:"1"},"Proveedor",-1),createBaseVNode("option",{value:"2"},"Distribuidor",-1)])],512),[[vModelSelect,a.value.referral_account_type]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":l[4]||(l[4]=i=>a.value.referral_status=i),class:"form-select"},[...l[9]||(l[9]=[createBaseVNode("option",{value:""},"Estado referido",-1),createBaseVNode("option",{value:"1"},"Pendiente",-1),createBaseVNode("option",{value:"2"},"Aceptado",-1),createBaseVNode("option",{value:"3"},"Rechazado",-1)])],512),[[vModelSelect,a.value.referral_status]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":l[5]||(l[5]=i=>a.value.role_id=i),class:"form-select"},[l[10]||(l[10]=createBaseVNode("option",{value:""},"Rol",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.roles,i=>(openBlock(),createElementBlock("option",{key:i.id,value:i.id},toDisplayString(i.name),9,_hoisted_2$16))),128))],512),[[vModelSelect,a.value.role_id]])]))}},_hoisted_1$1b={class:"d-flex align-items-center gap-2"},_hoisted_2$15=["disabled","onClick"],_hoisted_3$13={class:"fw-semibold"},_hoisted_4$P={class:"text-muted small"},_hoisted_5$K={key:0,class:"small"},_hoisted_6$I={key:1,class:"small"},_hoisted_7$F={key:2,class:"text-muted"},_hoisted_8$E={key:0,class:"role-badges"},_hoisted_9$C={key:1,class:"text-muted"},_hoisted_10$y={class:"badge text-bg-light"},_hoisted_11$u={class:"fw-semibold"},_hoisted_12$n={class:"text-center"},_hoisted_13$l={class:"d-inline-flex align-items-center gap-2"},_hoisted_14$l=["onClick"],_hoisted_15$k={key:0},_sfc_main$1e={__name:"List",props:{filters:{type:Object,default:()=>({})}},emits:["edit"],setup(e,{emit:t}){const s=e,o=useUserStore(),{list:a}=storeToRefs(o),n=useAuth(),r=t,l=f=>Number(f)===2?"Distribuidor":Number(f)===1?"Proveedor":"Sin referido",i=f=>Number(f)===1?"Pendiente":Number(f)===2?"Aceptado":Number(f)===3?"Rechazado":"",d=computed(()=>(a.value||[]).map(f=>{const g=f.latest_referral_registration||null,v=f.balances||{},_=Object.values(v).reduce((b,S)=>b+Number(S||0),0);return{...f,has_referral:!!g,referral_account_type:g?.account_type??null,referral_status:g?.status??null,referral_type_label:l(g?.account_type),referral_status_label:i(g?.status),wallet_balance_total:_}})),c=computed(()=>{const f=String(s.filters?.search||"").toLowerCase().trim(),g=s.filters?.status||"",v=s.filters?.has_referral||"",_=s.filters?.referral_status||"",b=s.filters?.referral_account_type||"",S=s.filters?.role_id||"";return d.value.filter(V=>!(f&&![V.name,V.email,V.username].filter(Boolean).join(" ").toLowerCase().includes(f)||g==="active"&&!V.is_active||g==="inactive"&&V.is_active||v==="yes"&&!V.has_referral||v==="no"&&V.has_referral||_&&Number(V.referral_status)!==Number(_)||b&&Number(V.referral_account_type)!==Number(b)||S&&!(V.roles||[]).some(B=>Number(B.id)===Number(S))))}),u=[{title:"Usuario",key:"name"},{title:"Contacto",key:"contact",sortKey:f=>f.username||f.email||""},{title:"Roles",key:"roles",sortable:!1},{title:"Estado",key:"is_active"},{title:"Referido",key:"referral_type_label"},{title:"Estado referido",key:"referral_status_label"},{title:"Saldo",key:"wallet_balance_total",class:"text-end"},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],m=f=>f?"badge text-bg-success":"badge text-bg-secondary";return(f,g)=>(openBlock(),createBlock(Table,{items:c.value,headers:u,"default-sort":{key:"id",direction:"desc"},"page-length":10,tag:"user"},{actions:withCtx(({selected:v})=>[createBaseVNode("div",_hoisted_1$1b,[unref(n).can("users.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!v.item,onClick:_=>v.item&&r("edit",v.item)}," Editar ",8,_hoisted_2$15)):createCommentVNode("",!0)])]),body:withCtx(({item:v})=>[createBaseVNode("td",null,[createBaseVNode("div",_hoisted_3$13,toDisplayString(v.name),1),createBaseVNode("div",_hoisted_4$P,toDisplayString(v.email),1)]),createBaseVNode("td",null,[v.username?(openBlock(),createElementBlock("div",_hoisted_5$K,"@"+toDisplayString(v.username),1)):createCommentVNode("",!0),v.phone_number?(openBlock(),createElementBlock("div",_hoisted_6$I,toDisplayString(v.phone_number),1)):createCommentVNode("",!0),!v.username&&!v.phone_number?(openBlock(),createElementBlock("span",_hoisted_7$F,"")):createCommentVNode("",!0)]),createBaseVNode("td",null,[v.roles?.length?(openBlock(),createElementBlock("div",_hoisted_8$E,[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.roles,_=>(openBlock(),createElementBlock("span",{key:_.id||_.name,class:"badge text-bg-primary"},toDisplayString(_.name),1))),128))])):(openBlock(),createElementBlock("span",_hoisted_9$C,""))]),createBaseVNode("td",null,[createBaseVNode("span",{class:normalizeClass(m(v.is_active))},toDisplayString(v.is_active?"Activo":"Inactivo"),3)]),createBaseVNode("td",null,[createBaseVNode("span",{class:normalizeClass(v.has_referral?"badge text-bg-info":"badge text-bg-light")},toDisplayString(v.referral_type_label),3)]),createBaseVNode("td",null,[createBaseVNode("span",_hoisted_10$y,toDisplayString(v.referral_status_label),1)]),createBaseVNode("td",null,[createBaseVNode("span",_hoisted_11$u,"USD "+toDisplayString(v.wallet_balance_total.toFixed(2)),1)]),createBaseVNode("td",_hoisted_12$n,[createBaseVNode("div",_hoisted_13$l,[unref(n).can("users.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:_=>r("edit",v)},[...g[0]||(g[0]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_14$l)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[c.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_15$k,[...g[1]||(g[1]=[createBaseVNode("td",{colspan:"8",class:"text-center text-muted"},"No hay usuarios",-1)])]))]),_:1},8,["items"]))}},List$1=_export_sfc(_sfc_main$1e,[["__scopeId","data-v-c0adea84"]]),_hoisted_1$1a={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$14={class:"modal-content"},_hoisted_3$12={class:"modal-header py-2"},_hoisted_4$O={class:"modal-title",id:"userModalLabel"},_hoisted_5$J={class:"modal-body p-0"},_hoisted_6$H={class:"row g-3"},_hoisted_7$E={class:"col-md-6"},_hoisted_8$D={key:0,class:"text-danger small mt-1"},_hoisted_9$B={class:"col-md-6"},_hoisted_10$x={key:0,class:"text-danger small mt-1"},_hoisted_11$t={class:"col-md-6"},_hoisted_12$m={key:0,class:"text-danger small mt-1"},_hoisted_13$k={class:"col-md-6"},_hoisted_14$k={key:0,class:"text-danger small mt-1"},_hoisted_15$j={class:"col-md-6"},_hoisted_16$j=["value"],_hoisted_17$i={key:0,class:"text-danger small mt-1"},_hoisted_18$g={class:"col-md-6"},_hoisted_19$e={key:0,class:"text-danger small mt-1"},_hoisted_20$c={key:1,class:"form-text"},_hoisted_21$b={class:"col-md-6"},_hoisted_22$b={class:"col-12"},_hoisted_23$9=["value"],_hoisted_24$9={key:0,class:"text-danger small mt-1"},_hoisted_25$7={class:"col-12"},_hoisted_26$7={class:"form-check form-switch"},_hoisted_27$7={key:0,class:"text-danger small mt-1"},_sfc_main$1d={__name:"Form",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useUserStore(),r=useRoleStore(),l=useCountryStore(),{list:i}=storeToRefs(r),{list:d}=storeToRefs(l),c=useToast(),u=ref("create"),m=ref({}),f=ref(User.getDefault()),g=()=>({...User.getDefault(),password:"",password_confirmation:"",roles:[]}),v=()=>{const k={id:f.value.id,name:f.value.name,email:f.value.email,country_id:f.value.country_id?Number(f.value.country_id):null,username:f.value.username,phone_number:f.value.phone_number,is_active:f.value.is_active,roles:(f.value.roles||[]).map(B=>Number(B))};return f.value.password&&(k.password=f.value.password,k.password_confirmation=f.value.password_confirmation),k},_=async()=>{m.value={};try{const k=v();u.value==="edit"?(await n.update(k),c.success("Usuario actualizado")):(await n.create({...k,password:f.value.password,password_confirmation:f.value.password_confirmation}),c.success("Usuario creado")),await n.get({with:"roles,latest_referral"}),V()}catch(k){const B=k?.response?.data;k?.response?.status===422&&B?.errors?m.value=B.errors:c.danger("No se pudo guardar el usuario")}},b=()=>{u.value="create",f.value=g(),m.value={},o?.show()},S=k=>{u.value="edit",f.value={...g(),...k,roles:(k.roles||[]).map(B=>B.id)},m.value={},o?.show()},V=()=>{o?.hide()};return t({openCreate:b,openEdit:S,close:V}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const k=document.activeElement;k instanceof HTMLElement&&s.value?.contains(k)&&k.blur()},s.value.addEventListener("hide.bs.modal",a))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(k,B)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"userModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$1a,[createBaseVNode("div",_hoisted_2$14,[createBaseVNode("div",_hoisted_3$12,[createBaseVNode("h5",_hoisted_4$O,toDisplayString(u.value==="edit"?"Editar usuario":"Nuevo usuario"),1),B[9]||(B[9]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$J,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(_,["prevent"])},[createBaseVNode("div",_hoisted_6$H,[createBaseVNode("div",_hoisted_7$E,[B[10]||(B[10]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"userName","onUpdate:modelValue":B[0]||(B[0]=O=>f.value.name=O),type:"text",class:normalizeClass(["form-control",{"is-invalid":m.value.name}]),placeholder:"Nombre completo"},null,2),[[vModelText,f.value.name,void 0,{trim:!0}]]),m.value.name?(openBlock(),createElementBlock("div",_hoisted_8$D,toDisplayString(m.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$B,[B[11]||(B[11]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userEmail"},"Correo",-1)),withDirectives(createBaseVNode("input",{id:"userEmail","onUpdate:modelValue":B[1]||(B[1]=O=>f.value.email=O),type:"email",class:normalizeClass(["form-control",{"is-invalid":m.value.email}]),placeholder:"correo@empresa.com"},null,2),[[vModelText,f.value.email,void 0,{trim:!0}]]),m.value.email?(openBlock(),createElementBlock("div",_hoisted_10$x,toDisplayString(m.value.email[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$t,[B[12]||(B[12]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userUsername"},"Nombre de usuario",-1)),withDirectives(createBaseVNode("input",{id:"userUsername","onUpdate:modelValue":B[2]||(B[2]=O=>f.value.username=O),type:"text",class:normalizeClass(["form-control",{"is-invalid":m.value.username}]),placeholder:"usuario",required:""},null,2),[[vModelText,f.value.username,void 0,{trim:!0}]]),m.value.username?(openBlock(),createElementBlock("div",_hoisted_12$m,toDisplayString(m.value.username[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$k,[B[13]||(B[13]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userPhone"},"Celular",-1)),withDirectives(createBaseVNode("input",{id:"userPhone","onUpdate:modelValue":B[3]||(B[3]=O=>f.value.phone_number=O),type:"text",class:normalizeClass(["form-control",{"is-invalid":m.value.phone_number}]),placeholder:"+51 999 999 999"},null,2),[[vModelText,f.value.phone_number,void 0,{trim:!0}]]),m.value.phone_number?(openBlock(),createElementBlock("div",_hoisted_14$k,toDisplayString(m.value.phone_number[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$j,[B[15]||(B[15]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userCountry"},"Pas",-1)),withDirectives(createBaseVNode("select",{id:"userCountry","onUpdate:modelValue":B[4]||(B[4]=O=>f.value.country_id=O),class:normalizeClass(["form-select",{"is-invalid":m.value.country_id}])},[B[14]||(B[14]=createBaseVNode("option",{value:""},"Selecciona un pas",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(d),O=>(openBlock(),createElementBlock("option",{key:O.id,value:O.id},toDisplayString(O.name),9,_hoisted_16$j))),128))],2),[[vModelSelect,f.value.country_id]]),m.value.country_id?(openBlock(),createElementBlock("div",_hoisted_17$i,toDisplayString(m.value.country_id[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_18$g,[B[16]||(B[16]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userPassword"},"Contrasena",-1)),withDirectives(createBaseVNode("input",{id:"userPassword","onUpdate:modelValue":B[5]||(B[5]=O=>f.value.password=O),type:"password",class:normalizeClass(["form-control",{"is-invalid":m.value.password}]),placeholder:"Minimo 8 caracteres"},null,2),[[vModelText,f.value.password]]),m.value.password?(openBlock(),createElementBlock("div",_hoisted_19$e,toDisplayString(m.value.password[0]),1)):createCommentVNode("",!0),u.value==="edit"?(openBlock(),createElementBlock("div",_hoisted_20$c,"Dejar en blanco para mantener.")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_21$b,[B[17]||(B[17]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userPasswordConfirm"},"Confirmar contrasena",-1)),withDirectives(createBaseVNode("input",{id:"userPasswordConfirm","onUpdate:modelValue":B[6]||(B[6]=O=>f.value.password_confirmation=O),type:"password",class:"form-control",placeholder:"Repite la contrasena"},null,512),[[vModelText,f.value.password_confirmation]])]),createBaseVNode("div",_hoisted_22$b,[B[18]||(B[18]=createBaseVNode("label",{class:"form-label fw-semibold",for:"userRoles"},"Roles",-1)),withDirectives(createBaseVNode("select",{id:"userRoles","onUpdate:modelValue":B[7]||(B[7]=O=>f.value.roles=O),class:"form-select",multiple:"",size:"6"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(i),O=>(openBlock(),createElementBlock("option",{key:O.id,value:O.id},toDisplayString(O.name),9,_hoisted_23$9))),128))],512),[[vModelSelect,f.value.roles]]),m.value.roles?(openBlock(),createElementBlock("div",_hoisted_24$9,toDisplayString(m.value.roles[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_25$7,[createBaseVNode("div",_hoisted_26$7,[withDirectives(createBaseVNode("input",{id:"userActive","onUpdate:modelValue":B[8]||(B[8]=O=>f.value.is_active=O),class:"form-check-input",type:"checkbox",role:"switch"},null,512),[[vModelCheckbox,f.value.is_active]]),B[19]||(B[19]=createBaseVNode("label",{class:"form-check-label",for:"userActive"},"Cuenta activa",-1))]),m.value.is_active?(openBlock(),createElementBlock("div",_hoisted_27$7,toDisplayString(m.value.is_active[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:V},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:_},"Guardar")])])])])],512))}},_hoisted_1$19={class:"p-3"},_hoisted_2$13={class:"card card-body"},_hoisted_3$11={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$1c={__name:"index",setup(e){const t=useUserStore(),s=useRoleStore(),o=useCountryStore(),{list:a}=storeToRefs(s),n=useAuth(),r=ref(null),l=ref({search:"",status:"",has_referral:"",referral_status:"",referral_account_type:"",role_id:""}),i=d=>{l.value=d};return onMounted(()=>{t.get({with:"roles,latest_referral",include:"balances"}),s.get(),o.get({is_active:!0})}),(d,c)=>(openBlock(),createElementBlock("section",_hoisted_1$19,[createBaseVNode("div",_hoisted_2$13,[c[2]||(c[2]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Usuarios"),createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona usuarios y asigna roles desde administracin.")],-1)),createBaseVNode("div",_hoisted_3$11,[createVNode(_sfc_main$1f,{class:"mb-0 flex-shrink-0",roles:unref(a),onSearch:i},null,8,["roles"]),unref(n).can("users.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:c[0]||(c[0]=u=>r.value?.openCreate())}," Nuevo usuario ")):createCommentVNode("",!0)]),createVNode(List$1,{class:"mb-3",filters:l.value,onEdit:c[1]||(c[1]=u=>r.value?.openEdit(u))},null,8,["filters"])]),createVNode(_sfc_main$1d,{ref_key:"formRef",ref:r},null,512)]))}},userRoutes=[{path:"/users",name:"users.index",meta:{requiresAuth:!0,permissions:["users.view"]},component:_sfc_main$1c}],productConfig={alias:"products",route:"/api/products",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,provider_id:null,category_id:null,tag_ids:[],name:"",description:"",delivery_mode:"automated",access_type:null,base_price_usd:0,validity_days:null,is_renewable:!1,is_unlimited_stock:!1,status:1,buyer_description:"",installation_instructions:"",course_format:null,available_stock:0,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Product=new Model(productConfig,api),createProductStore=(e=null,t=null,s=null)=>Product.getStore(e,t,s),extraState$c={},extraGetters$c={},extraActions$c={async updateStatus(e,t){const s=await api.patch(`/api/products/${e}/status`,{status:t});return this.syncItem(s?.data),s}},useProductStore=defineStore(Product.alias,createProductStore(extraState$c,extraGetters$c,extraActions$c)),_hoisted_1$18={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$12={class:"search-box"},_hoisted_3$10={class:"input-group"},_hoisted_4$N=["onKeyup"],_hoisted_5$I=["value"],_hoisted_6$G=["value"],_sfc_main$1b={__name:"Filter",props:{categories:{type:Array,default:()=>[]},providers:{type:Array,default:()=>[]},showProviderSelect:{type:Boolean,default:!1},currentProviderId:{type:[Number,String],default:null}},emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=ref(null),n=ref(""),r=ref(null),l=e,i=()=>s("search",{term:o.value.trim(),category_id:a.value,status:n.value,provider_id:r.value||null}),d=()=>{o.value="",a.value=null,n.value="",r.value=null,s("search",{term:"",category_id:null,status:"",provider_id:null})};return watch(()=>l.currentProviderId,c=>{r.value=c||null}),(c,u)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(i,["prevent"])},[createBaseVNode("div",_hoisted_1$18,[createBaseVNode("div",_hoisted_2$12,[createBaseVNode("div",_hoisted_3$10,[withDirectives(createBaseVNode("input",{id:"productSearch","onUpdate:modelValue":u[0]||(u[0]=m=>o.value=m),type:"text",class:"form-control",placeholder:"Buscar por nombre o descripcin",onKeyup:withKeys(withModifiers(i,["prevent"]),["enter"])},null,40,_hoisted_4$N),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:d},[...u[4]||(u[4]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),u[5]||(u[5]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])]),l.showProviderSelect?withDirectives((openBlock(),createElementBlock("select",{key:0,"onUpdate:modelValue":u[1]||(u[1]=m=>r.value=m),class:"form-select w-auto",onChange:i},[u[6]||(u[6]=createBaseVNode("option",{value:null},"Proveedor",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.providers,m=>(openBlock(),createElementBlock("option",{key:m.id,value:m.id},toDisplayString(m.label),9,_hoisted_5$I))),128))],544)),[[vModelSelect,r.value]]):createCommentVNode("",!0),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":u[2]||(u[2]=m=>a.value=m),class:"form-select w-auto",onChange:i},[u[7]||(u[7]=createBaseVNode("option",{value:null},"Categora",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.categories,m=>(openBlock(),createElementBlock("option",{key:m.id,value:m.id},toDisplayString(m.name),9,_hoisted_6$G))),128))],544),[[vModelSelect,a.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":u[3]||(u[3]=m=>n.value=m),class:"form-select w-auto",onChange:i},[...u[8]||(u[8]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:1},"Pendiente",-1),createBaseVNode("option",{value:2},"Publicado",-1),createBaseVNode("option",{value:3},"Archivado",-1),createBaseVNode("option",{value:4},"Agotado",-1),createBaseVNode("option",{value:5},"Suspendido",-1)])],544),[[vModelSelect,n.value,void 0,{number:!0}]])])],32))}},_hoisted_1$17=["href"],_hoisted_2$11=["src","alt"],_hoisted_3$$={key:1,class:"text-muted"},_hoisted_4$M={key:0,class:"preview-modal"},_hoisted_5$H={class:"preview-card"},_hoisted_6$F=["src","alt"],_sfc_main$1a={__name:"HoverImagePreview",props:{src:{type:String,default:""},alt:{type:String,default:"Imagen"},thumbWidth:{type:Number,default:56},thumbHeight:{type:Number,default:32},previewMaxWidth:{type:String,default:"85vw"},previewWidth:{type:String,default:"640px"}},setup(e){const t=e,s=ref(""),o=computed(()=>!!t.src),a=computed(()=>({width:`${t.thumbWidth}px`,height:`${t.thumbHeight}px`})),n=()=>{s.value=t.src||""},r=()=>{s.value=""};return(l,i)=>(openBlock(),createElementBlock(Fragment,null,[o.value?(openBlock(),createElementBlock("span",{key:0,class:"thumb-wrapper",onMouseenter:n,onMouseleave:r},[createBaseVNode("a",{href:e.src,target:"_blank",rel:"noopener"},[createBaseVNode("img",{src:e.src,alt:e.alt,class:"thumb-image",style:normalizeStyle(a.value)},null,12,_hoisted_2$11)],8,_hoisted_1$17)],32)):(openBlock(),createElementBlock("span",_hoisted_3$$,"")),(openBlock(),createBlock(Teleport,{to:"body"},[s.value?(openBlock(),createElementBlock("div",_hoisted_4$M,[createBaseVNode("div",_hoisted_5$H,[createBaseVNode("img",{src:s.value,alt:e.alt,class:"preview-image",style:normalizeStyle({maxWidth:e.previewMaxWidth,width:e.previewWidth})},null,12,_hoisted_6$F)])])):createCommentVNode("",!0)]))],64))}},HoverImagePreview=_export_sfc(_sfc_main$1a,[["__scopeId","data-v-66b03df4"]]);function resolveFileUrl(e){if(!e)return"";const t=typeof e=="string"?e:e.url,s=(api.defaults.baseURL||"").replace(/\/+$/,""),o=s.endsWith("/api")?s:`${s}/api`;if(e?.id)return s?`${o}/files/${e.id}/download`:`/api/files/${e.id}/download`;if(/^https?:\/\//i.test(t)){if(!s||t.startsWith(s))return t;const a=t.indexOf("/storage/");return a!==-1?`${s}${t.slice(a)}`:t}return s?t.startsWith("/")?`${s}${t}`:`${s}/${t}`:t}const _hoisted_1$16={class:"d-flex align-items-center gap-2"},_hoisted_2$10=["disabled","onClick"],_hoisted_3$_=["onClick"],_hoisted_4$L={key:2,class:"dropdown"},_hoisted_5$G={class:"dropdown-menu"},_hoisted_6$E=["onClick"],_hoisted_7$D=["disabled","onClick"],_hoisted_8$C={class:"text-end"},_hoisted_9$A={class:"text-end"},_hoisted_10$w={class:"text-end"},_hoisted_11$s={class:"text-center"},_hoisted_12$l={class:"d-inline-flex align-items-center gap-2"},_hoisted_13$j=["onClick"],_hoisted_14$j=["onClick"],_hoisted_15$i={key:2,class:"dropdown"},_hoisted_16$i={class:"dropdown-menu"},_hoisted_17$h=["onClick"],_hoisted_18$f=["onClick"],_hoisted_19$d={key:0},_sfc_main$19={__name:"List",props:{categories:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({term:"",category_id:null,status:""})},pageSize:{type:Number,default:10}},emits:["edit","inventory"],setup(e,{emit:t}){const s=t,o=e,a=useProductStore(),n=useAuth(),r=computed(()=>a.list),l=computed(()=>Array.isArray(n.user?.roles)&&n.user.roles.some(C=>C.name==="admin")),i=computed(()=>Number(n.user?.id||0)),d=computed(()=>o.categories.reduce((C,w)=>(C[w.id]=w.name,C),{})),c=computed(()=>o.tags.reduce((C,w)=>(C[w.id]=w.name,C),{})),u={1:"Pendiente",2:"Publicado",3:"Archivado",4:"Agotado",5:"Suspendido"},m=C=>{const w=Number(C?.published_price_usd??0);return w>0?w:Number(C?.base_price_usd||0)},f=C=>{const L=(Array.isArray(C.tag_ids)?C.tag_ids:Array.isArray(C.tag_pivots)?C.tag_pivots.map(y=>y.tag_id):[]).map(y=>c.value[y]).filter(Boolean);return L.length?L.join(", "):""},g=(C=[])=>{if(!Array.isArray(C)||!C.length)return"";const w=C.find(L=>L.is_active)||C[0];return resolveFileUrl(w)},v=C=>C?l.value?!0:Number(C.provider_id)===Number(n.user?.id):!1,_=C=>{if(!C)return[];const w=Number(C.status),L=[],y=(N,E)=>{L.push({toStatus:N,label:E})};return w===1&&(y(2,"Publicar"),y(3,"Archivar")),w===2&&(y(3,"Archivar"),y(4,"Marcar agotado"),l.value&&y(5,"Suspender")),w===3&&y(2,"Publicar"),w===4&&l.value&&y(2,"Publicar"),w===5&&l.value&&y(2,"Publicar"),L},b=async(C,w)=>{if(!C)return;const L=u[w]||w;window.confirm(`Cambiar estado de "${C.name}" a "${L}"?`)&&await a.updateStatus(C.id,w)},S=computed(()=>{const C=o.filters.term?.toLowerCase()||"",w=o.filters.category_id,L=o.filters.status||"",y=o.filters.provider_id,N=i.value;return r.value.filter(E=>!l.value&&N&&Number(E.provider_id)!==N||y&&Number(E.provider_id)!==Number(y)||w&&Number(E.category_id)!==Number(w)||L!==""&&Number(E.status)!==Number(L)?!1:C?[E.name,E.description].some($=>($||"").toLowerCase().includes(C)):!0)}),V=computed(()=>[{title:"Nombre",key:"name"},{title:"Categora",key:"category_id",sortKey:C=>d.value[C.category_id]||""},{title:"Etiquetas",key:"tags",sortKey:C=>f(C)},{title:"Vigencia",key:"validity_days"},{title:"Precio base",key:"base_price_usd",class:"text-end"},{title:"Precio publicado",key:"published_price",sortKey:C=>m(C),class:"text-end"},{title:"Stock",key:"available_stock",sortKey:C=>C.is_unlimited_stock?Number.MAX_SAFE_INTEGER:Number(C.available_stock||0),class:"text-end"},{title:"Estado",key:"status"},{title:"Imagen",key:"image",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}]),k=C=>s("edit",C),B=C=>s("inventory",C),O=C=>!!C,M=C=>n.can("products.edit")&&v(C)&&_(C).length>0,R=async C=>{window.confirm(`Eliminar el producto "${C.name}"?`)&&await a.delete(C)};return(C,w)=>(openBlock(),createBlock(Table,{items:S.value,headers:V.value,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"product"},{actions:withCtx(({selected:L})=>[createBaseVNode("div",_hoisted_1$16,[unref(n).can("products.edit")&&v(L.item)?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!L.item,onClick:y=>L.item&&k(L.item)}," Editar ",8,_hoisted_2$10)):createCommentVNode("",!0),unref(n).can("product-inventories.view")&&v(L.item)&&L.item&&O(L.item)?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-secondary btn-sm",onClick:y=>B(L.item)}," Inventario ",8,_hoisted_3$_)):createCommentVNode("",!0),L.item&&M(L.item)?(openBlock(),createElementBlock("div",_hoisted_4$L,[w[0]||(w[0]=createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary btn-sm dropdown-toggle","data-bs-toggle":"dropdown"}," Estado ",-1)),createBaseVNode("ul",_hoisted_5$G,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_(L.item),y=>(openBlock(),createElementBlock("li",{key:`status-${L.item.id}-${y.toStatus}`},[createBaseVNode("button",{type:"button",class:"dropdown-item",onClick:N=>b(L.item,y.toStatus)},toDisplayString(y.label),9,_hoisted_6$E)]))),128))])])):createCommentVNode("",!0),unref(n).can("products.delete")&&v(L.item)?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!L.item,onClick:y=>L.item&&R(L.item)}," Eliminar ",8,_hoisted_7$D)):createCommentVNode("",!0)])]),body:withCtx(({item:L})=>[createBaseVNode("td",null,toDisplayString(L.name),1),createBaseVNode("td",null,toDisplayString(d.value[L.category_id]||""),1),createBaseVNode("td",null,toDisplayString(f(L)),1),createBaseVNode("td",null,toDisplayString(L.validity_days?`${L.validity_days} das`:"Sin vencimiento"),1),createBaseVNode("td",_hoisted_8$C,toDisplayString(Number(L.base_price_usd||0).toFixed(2)),1),createBaseVNode("td",_hoisted_9$A,toDisplayString(m(L).toFixed(2)),1),createBaseVNode("td",_hoisted_10$w,toDisplayString(L.is_unlimited_stock?"Ilimitado":L.available_stock??0),1),createBaseVNode("td",null,toDisplayString(u[L.status]||L.status||""),1),createBaseVNode("td",null,[createVNode(HoverImagePreview,{src:g(L.files),alt:"Producto"},null,8,["src"])]),createBaseVNode("td",_hoisted_11$s,[createBaseVNode("div",_hoisted_12$l,[unref(n).can("products.edit")&&v(L)?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:y=>k(L)},[...w[1]||(w[1]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_13$j)):createCommentVNode("",!0),unref(n).can("product-inventories.view")&&v(L)&&O(L)?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-secondary btn-sm",title:"Inventario","aria-label":"Inventario",onClick:y=>B(L)},[...w[2]||(w[2]=[createBaseVNode("i",{class:"bi bi-box-seam"},null,-1)])],8,_hoisted_14$j)):createCommentVNode("",!0),M(L)?(openBlock(),createElementBlock("div",_hoisted_15$i,[w[3]||(w[3]=createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary btn-sm dropdown-toggle",title:"Estado","aria-label":"Estado","data-bs-toggle":"dropdown"},[createBaseVNode("i",{class:"bi bi-arrow-repeat"})],-1)),createBaseVNode("ul",_hoisted_16$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_(L),y=>(openBlock(),createElementBlock("li",{key:`status-row-${L.id}-${y.toStatus}`},[createBaseVNode("button",{type:"button",class:"dropdown-item",onClick:N=>b(L,y.toStatus)},toDisplayString(y.label),9,_hoisted_17$h)]))),128))])])):createCommentVNode("",!0),unref(n).can("products.delete")&&v(L)?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:y=>R(L)},[...w[4]||(w[4]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_18$f)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[S.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_19$d,[...w[5]||(w[5]=[createBaseVNode("td",{colspan:"10",class:"text-center text-muted"},"No hay productos registrados",-1)])]))]),_:1},8,["items","headers","page-length"]))}},fileConfig={alias:"files",route:"/api/files",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,url:"",name:"",mime_type:"",size_bytes:0,storage:"",hash:"",created_by:null,is_active:!0,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},File$1=new Model(fileConfig,api),createFileStore=(e=null,t=null,s=null)=>File$1.getStore(e,t,s),extraState$b={},extraGetters$b={},extraActions$b={},useFileStore=defineStore(File$1.alias,createFileStore(extraState$b,extraGetters$b,extraActions$b)),_hoisted_1$15=["onKeydown"],_hoisted_2$$={class:"d-flex flex-column align-items-center gap-2"},_hoisted_3$Z={key:0,class:"w-100"},_hoisted_4$K={class:"ratio ratio-4x3 bg-white rounded-3 border overflow-hidden"},_hoisted_5$F=["src","alt"],_hoisted_6$D={class:"fw-semibold"},_hoisted_7$C={class:"text-muted small"},_hoisted_8$B={class:"d-flex justify-content-center gap-2 flex-wrap"},_hoisted_9$z={key:2,class:"small text-truncate w-100"},_hoisted_10$v=["accept","multiple"],_hoisted_11$r={key:0,class:"form-text"},_hoisted_12$k={key:1,class:"mt-3"},_hoisted_13$i={class:"row g-2"},_hoisted_14$i={class:"border rounded-3 overflow-hidden bg-white"},_hoisted_15$h=["src","alt"],_hoisted_16$h={class:"small text-truncate mt-1"},_hoisted_17$g=["onClick"],_sfc_main$18={__name:"FileDropzone",props:{modelValue:{type:[File,Object,Array,null],default:null},accept:{type:String,default:"image/*"},multiple:{type:Boolean,default:!1},title:{type:String,default:"Arrastra y suelta una imagen"},subtitle:{type:String,default:"o pega una imagen / elige un archivo"},buttonLabel:{type:String,default:"Elegir archivo"},help:{type:String,default:""}},emits:["update:modelValue","rejected"],setup(e,{emit:t}){const s=e,o=t,a=ref(null),n=ref(null),r=ref(!1),l=ref([]),i=computed(()=>s.multiple?Array.isArray(s.modelValue)?s.modelValue:[]:s.modelValue?[s.modelValue]:[]),d=computed(()=>!s.multiple&&l.value.length>0),c=computed(()=>s.multiple&&l.value.length>0),u=computed(()=>i.value[0]?.name||""),m=computed(()=>!s.multiple&&u.value?"Reemplazar archivo":s.buttonLabel),f=()=>{n.value&&n.value.focus()},g=()=>{f(),a.value?.click()},v=()=>{o("update:modelValue",null),a.value&&(a.value.value="")},_=w=>{if(!s.multiple){v();return}const L=i.value.filter((y,N)=>N!==w);o("update:modelValue",L)},b=w=>{if(!w?.type?.startsWith("image/"))return!1;const y=(s.accept||"").split(",").map(N=>N.trim()).filter(Boolean);return y.length?y.some(N=>{if(N==="*/*")return!0;if(N.endsWith("/*")){const E=N.slice(0,-1);return w.type.startsWith(E)}return N.startsWith(".")?w.name.toLowerCase().endsWith(N.toLowerCase()):w.type===N}):!0},S=w=>{if(!w?.length)return;const L=w.filter(b);w.filter(N=>!b(N)).forEach(N=>o("rejected",N)),L.length&&(s.multiple?o("update:modelValue",[...i.value,...L]):o("update:modelValue",L[0]))},V=w=>{const L=Array.from(w.target.files||[]);S(L)},k=w=>{r.value=!1;const L=Array.from(w.dataTransfer?.files||[]);S(L)},B=w=>{const L=w.clipboardData,y=Array.from(L?.files||[]);if(y.length){S(y);return}const N=L?.items||[],$=Array.from(N).find(H=>H.kind==="file")?.getAsFile();$&&S([$])},O=()=>{r.value=!0},M=()=>{r.value=!0},R=()=>{r.value=!1};watch(()=>s.modelValue,w=>{!w&&a.value&&(a.value.value="")});const C=()=>{l.value.forEach(w=>URL.revokeObjectURL(w.url)),l.value=[]};return watch(i,w=>{C(),l.value=w.map(L=>({name:L.name||"imagen",url:URL.createObjectURL(L)}))},{immediate:!0}),onBeforeUnmount(()=>{C()}),(w,L)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",{ref_key:"dropzoneRef",ref:n,class:normalizeClass(["dropzone border rounded-3 p-3 text-center bg-light",{"dropzone--active":r.value}]),tabindex:"0",role:"button",onClick:g,onKeydown:[withKeys(withModifiers(g,["prevent"]),["enter"]),withKeys(withModifiers(g,["prevent"]),["space"])],onDragenter:withModifiers(O,["prevent"]),onDragover:withModifiers(M,["prevent"]),onDragleave:withModifiers(R,["prevent"]),onDrop:withModifiers(k,["prevent"]),onPaste:B},[createBaseVNode("div",_hoisted_2$$,[d.value?(openBlock(),createElementBlock("div",_hoisted_3$Z,[createBaseVNode("div",_hoisted_4$K,[createBaseVNode("img",{src:l.value[0].url,alt:l.value[0].name,class:"w-100 h-100 object-fit-contain"},null,8,_hoisted_5$F)])])):(openBlock(),createElementBlock(Fragment,{key:1},[L[0]||(L[0]=createBaseVNode("i",{class:"bi bi-cloud-arrow-up fs-2 text-secondary"},null,-1)),createBaseVNode("div",_hoisted_6$D,toDisplayString(e.title),1),createBaseVNode("div",_hoisted_7$C,toDisplayString(e.subtitle),1)],64)),createBaseVNode("div",_hoisted_8$B,[createBaseVNode("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:withModifiers(g,["stop"])},toDisplayString(m.value),1),u.value&&!e.multiple?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-secondary btn-sm",onClick:withModifiers(v,["stop"])}," Quitar ")):createCommentVNode("",!0)]),u.value&&!e.multiple?(openBlock(),createElementBlock("div",_hoisted_9$z,toDisplayString(u.value),1)):createCommentVNode("",!0)]),createBaseVNode("input",{ref_key:"fileInputRef",ref:a,type:"file",class:"d-none",accept:e.accept,multiple:e.multiple,onChange:V},null,40,_hoisted_10$v)],42,_hoisted_1$15),e.help?(openBlock(),createElementBlock("div",_hoisted_11$r,toDisplayString(e.help),1)):createCommentVNode("",!0),c.value?(openBlock(),createElementBlock("div",_hoisted_12$k,[createBaseVNode("div",_hoisted_13$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(y,N)=>(openBlock(),createElementBlock("div",{key:y.url,class:"col-6 col-md-4"},[createBaseVNode("div",_hoisted_14$i,[createBaseVNode("img",{src:y.url,alt:y.name,class:"img-fluid w-100"},null,8,_hoisted_15$h)]),createBaseVNode("div",_hoisted_16$h,toDisplayString(y.name),1),createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary btn-sm w-100 mt-2",onClick:withModifiers(E=>_(N),["stop"])}," Quitar ",8,_hoisted_17$g)]))),128))])])):createCommentVNode("",!0)]))}},FileDropzone=_export_sfc(_sfc_main$18,[["__scopeId","data-v-abd2c11d"]]),_sfc_main$17={__name:"TagBadge",props:{tag:{type:Object,default:null},label:{type:String,default:""},color:{type:String,default:""},tagType:{type:String,default:""},pill:{type:Boolean,default:!0},className:{type:String,default:""}},setup(e){const t=e,s={duration:"primary",quality:"success",account:"warning",promotion:"danger",provider:"info"},o=computed(()=>t.label||t.tag?.name||""),a=computed(()=>String(t.color||t.tag?.color||"").trim()),n=computed(()=>t.tagType||t.tag?.tag_type||""),r=d=>{const c=d.replace("#","").trim();if(![3,6].includes(c.length))return!1;const u=c.length===3?c.split("").map(_=>_+_).join(""):c,m=parseInt(u.slice(0,2),16),f=parseInt(u.slice(2,4),16),g=parseInt(u.slice(4,6),16);return Number.isNaN(m)||Number.isNaN(f)||Number.isNaN(g)?!1:(.2126*m+.7152*f+.0722*g)/255>=.6},l=computed(()=>a.value?r(a.value)?"text-dark":"text-white":`text-bg-${s[n.value]||"secondary"}`),i=computed(()=>a.value?{backgroundColor:a.value}:null);return(d,c)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge",[l.value,e.pill?"rounded-pill":"",e.className]]),style:normalizeStyle(i.value)},toDisplayString(o.value),7))}},_hoisted_1$14={class:"card h-100 shadow-sm border-0 position-relative"},_hoisted_2$_={class:"ratio ratio-4x3 bg-light position-relative overflow-hidden"},_hoisted_3$Y={class:"w-100 h-100"},_hoisted_4$J={class:"w-100 h-100 position-relative"},_hoisted_5$E=["src","alt"],_hoisted_6$C={key:1,class:"position-absolute top-50 start-50 translate-middle text-primary"},_hoisted_7$B={key:2,class:"d-flex align-items-center justify-content-center text-muted h-100"},_hoisted_8$A={key:3,class:"position-absolute top-0 start-0 p-2 d-flex flex-wrap gap-2 align-items-start"},_hoisted_9$y={class:"position-absolute top-0 end-0 mt-2 me-n2 d-flex flex-column gap-2"},_hoisted_10$u=["data-bs-toggle","data-bs-target","disabled"],_hoisted_11$q=["data-bs-toggle","data-bs-target","disabled"],_hoisted_12$j={class:"card-body d-flex flex-column"},_hoisted_13$h={class:"d-flex align-items-start justify-content-between gap-2 mb-2"},_hoisted_14$h={class:"card-title mb-1 text-wrap"},_hoisted_15$g={class:"mt-auto border-top pt-3"},_hoisted_16$g={class:"d-flex flex-column flex-sm-row align-items-start gap-3"},_hoisted_17$f={class:"flex-grow-1"},_hoisted_18$e={class:"fs-4 fw-bold"},_hoisted_19$c={class:"text-muted small"},_hoisted_20$b={class:"border-start ps-3 mt-2 mt-sm-0"},_hoisted_21$a={class:"d-flex align-items-center gap-1 text-muted small mb-2"},_hoisted_22$a={class:"fw-semibold"},_hoisted_23$8=["disabled"],_hoisted_24$8={class:"d-inline-flex align-items-center justify-content-center gap-2"},_hoisted_25$6=["id","aria-labelledby"],_hoisted_26$6={class:"modal-dialog modal-dialog-centered modal-lg"},_hoisted_27$6={class:"modal-content"},_hoisted_28$6={class:"modal-header"},_hoisted_29$5=["id"],_hoisted_30$5={class:"modal-body"},_hoisted_31$5={key:0},_hoisted_32$5={class:"mb-0 ps-3"},_hoisted_33$5={key:1,class:"mb-0"},_hoisted_34$4={key:2,class:"text-muted mb-0"},_hoisted_35$4=["id","aria-labelledby"],_hoisted_36$4={class:"modal-dialog modal-dialog-centered modal-lg"},_hoisted_37$4={class:"modal-content"},_hoisted_38$4={class:"modal-header"},_hoisted_39$4=["id"],_hoisted_40$4={class:"modal-body"},_hoisted_41$4={key:0},_hoisted_42$4={class:"mb-0 ps-3"},_hoisted_43$4={key:1,class:"mb-0"},_hoisted_44$4={key:2,class:"text-muted mb-0"},_sfc_main$16={__name:"ProductCard",props:{product:{type:Object,required:!0},tagMap:{type:Object,default:()=>({})},showAddButton:{type:Boolean,default:!1},currencyCode:{type:String,default:"USD"},currencySymbol:{type:String,default:""},exchangeRate:{type:Number,default:0}},emits:["buy"],setup(e,{emit:t}){const s=e,o=t,a=useFileStore(),n=computed(()=>s.product?.name||"Producto"),r=computed(()=>String(s.product?.description||"").trim()),l=computed(()=>r.value.split(`
`).map(Q=>Q.trim()).filter(Boolean)),i=computed(()=>String(s.product?.buyer_description||"").trim()),d=computed(()=>i.value.split(`
`).map(Q=>Q.trim()).filter(Boolean)),c=computed(()=>`product-${s.product?.id||"detail"}`),u=computed(()=>`${c.value}-description`),m=computed(()=>`${c.value}-conditions`),f=computed(()=>Number(s.product?.base_price_usd||0)),g=computed(()=>Number(s.product?.published_price_usd??f.value)),v=computed(()=>ee(g.value,"$","USD")),_=computed(()=>s.currencyCode||"USD"),b=computed(()=>s.currencySymbol||(_.value==="USD"?"$":"")),S=computed(()=>Number(s.exchangeRate||0)),V=computed(()=>S.value?Number((g.value*S.value).toFixed(2)):g.value),k=computed(()=>ee(V.value,b.value,_.value)),B=computed(()=>{if(s.product?.is_unlimited_stock)return{label:"En stock",tone:"success"};const Q=Number(s.product?.available_stock||0);return Q>0?{label:`${Q} UND.`,tone:"success"}:{label:"Agotado",tone:"danger"}}),O=computed(()=>s.product?.is_unlimited_stock||M.value?B.value.label:`Stock: ${B.value.label}`),M=computed(()=>!s.product?.is_unlimited_stock&&!Number(s.product?.available_stock||0)),R=computed(()=>M.value?"Agotado":"Comprar ahora"),C=computed(()=>M.value?"btn-danger":"btn-primary"),w=computed(()=>s.product?.provider?.name||"-"),L=computed(()=>s.product?.is_renewable?"Renovable":"No renovable"),y=computed(()=>s.product?.is_renewable?"success":"secondary"),N=computed(()=>L.value),E=computed(()=>`text-${B.value.tone}`),$=computed(()=>(Array.isArray(s.product?.tag_ids)?s.product.tag_ids:[]).map(ae=>s.tagMap[Number(ae)]).filter(Boolean)),H=computed(()=>{const ae=(Array.isArray(s.product?.file_ids)?s.product.file_ids:[])[0];return ae&&a.find(ae)?.url||""}),U=ref(!1),P=ref(!1),Z=computed(()=>!!H.value&&!P.value);watch(()=>H.value,()=>{U.value=!1,P.value=!1});const ce=()=>{U.value=!0},ue=()=>{U.value=!0,P.value=!0},G=()=>{o("buy",s.product)},ee=(Q,ae,oe)=>{const D=Number(Q||0).toFixed(2);return ae?`${ae}${D}`:oe?`${oe} ${D}`:D};return(Q,ae)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$14,[createBaseVNode("div",_hoisted_2$_,[createBaseVNode("div",_hoisted_3$Y,[createBaseVNode("div",_hoisted_4$J,[Z.value?(openBlock(),createElementBlock("img",{key:0,src:H.value,alt:n.value,class:normalizeClass(["w-100 h-100 object-fit-cover",{"opacity-0":!U.value}]),loading:"lazy",onLoad:ce,onError:ue},null,42,_hoisted_5$E)):createCommentVNode("",!0),Z.value&&!U.value?(openBlock(),createElementBlock("div",_hoisted_6$C,[...ae[0]||(ae[0]=[createBaseVNode("div",{class:"spinner-border",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Cargando")],-1)])])):Z.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$B,[...ae[1]||(ae[1]=[createBaseVNode("i",{class:"bi bi-image fs-3"},null,-1)])])),$.value.length?(openBlock(),createElementBlock("div",_hoisted_8$A,[(openBlock(!0),createElementBlock(Fragment,null,renderList($.value,oe=>(openBlock(),createBlock(_sfc_main$17,{key:oe.id||oe.name,tag:oe},null,8,["tag"]))),128))])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_9$y,[createBaseVNode("button",{type:"button",class:"btn btn-light btn-sm rounded-circle shadow-sm d-flex align-items-center justify-content-center","data-bs-toggle":r.value?"modal":null,"data-bs-target":r.value?`#${u.value}`:null,disabled:!r.value,title:"Descripcin","aria-label":"Descripcin"},[...ae[2]||(ae[2]=[createBaseVNode("i",{class:"bi bi-card-text"},null,-1)])],8,_hoisted_10$u),createBaseVNode("button",{type:"button",class:"btn btn-light btn-sm rounded-circle shadow-sm d-flex align-items-center justify-content-center","data-bs-toggle":i.value?"modal":null,"data-bs-target":i.value?`#${m.value}`:null,disabled:!i.value,title:"Condiciones de uso","aria-label":"Condiciones de uso"},[...ae[3]||(ae[3]=[createBaseVNode("i",{class:"bi bi-shield-check"},null,-1)])],8,_hoisted_11$q)]),createBaseVNode("div",_hoisted_12$j,[createBaseVNode("div",_hoisted_13$h,[createBaseVNode("div",null,[createBaseVNode("h5",_hoisted_14$h,toDisplayString(n.value),1)])]),createBaseVNode("div",_hoisted_15$g,[createBaseVNode("div",_hoisted_16$g,[createBaseVNode("div",_hoisted_17$f,[createBaseVNode("div",{class:normalizeClass(["small text-uppercase fw-semibold",E.value])},toDisplayString(O.value),3),createBaseVNode("div",_hoisted_18$e,toDisplayString(v.value),1),createBaseVNode("div",_hoisted_19$c,toDisplayString(k.value),1)]),createBaseVNode("div",_hoisted_20$b,[createBaseVNode("div",_hoisted_21$a,[ae[4]||(ae[4]=createBaseVNode("i",{class:"bi bi-person"},null,-1)),createBaseVNode("span",_hoisted_22$a,toDisplayString(w.value),1)]),createBaseVNode("span",{class:normalizeClass(["badge rounded-pill",`text-bg-${y.value}`])},toDisplayString(N.value),3)])]),e.showAddButton?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(["btn w-100 mt-3",C.value]),disabled:M.value,onClick:G},[createBaseVNode("span",_hoisted_24$8,[ae[5]||(ae[5]=createBaseVNode("i",{class:"bi bi-bag-check"},null,-1)),createBaseVNode("span",null,toDisplayString(R.value),1)])],10,_hoisted_23$8)):createCommentVNode("",!0)])])]),createBaseVNode("div",{id:u.value,class:"modal fade",tabindex:"-1","aria-labelledby":`${u.value}-label`,"aria-hidden":"true"},[createBaseVNode("div",_hoisted_26$6,[createBaseVNode("div",_hoisted_27$6,[createBaseVNode("div",_hoisted_28$6,[createBaseVNode("h5",{id:`${u.value}-label`,class:"modal-title"},"Descripcin",8,_hoisted_29$5),ae[6]||(ae[6]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_30$5,[l.value.length>1?(openBlock(),createElementBlock("div",_hoisted_31$5,[createBaseVNode("ul",_hoisted_32$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(oe,D)=>(openBlock(),createElementBlock("li",{key:`desc-${D}`},toDisplayString(oe),1))),128))])])):l.value.length===1?(openBlock(),createElementBlock("p",_hoisted_33$5,toDisplayString(l.value[0]),1)):(openBlock(),createElementBlock("p",_hoisted_34$4,"Sin descripcin disponible."))]),ae[7]||(ae[7]=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cerrar")],-1))])])],8,_hoisted_25$6),createBaseVNode("div",{id:m.value,class:"modal fade",tabindex:"-1","aria-labelledby":`${m.value}-label`,"aria-hidden":"true"},[createBaseVNode("div",_hoisted_36$4,[createBaseVNode("div",_hoisted_37$4,[createBaseVNode("div",_hoisted_38$4,[createBaseVNode("h5",{id:`${m.value}-label`,class:"modal-title"},"Condiciones de uso",8,_hoisted_39$4),ae[8]||(ae[8]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_40$4,[d.value.length>1?(openBlock(),createElementBlock("div",_hoisted_41$4,[createBaseVNode("ul",_hoisted_42$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,(oe,D)=>(openBlock(),createElementBlock("li",{key:`cond-${D}`},toDisplayString(oe),1))),128))])])):d.value.length===1?(openBlock(),createElementBlock("p",_hoisted_43$4,toDisplayString(d.value[0]),1)):(openBlock(),createElementBlock("p",_hoisted_44$4,"Sin condiciones registradas."))]),ae[9]||(ae[9]=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"Cerrar")],-1))])])],8,_hoisted_35$4)],64))}},commissionRuleConfig={alias:"commission-rules",route:"/api/commission-rules",hash:!1,sync:!1,store:!1,methods:{active(e={}){return this.get("active",e)}},hasKey:!0,key:"id",name:"type",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,type:"",scope_type:"global",scope_id:null,rate:0,is_active:!0,effective_from:null,created_by:null,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},CommissionRule=new Model(commissionRuleConfig,api),_hoisted_1$13={class:"modal-dialog modal-xl modal-dialog-scrollable"},_hoisted_2$Z={class:"modal-content"},_hoisted_3$X={class:"modal-header py-2"},_hoisted_4$I={class:"modal-title",id:"productModalLabel"},_hoisted_5$D={key:0,class:"text-muted small d-flex align-items-center gap-2"},_hoisted_6$B={key:0,class:"badge bg-light text-dark border"},_hoisted_7$A={class:"modal-body p-0"},_hoisted_8$z={key:0,class:"p-3"},_hoisted_9$x={class:"row g-3"},_hoisted_10$t=["onClick"],_hoisted_11$p={class:"card h-100 border-0 shadow-sm"},_hoisted_12$i={class:"card-body"},_hoisted_13$g={class:"d-flex align-items-center gap-3"},_hoisted_14$g={class:"bg-light rounded-3 p-3"},_hoisted_15$f={class:"fw-semibold fs-5"},_hoisted_16$f={class:"text-muted small"},_hoisted_17$e={class:"row g-4"},_hoisted_18$d={key:0,class:"col-12 col-lg-4"},_hoisted_19$b={class:"sticky-top"},_hoisted_20$a={class:"card border-0 shadow-sm"},_hoisted_21$9={class:"card-body"},_hoisted_22$9={class:"mb-3"},_hoisted_23$7={class:"row g-3"},_hoisted_24$7={class:"col-md-6"},_hoisted_25$5={key:0,class:"text-danger small mt-1"},_hoisted_26$5={key:0,class:"col-12"},_hoisted_27$5={key:0,class:"text-danger small mt-1"},_hoisted_28$5={class:"col-md-3"},_hoisted_29$4=["value"],_hoisted_30$4={key:0,class:"text-danger small mt-1"},_hoisted_31$4={key:1,class:"col-md-3"},_hoisted_32$4=["disabled"],_hoisted_33$4={key:0,class:"text-danger small mt-1"},_hoisted_34$3={key:2,class:"col-md-3"},_hoisted_35$3={key:0,class:"text-danger small mt-1"},_hoisted_36$3={key:3,class:"col-md-3"},_hoisted_37$3=["disabled"],_hoisted_38$3={key:0,class:"text-danger small mt-1"},_hoisted_39$3={key:4,class:"col-md-3"},_hoisted_40$3={key:0,class:"text-danger small mt-1"},_hoisted_41$3={key:5,class:"col-md-3"},_hoisted_42$3={class:"form-label fw-semibold",for:"productValidity"},_hoisted_43$3={key:0,class:"text-danger small mt-1"},_hoisted_44$3={class:"col-md-3"},_hoisted_45$3={key:0,class:"text-danger small mt-1"},_hoisted_46$3={class:"col-md-3"},_hoisted_47$3=["value"],_hoisted_48$3={key:0,class:"mb-3"},_hoisted_49$3={class:"card border-0 shadow-sm"},_hoisted_50$2={class:"card-body"},_hoisted_51$2={class:"row g-3"},_hoisted_52$2={class:"col-md-6"},_hoisted_53$2={class:"col-md-6"},_hoisted_54$2={class:"mb-3"},_hoisted_55$2={class:"card border-0 shadow-sm"},_hoisted_56$2={class:"card-body"},_hoisted_57$2={class:"row g-3"},_hoisted_58$1={class:"col-md-4"},_hoisted_59$1={class:"col-md-8"},_hoisted_60$1={key:0,class:"row g-2"},_hoisted_61$1={class:"border rounded-3 p-2 h-100"},_hoisted_62$1={class:"ratio ratio-4x3 bg-light rounded-2 overflow-hidden"},_hoisted_63$1=["src"],_hoisted_64$1={class:"d-flex align-items-center justify-content-between mt-2"},_hoisted_65={class:"small text-truncate"},_hoisted_66={class:"form-check form-switch m-0"},_hoisted_67=["id","onUpdate:modelValue","onChange"],_hoisted_68={class:"text-muted small"},_hoisted_69={key:1,class:"text-muted small mt-2"},_hoisted_70={class:"row g-3 mb-3"},_hoisted_71={key:0,class:"col-12"},_hoisted_72={key:0,class:"text-danger small mt-1"},_hoisted_73={class:"col-12"},_hoisted_74={class:"form-label fw-semibold",for:"buyerDescription"},_hoisted_75=["placeholder"],_hoisted_76={key:0,class:"text-muted small mt-1"},_hoisted_77={key:1,class:"text-danger small mt-1"},_hoisted_78={key:1,class:"col-12"},_hoisted_79={key:0,class:"text-danger small mt-1"},_hoisted_80={class:"row g-3"},_hoisted_81={class:"col-12 d-flex flex-wrap align-items-center gap-3"},_hoisted_82={class:"form-check form-check-inline"},_hoisted_83={key:0,class:"form-check form-check-inline"},_hoisted_84={key:1,class:"badge bg-light text-dark border"},_hoisted_85={class:"col-12"},_hoisted_86=["value"],_hoisted_87={key:0,class:"text-danger small mt-1"},_hoisted_88={class:"modal-footer d-flex justify-content-end align-items-center py-1"},_hoisted_89={class:"d-flex gap-2"},productModelType="App\\Models\\Product",streamingSlug$1="streaming",licenseSlug="license",courseSlug="course",ebookSlug="ebook",aiToolsSlug="ai_tools",_sfc_main$15={__name:"Form",props:{categories:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},setup(e,{expose:t}){const s=e,o=ref(null);let a=null,n=null;const r=useProductStore(),l=useToast(),i=useFileStore(),d=()=>Product.getDefault(),c=ref({...d()}),u=ref("create"),m=ref({}),f=ref(!1),g=ref("category"),v=ref([]),_=ref([]),b={duration:"Duracin",quality:"Calidad",account:"Cuenta",promotion:"Promocin",provider:"Proveedor"},S={streaming:{label:"Streaming",icon:"bi-tv",description:"Netflix, HBO, Disney, Spotify"},license:{label:"Licencia de Software",icon:"bi-key",description:"Windows, Office, Adobe, Antivirus"},course:{label:"Curso Online",icon:"bi-camera-video",description:"Cursos en vivo o grabados"},ebook:{label:"E-Book",icon:"bi-book",description:"Libros digitales y recursos"},ai_tools:{label:"Herramientas IA",icon:"bi-cpu",description:"ChatGPT, MidJourney, Perplexity"}},V=()=>{f.value=!0},k=computed(()=>s.categories.find(T=>T.id===c.value.category_id)),B=computed(()=>k.value&&(S[k.value.slug]?.label||k.value.name)||""),O=computed(()=>k.value?.slug===streamingSlug$1),M=computed(()=>k.value?.slug===licenseSlug),R=computed(()=>k.value?.slug===courseSlug),C=computed(()=>k.value?.slug===ebookSlug),w=computed(()=>k.value?.slug===aiToolsSlug),L=computed(()=>R.value||C.value||w.value),y=computed(()=>u.value==="edit"),N=computed(()=>u.value==="create"&&g.value==="category"),E=computed(()=>u.value==="edit"||g.value==="form"),$=computed(()=>u.value==="create"&&g.value==="form"),H=computed(()=>u.value==="edit"?"":g.value==="category"?"Paso 1 de 2":"Paso 2 de 2"),U=computed(()=>u.value!=="create"||g.value!=="form"?"":B.value),P=computed(()=>(Array.isArray(s.categories)?[...s.categories]:[]).sort((x,j)=>(x.sort_order||0)-(j.sort_order||0)).map(x=>({...x,meta:S[x.slug]||{}}))),Z=computed(()=>s.tags.reduce((T,x)=>(T[x.id]=x,T),{})),ce=computed(()=>"Condiciones de uso"),ue=computed(()=>`Ej:
Tiempo de entrega
Requisitos de uso
Polticas de reemplazo`),G=computed({get(){const T=Number(c.value.validity_days);return!Number.isFinite(T)||T<=0?"lifetime":String(T)},set(T){if(T==="lifetime"){c.value.validity_days=null;return}const x=Number(T);c.value.validity_days=Number.isFinite(x)?x:null}}),ee=computed(()=>c.value.course_format==="live"),Q=computed(()=>c.value.course_format==="recorded"),ae=T=>{R.value&&(c.value.course_format=T)},oe=ref(0),D=computed(()=>{const T=Number(c.value.base_price_usd||0);return Number((T*(1+oe.value)).toFixed(2))}),z=computed(()=>{const T=Array.isArray(v.value)?v.value:[],x=T.filter(X=>X.is_active);return(x.length?x:T).map(X=>X.id)}),J=computed(()=>({...c.value,tag_ids:Array.isArray(c.value.tag_ids)?c.value.tag_ids:[],file_ids:z.value,published_price_usd:D.value})),se=async T=>{if(T)try{await i.get({model_type:productModelType,model_id:T}),v.value=i.list||[]}catch{v.value=[],l.danger("No se pudieron cargar las imgenes")}},de=async T=>{if(!(!T||!_.value.length))try{const x=_.value.map(j=>{const X=new FormData;return X.append("file",j),X.append("model_type",productModelType),X.append("model_id",T),i.create(X)});await Promise.all(x),_.value=[],await se(T)}catch{l.danger("No se pudieron subir las imgenes")}},A=async T=>{const x=!!T.is_active,j=!x;try{const X=await i.update({id:T.id,is_active:x});T.is_active=X?.data?.is_active??x}catch{T.is_active=j,l.danger("No se pudo actualizar la visibilidad de la imagen")}},I=async()=>{m.value={};try{const T={...c.value};R.value&&(T.is_unlimited_stock=!0),f.value?T.tag_ids=(T.tag_ids||[]).map(X=>Number(X)):delete T.tag_ids;let x=null;u.value==="edit"?(x=await r.update(T),l.success("Producto actualizado")):(x=await r.create(T),l.success("Producto creado"));const j=c.value.id||x?.data?.id||x?.id;j&&!c.value.id&&(c.value.id=j),await de(j),te()}catch(T){const x=T?.response?.data;T?.response?.status===422&&x?.errors?m.value=x.errors:l.danger("No se pudo guardar el producto")}},F=()=>{K(),u.value="create",g.value="category",c.value={...d(),tag_ids:[]},m.value={},f.value=!1,v.value=[],_.value=[],a?.show()},W=T=>{K(),u.value="edit",g.value="form";const x=Array.isArray(T.tag_ids)?T.tag_ids:Array.isArray(T.tag_pivots)?T.tag_pivots.map(j=>j.tag_id):[];c.value={...d(),...T,tag_ids:x},k.value?.slug===courseSlug&&!c.value.course_format&&(c.value.course_format="live"),k.value?.slug===courseSlug&&(c.value.is_unlimited_stock=!0),m.value={},f.value=!1,_.value=[],se(c.value.id),a?.show()},Y=T=>{T?.id&&(c.value.category_id=T.id,T.slug!==streamingSlug$1&&(c.value.access_type=null),T.slug!==licenseSlug&&(c.value.installation_instructions=""),T.slug===courseSlug&&(c.value.is_unlimited_stock=!0),T.slug!==courseSlug?c.value.course_format=null:c.value.course_format||(c.value.course_format="live"),g.value="form")},q=()=>{g.value="category"},te=()=>{a?.hide()},K=async()=>{try{const T=await CommissionRule.active({type:"sale",scope_type:"global"}),x=Number(T?.data?.rate??0);oe.value=Number.isFinite(x)?x:0}catch{oe.value=0}};return t({openCreate:F,openEdit:W,close:te}),onMounted(()=>{o.value&&(a=new Modal(o.value),n=()=>{const T=document.activeElement;T instanceof HTMLElement&&o.value?.contains(T)&&T.blur()},o.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{a&&(a.hide(),a=null),o.value&&n&&(o.value.removeEventListener("hide.bs.modal",n),n=null)}),(T,x)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:o,class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$13,[createBaseVNode("div",_hoisted_2$Z,[createBaseVNode("div",_hoisted_3$X,[createBaseVNode("div",null,[createBaseVNode("h5",_hoisted_4$I,toDisplayString(u.value==="edit"?"Editar producto":"Nuevo producto"),1),u.value==="create"?(openBlock(),createElementBlock("div",_hoisted_5$D,[createBaseVNode("span",null,toDisplayString(H.value),1),U.value?(openBlock(),createElementBlock("span",_hoisted_6$B,toDisplayString(U.value),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),x[17]||(x[17]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_7$A,[N.value?(openBlock(),createElementBlock("div",_hoisted_8$z,[createBaseVNode("div",_hoisted_9$x,[(openBlock(!0),createElementBlock(Fragment,null,renderList(P.value,j=>(openBlock(),createElementBlock("div",{key:j.id,class:"col-12 col-md-6 col-xl-4"},[createBaseVNode("button",{type:"button",class:"btn p-0 text-start w-100 h-100",onClick:X=>Y(j)},[createBaseVNode("div",_hoisted_11$p,[createBaseVNode("div",_hoisted_12$i,[createBaseVNode("div",_hoisted_13$g,[createBaseVNode("div",_hoisted_14$g,[createBaseVNode("i",{class:normalizeClass(["bi",j.meta.icon||"bi-box","fs-4"])},null,2)]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_15$f,toDisplayString(j.meta.label||j.name),1),createBaseVNode("div",_hoisted_16$f,toDisplayString(j.meta.description||j.description||"Selecciona esta categora"),1)])])])])],8,_hoisted_10$t)]))),128))])])):(openBlock(),createElementBlock("form",{key:1,class:"p-3",onSubmit:withModifiers(I,["prevent"])},[createBaseVNode("div",_hoisted_17$e,[u.value==="edit"?(openBlock(),createElementBlock("div",_hoisted_18$d,[createBaseVNode("div",_hoisted_19$b,[createBaseVNode("div",_hoisted_20$a,[createBaseVNode("div",_hoisted_21$9,[x[18]||(x[18]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-3"},[createBaseVNode("i",{class:"bi bi-eye"}),createBaseVNode("h6",{class:"fw-semibold mb-0"},"Vista previa en tienda")],-1)),createVNode(_sfc_main$16,{product:J.value,"tag-map":Z.value,"show-add-button":!0,"currency-code":"USD","currency-symbol":"$","exchange-rate":0},null,8,["product","tag-map"])])])])])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(u.value==="edit"?"col-12 col-lg-8":"col-12")},[createBaseVNode("div",_hoisted_22$9,[createBaseVNode("div",{class:normalizeClass(L.value?"card border-0 shadow-sm":"")},[createBaseVNode("div",{class:normalizeClass(L.value?"card-body":"")},[x[32]||(x[32]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-2"},[createBaseVNode("i",{class:"bi bi-box-seam"}),createBaseVNode("h6",{class:"fw-semibold mb-0"},"Informacin bsica")],-1)),createBaseVNode("div",_hoisted_23$7,[createBaseVNode("div",_hoisted_24$7,[x[19]||(x[19]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"productName","onUpdate:modelValue":x[0]||(x[0]=j=>c.value.name=j),type:"text",class:normalizeClass(["form-control",{"is-invalid":m.value.name}]),placeholder:"Producto Premium",required:""},null,2),[[vModelText,c.value.name]]),m.value.name?(openBlock(),createElementBlock("div",_hoisted_25$5,toDisplayString(m.value.name[0]),1)):createCommentVNode("",!0)]),L.value?(openBlock(),createElementBlock("div",_hoisted_26$5,[x[20]||(x[20]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productDescriptionCourse"},"Descripcin",-1)),withDirectives(createBaseVNode("textarea",{id:"productDescriptionCourse","onUpdate:modelValue":x[1]||(x[1]=j=>c.value.description=j),class:normalizeClass(["form-control",{"is-invalid":m.value.description}]),rows:"3",placeholder:"Descripcin del producto..."},null,2),[[vModelText,c.value.description]]),m.value.description?(openBlock(),createElementBlock("div",_hoisted_27$5,toDisplayString(m.value.description[0]),1)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_28$5,[x[21]||(x[21]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productCategory"},"Categora",-1)),createBaseVNode("input",{id:"productCategory",value:k.value?.name||"Sin categora",type:"text",class:"form-control",disabled:""},null,8,_hoisted_29$4),m.value.category_id?(openBlock(),createElementBlock("div",_hoisted_30$4,toDisplayString(m.value.category_id[0]),1)):createCommentVNode("",!0)]),L.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_31$4,[x[23]||(x[23]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productStatus"},"Estado",-1)),withDirectives(createBaseVNode("select",{id:"productStatus","onUpdate:modelValue":x[2]||(x[2]=j=>c.value.status=j),class:normalizeClass(["form-select",{"is-invalid":m.value.status}]),disabled:u.value==="create",required:""},[...x[22]||(x[22]=[createBaseVNode("option",{value:1},"Pendiente",-1),createBaseVNode("option",{value:2},"Publicado",-1),createBaseVNode("option",{value:3},"Archivado",-1),createBaseVNode("option",{value:4},"Agotado",-1),createBaseVNode("option",{value:5},"Suspendido",-1)])],10,_hoisted_32$4),[[vModelSelect,c.value.status,void 0,{number:!0}]]),m.value.status?(openBlock(),createElementBlock("div",_hoisted_33$4,toDisplayString(m.value.status[0]),1)):createCommentVNode("",!0)])),L.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_34$3,[x[25]||(x[25]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productDeliveryMode"},"Entrega",-1)),withDirectives(createBaseVNode("select",{id:"productDeliveryMode","onUpdate:modelValue":x[3]||(x[3]=j=>c.value.delivery_mode=j),class:normalizeClass(["form-select",{"is-invalid":m.value.delivery_mode}]),required:""},[...x[24]||(x[24]=[createBaseVNode("option",{value:"automated"},"Automatizada",-1),createBaseVNode("option",{value:"manual"},"Manual",-1)])],2),[[vModelSelect,c.value.delivery_mode]]),m.value.delivery_mode?(openBlock(),createElementBlock("div",_hoisted_35$3,toDisplayString(m.value.delivery_mode[0]),1)):createCommentVNode("",!0)])),O.value?(openBlock(),createElementBlock("div",_hoisted_36$3,[x[27]||(x[27]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productAccessType"},"Tipo de acceso",-1)),withDirectives(createBaseVNode("select",{id:"productAccessType","onUpdate:modelValue":x[4]||(x[4]=j=>c.value.access_type=j),class:normalizeClass(["form-select",{"is-invalid":m.value.access_type}]),disabled:y.value,required:""},[...x[26]||(x[26]=[createBaseVNode("option",{value:""},"Selecciona una opcin",-1),createBaseVNode("option",{value:"full_account"},"Cuenta completa",-1),createBaseVNode("option",{value:"profile"},"Por perfil",-1)])],10,_hoisted_37$3),[[vModelSelect,c.value.access_type]]),m.value.access_type?(openBlock(),createElementBlock("div",_hoisted_38$3,toDisplayString(m.value.access_type[0]),1)):createCommentVNode("",!0)])):createCommentVNode("",!0),L.value?(openBlock(),createElementBlock("div",_hoisted_39$3,[x[29]||(x[29]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productValidityCourse"},"Duracin",-1)),withDirectives(createBaseVNode("select",{id:"productValidityCourse","onUpdate:modelValue":x[5]||(x[5]=j=>G.value=j),class:normalizeClass(["form-select",{"is-invalid":m.value.validity_days}])},[...x[28]||(x[28]=[createStaticVNode('<option value="lifetime">De por vida</option><option value="30">30 das</option><option value="60">60 das</option><option value="90">90 das</option><option value="180">180 das</option>',5)])],2),[[vModelSelect,G.value]]),m.value.validity_days?(openBlock(),createElementBlock("div",_hoisted_40$3,toDisplayString(m.value.validity_days[0]),1)):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_41$3,[createBaseVNode("label",_hoisted_42$3,toDisplayString(M.value?"Duracin (das)":"Vigencia (das)"),1),withDirectives(createBaseVNode("input",{id:"productValidity","onUpdate:modelValue":x[6]||(x[6]=j=>c.value.validity_days=j),type:"number",min:"1",class:normalizeClass(["form-control",{"is-invalid":m.value.validity_days}]),placeholder:"Sin vencimiento"},null,2),[[vModelText,c.value.validity_days,void 0,{number:!0}]]),m.value.validity_days?(openBlock(),createElementBlock("div",_hoisted_43$3,toDisplayString(m.value.validity_days[0]),1)):createCommentVNode("",!0)])),createBaseVNode("div",_hoisted_44$3,[x[30]||(x[30]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productPrice"},"Precio base (USD)",-1)),withDirectives(createBaseVNode("input",{id:"productPrice","onUpdate:modelValue":x[7]||(x[7]=j=>c.value.base_price_usd=j),type:"number",step:"0.01",min:"0",class:normalizeClass(["form-control",{"is-invalid":m.value.base_price_usd}]),required:""},null,2),[[vModelText,c.value.base_price_usd,void 0,{number:!0}]]),m.value.base_price_usd?(openBlock(),createElementBlock("div",_hoisted_45$3,toDisplayString(m.value.base_price_usd[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_46$3,[x[31]||(x[31]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productPublishedPrice"},"Precio publicado (USD)",-1)),createBaseVNode("input",{id:"productPublishedPrice",value:D.value,type:"number",step:"0.01",class:"form-control",readonly:""},null,8,_hoisted_47$3)])])],2)],2)]),R.value?(openBlock(),createElementBlock("div",_hoisted_48$3,[createBaseVNode("div",_hoisted_49$3,[createBaseVNode("div",_hoisted_50$2,[x[35]||(x[35]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-3"},[createBaseVNode("i",{class:"bi bi-camera-video"}),createBaseVNode("h6",{class:"fw-semibold mb-0"},"Formato del Curso")],-1)),createBaseVNode("div",_hoisted_51$2,[createBaseVNode("div",_hoisted_52$2,[createBaseVNode("button",{type:"button",class:normalizeClass(["btn w-100 border rounded-3 p-4",ee.value?"border-primary text-primary":"text-muted"]),onClick:x[8]||(x[8]=j=>ae("live"))},[...x[33]||(x[33]=[createBaseVNode("div",{class:"d-flex flex-column align-items-center gap-2"},[createBaseVNode("i",{class:"bi bi-calendar-event fs-4"}),createBaseVNode("span",{class:"fw-semibold"},"Reunin en Vivo")],-1)])],2)]),createBaseVNode("div",_hoisted_53$2,[createBaseVNode("button",{type:"button",class:normalizeClass(["btn w-100 border rounded-3 p-4",Q.value?"border-primary text-primary":"text-muted"]),onClick:x[9]||(x[9]=j=>ae("recorded"))},[...x[34]||(x[34]=[createBaseVNode("div",{class:"d-flex flex-column align-items-center gap-2"},[createBaseVNode("i",{class:"bi bi-display fs-4"}),createBaseVNode("span",{class:"fw-semibold"},"Video Grabado")],-1)])],2)])])])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_54$2,[createBaseVNode("div",_hoisted_55$2,[createBaseVNode("div",_hoisted_56$2,[x[37]||(x[37]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-3"},[createBaseVNode("i",{class:"bi bi-image"}),createBaseVNode("h6",{class:"fw-semibold mb-0"},"Imgenes del producto")],-1)),createBaseVNode("div",_hoisted_57$2,[createBaseVNode("div",_hoisted_58$1,[x[36]||(x[36]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productImages"},"Cargar imgenes",-1)),createVNode(FileDropzone,{modelValue:_.value,"onUpdate:modelValue":x[10]||(x[10]=j=>_.value=j),multiple:"",accept:"image/*",title:"Arrastra y suelta imgenes",subtitle:"o pega imgenes / elige archivos","button-label":"Elegir imgenes",help:"Se suben al guardar el producto."},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_59$1,[v.value.length?(openBlock(),createElementBlock("div",_hoisted_60$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.value,j=>(openBlock(),createElementBlock("div",{key:`product-image-${j.id}`,class:"col-6 col-md-4"},[createBaseVNode("div",_hoisted_61$1,[createBaseVNode("div",_hoisted_62$1,[unref(resolveFileUrl)(j)?(openBlock(),createElementBlock("img",{key:0,src:unref(resolveFileUrl)(j),class:"w-100 h-100 object-fit-cover",alt:"Imagen"},null,8,_hoisted_63$1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_64$1,[createBaseVNode("span",_hoisted_65,toDisplayString(j.name),1),createBaseVNode("div",_hoisted_66,[withDirectives(createBaseVNode("input",{id:`fileVisible-${j.id}`,"onUpdate:modelValue":X=>j.is_active=X,class:"form-check-input",type:"checkbox",onChange:X=>A(j)},null,40,_hoisted_67),[[vModelCheckbox,j.is_active]])])]),createBaseVNode("div",_hoisted_68,toDisplayString(j.is_active?"Visible al pblico":"Oculto"),1)])]))),128))])):(openBlock(),createElementBlock("div",_hoisted_69," An no hay imgenes cargadas. "))])])])])]),createBaseVNode("div",_hoisted_70,[L.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_71,[x[38]||(x[38]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productDescription"},"Descripcin",-1)),withDirectives(createBaseVNode("textarea",{id:"productDescription","onUpdate:modelValue":x[11]||(x[11]=j=>c.value.description=j),class:normalizeClass(["form-control",{"is-invalid":m.value.description}]),rows:"3",placeholder:"Describe el producto"},null,2),[[vModelText,c.value.description]]),m.value.description?(openBlock(),createElementBlock("div",_hoisted_72,toDisplayString(m.value.description[0]),1)):createCommentVNode("",!0)])),createBaseVNode("div",_hoisted_73,[createBaseVNode("label",_hoisted_74,toDisplayString(ce.value),1),withDirectives(createBaseVNode("textarea",{id:"buyerDescription","onUpdate:modelValue":x[12]||(x[12]=j=>c.value.buyer_description=j),class:normalizeClass(["form-control",{"is-invalid":m.value.buyer_description}]),rows:"3",placeholder:ue.value},null,10,_hoisted_75),[[vModelText,c.value.buyer_description]]),L.value?(openBlock(),createElementBlock("div",_hoisted_76," Un item por lnea. Aparecer en la pgina del producto. ")):createCommentVNode("",!0),m.value.buyer_description?(openBlock(),createElementBlock("div",_hoisted_77,toDisplayString(m.value.buyer_description[0]),1)):createCommentVNode("",!0)]),M.value?(openBlock(),createElementBlock("div",_hoisted_78,[x[39]||(x[39]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productInstallationInstructions"}," Instrucciones de instalacin ",-1)),withDirectives(createBaseVNode("textarea",{id:"productInstallationInstructions","onUpdate:modelValue":x[13]||(x[13]=j=>c.value.installation_instructions=j),class:normalizeClass(["form-control",{"is-invalid":m.value.installation_instructions}]),rows:"4",placeholder:"Paso 1: Descarga el instalador"},null,2),[[vModelText,c.value.installation_instructions]]),m.value.installation_instructions?(openBlock(),createElementBlock("div",_hoisted_79,toDisplayString(m.value.installation_instructions[0]),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_80,[createBaseVNode("div",_hoisted_81,[createBaseVNode("div",_hoisted_82,[withDirectives(createBaseVNode("input",{id:"productRenewable","onUpdate:modelValue":x[14]||(x[14]=j=>c.value.is_renewable=j),class:"form-check-input",type:"checkbox"},null,512),[[vModelCheckbox,c.value.is_renewable]]),x[40]||(x[40]=createBaseVNode("label",{class:"form-check-label",for:"productRenewable"},"Renovable",-1))]),R.value?(openBlock(),createElementBlock("span",_hoisted_84,"Stock ilimitado")):(openBlock(),createElementBlock("div",_hoisted_83,[withDirectives(createBaseVNode("input",{id:"productUnlimited","onUpdate:modelValue":x[15]||(x[15]=j=>c.value.is_unlimited_stock=j),class:"form-check-input",type:"checkbox"},null,512),[[vModelCheckbox,c.value.is_unlimited_stock]]),x[41]||(x[41]=createBaseVNode("label",{class:"form-check-label",for:"productUnlimited"},"Stock ilimitado",-1))]))]),createBaseVNode("div",_hoisted_85,[x[42]||(x[42]=createBaseVNode("label",{class:"form-label fw-semibold",for:"productTags"},"Etiquetas",-1)),withDirectives(createBaseVNode("select",{id:"productTags","onUpdate:modelValue":x[16]||(x[16]=j=>c.value.tag_ids=j),class:"form-select",multiple:"",size:"6",onChange:V},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.tags,j=>(openBlock(),createElementBlock("option",{key:j.id,value:j.id},toDisplayString(j.name)+" - "+toDisplayString(b[j.tag_type]||j.tag_type),9,_hoisted_86))),128))],544),[[vModelSelect,c.value.tag_ids]]),m.value.tag_ids?(openBlock(),createElementBlock("div",_hoisted_87,toDisplayString(m.value.tag_ids[0]),1)):createCommentVNode("",!0)])])],2)])],32))]),createBaseVNode("div",_hoisted_88,[createBaseVNode("div",_hoisted_89,[$.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-secondary",onClick:q}," Volver ")):createCommentVNode("",!0),createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:te},"Cancelar"),E.value?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-primary",onClick:I},"Guardar")):createCommentVNode("",!0)])])])])],512))}},productInventoryConfig={alias:"product-inventories",route:"/api/product-inventories",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"secret_ref",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,product_id:null,status:"available",secret_ref:"",secret_hash:"",live_session_at:null,live_session_url:"",live_session_access_code:"",video_iframe:"",course_description:"",assigned_user_id:null,assigned_at:null,expires_at:null,order_detail_id:null,created_on_sale:!1,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},ProductInventory=new Model(productInventoryConfig,api),createProductInventoryStore=(e=null,t=null,s=null)=>ProductInventory.getStore(e,t,s),extraState$a={},extraGetters$a={},extraActions$a={},useProductInventoryStore=defineStore(ProductInventory.alias,createProductInventoryStore(extraState$a,extraGetters$a,extraActions$a)),_hoisted_1$12={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$Y={class:"search-box"},_hoisted_3$W={class:"input-group"},_hoisted_4$H=["onKeyup"],_sfc_main$14={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=ref(""),n=()=>s("search",{term:o.value.trim(),status:a.value}),r=()=>{o.value="",a.value="",s("search",{term:"",status:""})};return(l,i)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(n,["prevent"])},[createBaseVNode("div",_hoisted_1$12,[createBaseVNode("div",_hoisted_2$Y,[createBaseVNode("div",_hoisted_3$W,[withDirectives(createBaseVNode("input",{id:"inventorySearch","onUpdate:modelValue":i[0]||(i[0]=d=>o.value=d),type:"text",class:"form-control",placeholder:"Buscar por referencia",onKeyup:withKeys(withModifiers(n,["prevent"]),["enter"])},null,40,_hoisted_4$H),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:r},[...i[2]||(i[2]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),i[3]||(i[3]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":i[1]||(i[1]=d=>a.value=d),class:"form-select w-auto",onChange:n},[...i[4]||(i[4]=[createStaticVNode('<option value="">Estado</option><option value="available">Disponible</option><option value="assigned">Asignado</option><option value="sold">Vendido</option><option value="blocked">Bloqueado</option>',5)])],544),[[vModelSelect,a.value]])])],32))}},_hoisted_1$11={class:"d-flex align-items-center gap-2"},_hoisted_2$X=["disabled","onClick"],_hoisted_3$V=["disabled","onClick"],_hoisted_4$G={class:"text-break"},_hoisted_5$C={class:"text-center"},_hoisted_6$A={class:"d-inline-flex align-items-center gap-2"},_hoisted_7$z=["onClick"],_hoisted_8$y=["onClick"],_hoisted_9$w={key:0},_sfc_main$13={__name:"List",props:{filters:{type:Object,default:()=>({term:"",status:""})},pageSize:{type:Number,default:10}},emits:["edit","deleted"],setup(e,{emit:t}){const s=t,o=e,a=useProductInventoryStore(),{list:n}=storeToRefs(a),r=useAuth(),l={available:"Disponible",assigned:"Asignado",sold:"Vendido",blocked:"Bloqueado"},i=v=>{if(!v)return null;try{const _=JSON.parse(v);return!_||typeof _!="object"?null:_}catch{return null}},d=v=>{if(!v)return"";const _=i(v);if(!_)return v;const b=_.email||"",S=_.profile||"";return b&&S?`${b} - ${S}`:b||v},c=v=>v?String(v).split("T")[0]:"",u=computed(()=>{const v=o.filters.term?.toLowerCase()||"",_=o.filters.status||"";return n.value.filter(b=>!(!(!v||[d(b.secret_ref),b.status].some(V=>(V||"").toLowerCase().includes(v)))||_&&b.status!==_))}),m=[{title:"Referencia",key:"secret_ref"},{title:"Estado",key:"status"},{title:"Vence",key:"expires_at"},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],f=v=>s("edit",v),g=async v=>{window.confirm("Eliminar este registro de inventario?")&&(await a.delete(v),s("deleted"))};return(v,_)=>(openBlock(),createBlock(Table,{items:u.value,headers:m,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"inventory"},{actions:withCtx(({selected:b})=>[createBaseVNode("div",_hoisted_1$11,[unref(r).can("product-inventories.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!b.item,onClick:S=>b.item&&f(b.item)}," Editar ",8,_hoisted_2$X)):createCommentVNode("",!0),unref(r).can("product-inventories.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!b.item,onClick:S=>b.item&&g(b.item)}," Eliminar ",8,_hoisted_3$V)):createCommentVNode("",!0)])]),body:withCtx(({item:b})=>[createBaseVNode("td",_hoisted_4$G,toDisplayString(d(b.secret_ref)),1),createBaseVNode("td",null,toDisplayString(l[b.status]||b.status||""),1),createBaseVNode("td",null,toDisplayString(c(b.expires_at)),1),createBaseVNode("td",_hoisted_5$C,[createBaseVNode("div",_hoisted_6$A,[unref(r).can("product-inventories.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:S=>f(b)},[..._[0]||(_[0]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_7$z)):createCommentVNode("",!0),unref(r).can("product-inventories.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:S=>g(b)},[..._[1]||(_[1]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_8$y)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[u.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_9$w,[..._[2]||(_[2]=[createBaseVNode("td",{colspan:"4",class:"text-center text-muted"},"No hay inventario registrado",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$10={class:"row g-3"},_hoisted_2$W={key:0,class:"col-12"},_hoisted_3$U={class:"card border-0 shadow-sm"},_hoisted_4$F={class:"card-body"},_hoisted_5$B={key:0,class:"text-muted small"},_hoisted_6$z={key:1},_hoisted_7$y={key:0,class:"row g-3"},_hoisted_8$x={class:"col-12"},_hoisted_9$v={key:0,class:"text-danger small mt-1"},_hoisted_10$s={class:"col-12"},_hoisted_11$o={key:0,class:"text-danger small mt-1"},_hoisted_12$h={class:"col-12"},_hoisted_13$f={key:0,class:"text-danger small mt-1"},_hoisted_14$f={key:1,class:"row g-3"},_hoisted_15$e={class:"col-12"},_hoisted_16$e={key:0,class:"text-danger small mt-1"},_hoisted_17$d={class:"col-12"},_hoisted_18$c={key:0,class:"text-danger small mt-1"},_hoisted_19$a={key:0,class:"col-12"},_hoisted_20$9={class:"card border-0 shadow-sm"},_hoisted_21$8={class:"card-body"},_hoisted_22$8={class:"row g-3"},_hoisted_23$6={class:"col-md-6"},_hoisted_24$6={class:"col-md-6"},_hoisted_25$4={class:"col-md-6"},_hoisted_26$4={class:"col-md-6"},_hoisted_27$4={key:0,class:"col-12"},_hoisted_28$4={class:"d-flex align-items-center justify-content-between"},_hoisted_29$3={class:"col-md-6"},_hoisted_30$3=["for"],_hoisted_31$3=["id","onUpdate:modelValue","placeholder"],_hoisted_32$3={class:"col-md-4"},_hoisted_33$3=["for"],_hoisted_34$2=["id","onUpdate:modelValue"],_hoisted_35$2={key:0,class:"col-md-2 d-flex"},_hoisted_36$2=["onClick"],_hoisted_37$2={key:1,class:"col-12 text-danger small mt-1"},_hoisted_38$2={key:2,class:"col-12"},_hoisted_39$2={class:"card border-0 shadow-sm"},_hoisted_40$2={class:"card-body"},_hoisted_41$2={class:"d-flex flex-column flex-md-row gap-4"},_hoisted_42$2={class:"form-check"},_hoisted_43$2={class:"form-check"},_hoisted_44$2={class:"mt-3"},_hoisted_45$2={class:"form-label fw-semibold",for:"licenseBulk"},_hoisted_46$2={key:0,class:"text-danger small mt-1"},_hoisted_47$2={key:3,class:"col-12"},_hoisted_48$2={class:"card border-0 shadow-sm"},_hoisted_49$2={class:"card-body"},_hoisted_50$1={class:"row g-3"},_hoisted_51$1={class:"col-md-8"},_hoisted_52$1={class:"input-group"},_hoisted_53$1={key:0,class:"text-danger small mt-1"},_hoisted_54$1={key:4,class:"col-12"},_hoisted_55$1={key:0,class:"text-danger small mt-1"},_hoisted_56$1={class:"col-md-4"},_hoisted_57$1={key:0,class:"text-danger small mt-1"},_sfc_main$12={__name:"Form",props:{productId:{type:Number,default:null},isStreaming:{type:Boolean,default:!1},accessType:{type:String,default:null},categorySlug:{type:String,default:""},courseFormat:{type:String,default:null}},emits:["saved"],setup(e,{expose:t,emit:s}){const o=e,a=s,n=useProductInventoryStore(),r=useToast(),l=()=>ProductInventory.getDefault(),i=ref({...l()}),d=ref("create"),c=ref({}),u=computed(()=>o.isStreaming&&o.accessType==="profile"),m=computed(()=>o.isStreaming&&o.accessType==="full_account"),f=computed(()=>u.value||m.value||b.value),g=computed(()=>o.categorySlug==="course"),v=computed(()=>o.categorySlug==="license"),_=computed(()=>o.categorySlug==="ebook"),b=computed(()=>o.categorySlug==="ai_tools"),S=computed(()=>g.value&&o.courseFormat==="live"),V=computed(()=>g.value&&o.courseFormat==="recorded"),k=oe=>`Perfil ${oe+1}`,B=ref({email:"",password:""}),O=ref([{profile:k(0),pin:""}]),M=ref("serial"),R=ref(""),C=computed(()=>M.value==="email"?"Correos masivos (uno por lnea)":"Claves masivas (una por lnea)"),w=()=>R.value.split(/\r?\n/).map(oe=>oe.trim()).filter(Boolean),L=()=>{B.value={email:"",password:""}},y=()=>{O.value=[{profile:k(0),pin:""}]},N=()=>{M.value="serial",R.value=""},E=()=>{i.value.secret_ref=""},$=()=>{B.value={email:"",password:""}},H=oe=>{if(!oe)return null;try{const D=JSON.parse(oe);return!D||typeof D!="object"?null:D}catch{return null}},U=(oe=null)=>{const D={email:(B.value.email||"").trim(),password:(B.value.password||"").trim()};return oe&&oe.profile&&(D.profile=oe.profile,oe.pin&&(D.pin=oe.pin)),JSON.stringify(D)},P=oe=>{const D={...i.value,product_id:o.productId,secret_ref:oe};return delete D.status,D},Z=()=>O.value.map(oe=>({profile:(oe.profile||"").trim(),pin:(oe.pin||"").trim()})),ce=()=>{if(d.value!=="create")return;const oe=O.value.length;O.value.push({profile:k(oe),pin:""})},ue=oe=>{d.value==="create"&&O.value.splice(oe,1)},G=oe=>{L(),y();const D=H(oe);D&&(B.value={email:D.email||"",password:D.password||""},u.value&&(O.value=[{profile:D.profile||"",pin:D.pin||""}]))},ee=async()=>{if(c.value={},!o.productId){r.warning("Selecciona un producto antes de guardar inventario");return}if(g.value){if(!o.courseFormat){r.warning("Selecciona el formato del curso en el producto");return}if(S.value){if(!i.value.live_session_at){r.warning("Selecciona la fecha y hora de la reunion");return}if(!i.value.live_session_url){r.warning("Ingresa el enlace de la reunion");return}}if(V.value&&!i.value.video_iframe){r.warning("Ingresa el codigo iframe");return}try{const z=P("");S.value&&(z.video_iframe="",z.course_description=""),V.value&&(z.live_session_at=null,z.live_session_url="",z.live_session_access_code=""),d.value==="edit"?(await n.update(z),r.success("Inventario actualizado")):(await n.create(z),r.success("Inventario creado"),Q()),a("saved")}catch(z){const J=z?.response?.data;z?.response?.status===422&&J?.errors?c.value=J.errors:r.danger("No se pudo guardar el inventario")}return}if(v.value){const z=w();if(!z.length){r.warning("Ingresa al menos una clave para el inventario");return}if(d.value==="edit"&&z.length>1){r.warning("En edicin solo puedes actualizar una clave");return}try{if(d.value==="edit"){const J=z[0];await n.update(P(J)),r.success("Inventario actualizado")}else{const J=z.map(se=>n.create(P(se)));await Promise.all(J),r.success("Inventario creado"),Q()}a("saved")}catch(J){const se=J?.response?.data;J?.response?.status===422&&se?.errors?c.value=se.errors:r.danger("No se pudo guardar el inventario")}return}if(_.value&&!i.value.secret_ref){r.warning("Ingresa el enlace de descarga");return}const oe=(B.value.email||"").trim(),D=(B.value.password||"").trim();if(f.value&&(!oe||!D)){r.warning("Completa el email y la contrasea de la cuenta");return}if(!f.value&&!i.value.secret_ref){r.warning("Completa la referencia del inventario");return}if(u.value&&d.value==="create"&&!Z().filter(J=>J.profile).length){r.warning("Agrega al menos un perfil");return}if(u.value&&d.value==="edit"&&!Z()[0]?.profile){r.warning("Completa el perfil");return}try{if(d.value==="edit"){const z=Z()[0],J=f.value?U(u.value?z:null):i.value.secret_ref;await n.update(P(J)),r.success("Inventario actualizado")}else if(u.value){const J=Z().filter(se=>se.profile).map(se=>n.create(P(U(se))));await Promise.all(J),r.success("Inventario creado"),Q()}else{const z=f.value?U():i.value.secret_ref;await n.create(P(z)),r.success("Inventario creado"),Q()}a("saved")}catch(z){const J=z?.response?.data;z?.response?.status===422&&J?.errors?c.value=J.errors:r.danger("No se pudo guardar el inventario")}},Q=()=>{d.value="create",i.value={...l()},c.value={},L(),y(),N(),E(),$()};return t({openCreate:Q,openEdit:oe=>{if(d.value="edit",i.value={...l(),...oe},c.value={},v.value&&(M.value=String(oe?.secret_ref||"").includes("@")?"email":"serial",R.value=oe?.secret_ref||""),_.value&&(i.value.secret_ref=oe?.secret_ref||""),b.value){const D=H(oe?.secret_ref);B.value={email:D?.email||"",password:D?.password||""}}f.value?G(oe?.secret_ref):(L(),y(),v.value||N())},submit:ee}),(oe,D)=>(openBlock(),createElementBlock("form",{onSubmit:withModifiers(ee,["prevent"])},[createBaseVNode("div",_hoisted_1$10,[g.value?(openBlock(),createElementBlock("div",_hoisted_2$W,[createBaseVNode("div",_hoisted_3$U,[createBaseVNode("div",_hoisted_4$F,[D[20]||(D[20]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-3"},[createBaseVNode("i",{class:"bi bi-camera-video"}),createBaseVNode("h6",{class:"fw-semibold mb-0"},"Inventario del Curso")],-1)),e.courseFormat?(openBlock(),createElementBlock("div",_hoisted_6$z,[S.value?(openBlock(),createElementBlock("div",_hoisted_7$y,[createBaseVNode("div",_hoisted_8$x,[D[15]||(D[15]=createBaseVNode("label",{class:"form-label fw-semibold",for:"courseInventoryDate"},"Fecha y hora",-1)),withDirectives(createBaseVNode("input",{id:"courseInventoryDate","onUpdate:modelValue":D[0]||(D[0]=z=>i.value.live_session_at=z),type:"datetime-local",class:normalizeClass(["form-control",{"is-invalid":c.value.live_session_at}])},null,2),[[vModelText,i.value.live_session_at]]),c.value.live_session_at?(openBlock(),createElementBlock("div",_hoisted_9$v,toDisplayString(c.value.live_session_at[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_10$s,[D[16]||(D[16]=createBaseVNode("label",{class:"form-label fw-semibold",for:"courseInventoryUrl"},"Enlace de reunion",-1)),withDirectives(createBaseVNode("input",{id:"courseInventoryUrl","onUpdate:modelValue":D[1]||(D[1]=z=>i.value.live_session_url=z),type:"url",class:normalizeClass(["form-control",{"is-invalid":c.value.live_session_url}]),placeholder:"https://meet.google.com/..."},null,2),[[vModelText,i.value.live_session_url]]),c.value.live_session_url?(openBlock(),createElementBlock("div",_hoisted_11$o,toDisplayString(c.value.live_session_url[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$h,[D[17]||(D[17]=createBaseVNode("label",{class:"form-label fw-semibold",for:"courseInventoryAccessCode"}," Clave de acceso (opcional) ",-1)),withDirectives(createBaseVNode("input",{id:"courseInventoryAccessCode","onUpdate:modelValue":D[2]||(D[2]=z=>i.value.live_session_access_code=z),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.live_session_access_code}]),placeholder:"Ingresa la clave si es necesaria"},null,2),[[vModelText,i.value.live_session_access_code]]),c.value.live_session_access_code?(openBlock(),createElementBlock("div",_hoisted_13$f,toDisplayString(c.value.live_session_access_code[0]),1)):createCommentVNode("",!0)])])):createCommentVNode("",!0),V.value?(openBlock(),createElementBlock("div",_hoisted_14$f,[createBaseVNode("div",_hoisted_15$e,[D[18]||(D[18]=createBaseVNode("label",{class:"form-label fw-semibold",for:"courseInventoryIframe"},"Codigo iframe",-1)),withDirectives(createBaseVNode("textarea",{id:"courseInventoryIframe","onUpdate:modelValue":D[3]||(D[3]=z=>i.value.video_iframe=z),class:normalizeClass(["form-control",{"is-invalid":c.value.video_iframe}]),rows:"4",placeholder:"<iframe src='...'></iframe>"},null,2),[[vModelText,i.value.video_iframe]]),c.value.video_iframe?(openBlock(),createElementBlock("div",_hoisted_16$e,toDisplayString(c.value.video_iframe[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_17$d,[D[19]||(D[19]=createBaseVNode("label",{class:"form-label fw-semibold",for:"courseInventoryDescription"}," Descripcion (opcional) ",-1)),withDirectives(createBaseVNode("textarea",{id:"courseInventoryDescription","onUpdate:modelValue":D[4]||(D[4]=z=>i.value.course_description=z),class:normalizeClass(["form-control",{"is-invalid":c.value.course_description}]),rows:"3",placeholder:"Notas para el acceso o detalles del video..."},null,2),[[vModelText,i.value.course_description]]),c.value.course_description?(openBlock(),createElementBlock("div",_hoisted_18$c,toDisplayString(c.value.course_description[0]),1)):createCommentVNode("",!0)])])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_5$B," Selecciona el formato del curso en el producto para registrar inventario. "))])])])):f.value?(openBlock(),createElementBlock(Fragment,{key:1},[b.value?(openBlock(),createElementBlock("div",_hoisted_19$a,[createBaseVNode("div",_hoisted_20$9,[createBaseVNode("div",_hoisted_21$8,[D[23]||(D[23]=createStaticVNode('<div class="d-flex align-items-center gap-2 mb-3"><i class="bi bi-cpu"></i><h6 class="fw-semibold mb-0">Configuracin de Herramienta IA</h6></div><div class="d-flex flex-column flex-md-row gap-2 mb-3"><button type="button" class="btn btn-outline-secondary active"> Cuenta Completa </button><button type="button" class="btn btn-outline-secondary"> Activacin por Email </button></div>',2)),createBaseVNode("div",_hoisted_22$8,[createBaseVNode("div",_hoisted_23$6,[D[21]||(D[21]=createBaseVNode("label",{class:"form-label fw-semibold",for:"aiMasterEmail"}," Email de cuenta maestra ",-1)),withDirectives(createBaseVNode("input",{id:"aiMasterEmail","onUpdate:modelValue":D[5]||(D[5]=z=>B.value.email=z),type:"email",class:"form-control",placeholder:"admin@netflix.com",required:""},null,512),[[vModelText,B.value.email]])]),createBaseVNode("div",_hoisted_24$6,[D[22]||(D[22]=createBaseVNode("label",{class:"form-label fw-semibold",for:"aiMasterPassword"}," Contrasea de cuenta ",-1)),withDirectives(createBaseVNode("input",{id:"aiMasterPassword","onUpdate:modelValue":D[6]||(D[6]=z=>B.value.password=z),type:"password",class:"form-control",placeholder:"******",required:""},null,512),[[vModelText,B.value.password]])])])])])])):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_25$4,[D[24]||(D[24]=createBaseVNode("label",{class:"form-label fw-semibold",for:"inventoryAccountEmail"}," Email de cuenta ",-1)),withDirectives(createBaseVNode("input",{id:"inventoryAccountEmail","onUpdate:modelValue":D[7]||(D[7]=z=>B.value.email=z),type:"email",class:"form-control",placeholder:"admin@netflix.com",required:""},null,512),[[vModelText,B.value.email]])]),createBaseVNode("div",_hoisted_26$4,[D[25]||(D[25]=createBaseVNode("label",{class:"form-label fw-semibold",for:"inventoryAccountPassword"}," Contrasea de cuenta ",-1)),withDirectives(createBaseVNode("input",{id:"inventoryAccountPassword","onUpdate:modelValue":D[8]||(D[8]=z=>B.value.password=z),type:"password",class:"form-control",placeholder:"******",required:""},null,512),[[vModelText,B.value.password]])]),u.value?(openBlock(),createElementBlock("div",_hoisted_27$4,[createBaseVNode("div",_hoisted_28$4,[D[26]||(D[26]=createBaseVNode("label",{class:"form-label fw-semibold mb-0"},"Perfiles",-1)),d.value==="create"?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",onClick:ce}," + Perfil ")):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(O.value,(z,J)=>(openBlock(),createElementBlock("div",{key:`inventory-profile-${J}`,class:"row g-2 align-items-end mt-1"},[createBaseVNode("div",_hoisted_29$3,[createBaseVNode("label",{class:"form-label fw-semibold",for:`inventoryProfile-${J}`}," Perfil ",8,_hoisted_30$3),withDirectives(createBaseVNode("input",{id:`inventoryProfile-${J}`,"onUpdate:modelValue":se=>z.profile=se,type:"text",class:"form-control",placeholder:k(J),required:""},null,8,_hoisted_31$3),[[vModelText,z.profile]])]),createBaseVNode("div",_hoisted_32$3,[createBaseVNode("label",{class:"form-label fw-semibold",for:`inventoryPin-${J}`}," PIN (opcional) ",8,_hoisted_33$3),withDirectives(createBaseVNode("input",{id:`inventoryPin-${J}`,"onUpdate:modelValue":se=>z.pin=se,type:"text",class:"form-control",placeholder:"1234"},null,8,_hoisted_34$2),[[vModelText,z.pin]])]),d.value==="create"?(openBlock(),createElementBlock("div",_hoisted_35$2,[createBaseVNode("button",{type:"button",class:"btn btn-outline-danger w-100",onClick:se=>ue(J)}," Eliminar ",8,_hoisted_36$2)])):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0),c.value.secret_ref?(openBlock(),createElementBlock("div",_hoisted_37$2,toDisplayString(c.value.secret_ref[0]),1)):createCommentVNode("",!0)],64))],64)):v.value?(openBlock(),createElementBlock("div",_hoisted_38$2,[createBaseVNode("div",_hoisted_39$2,[createBaseVNode("div",_hoisted_40$2,[D[30]||(D[30]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-3"},[createBaseVNode("i",{class:"bi bi-key"}),createBaseVNode("h6",{class:"fw-semibold mb-0"},"Detalles de Licencia")],-1)),createBaseVNode("div",_hoisted_41$2,[createBaseVNode("div",_hoisted_42$2,[withDirectives(createBaseVNode("input",{id:"licenseSerial","onUpdate:modelValue":D[9]||(D[9]=z=>M.value=z),class:"form-check-input",type:"radio",value:"serial"},null,512),[[vModelRadio,M.value]]),D[27]||(D[27]=createBaseVNode("label",{class:"form-check-label",for:"licenseSerial"},"Clave Serial",-1))]),createBaseVNode("div",_hoisted_43$2,[withDirectives(createBaseVNode("input",{id:"licenseEmail","onUpdate:modelValue":D[10]||(D[10]=z=>M.value=z),class:"form-check-input",type:"radio",value:"email"},null,512),[[vModelRadio,M.value]]),D[28]||(D[28]=createBaseVNode("label",{class:"form-check-label",for:"licenseEmail"},"Activacin por Email",-1))])]),createBaseVNode("div",_hoisted_44$2,[createBaseVNode("label",_hoisted_45$2,toDisplayString(C.value),1),withDirectives(createBaseVNode("textarea",{id:"licenseBulk","onUpdate:modelValue":D[11]||(D[11]=z=>R.value=z),class:normalizeClass(["form-control",{"is-invalid":c.value.secret_ref}]),rows:"5",placeholder:"XXXX-XXXX-XXXX-001",required:""},null,2),[[vModelText,R.value]]),D[29]||(D[29]=createBaseVNode("div",{class:"text-muted small mt-1"}," El sistema detectar automticamente el stock segn las lneas. ",-1)),c.value.secret_ref?(openBlock(),createElementBlock("div",_hoisted_46$2,toDisplayString(c.value.secret_ref[0]),1)):createCommentVNode("",!0)])])])])):_.value?(openBlock(),createElementBlock("div",_hoisted_47$2,[createBaseVNode("div",_hoisted_48$2,[createBaseVNode("div",_hoisted_49$2,[D[34]||(D[34]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-3"},[createBaseVNode("i",{class:"bi bi-book"}),createBaseVNode("h6",{class:"fw-semibold mb-0"},"Recursos Digitales")],-1)),createBaseVNode("div",_hoisted_50$1,[D[33]||(D[33]=createStaticVNode('<div class="col-md-4"><div class="border rounded-3 p-4 text-center text-muted h-100"><i class="bi bi-image fs-3"></i><div class="mt-2 fw-semibold">Portada</div><div class="small">Arrastra o haz clic</div></div></div>',1)),createBaseVNode("div",_hoisted_51$1,[D[32]||(D[32]=createBaseVNode("label",{class:"form-label fw-semibold",for:"inventoryEbookLink"}," Enlace de descarga ",-1)),createBaseVNode("div",_hoisted_52$1,[D[31]||(D[31]=createBaseVNode("span",{class:"input-group-text"},[createBaseVNode("i",{class:"bi bi-link-45deg"})],-1)),withDirectives(createBaseVNode("input",{id:"inventoryEbookLink","onUpdate:modelValue":D[12]||(D[12]=z=>i.value.secret_ref=z),type:"url",class:normalizeClass(["form-control",{"is-invalid":c.value.secret_ref}]),placeholder:"https://...",required:""},null,2),[[vModelText,i.value.secret_ref]])]),c.value.secret_ref?(openBlock(),createElementBlock("div",_hoisted_53$1,toDisplayString(c.value.secret_ref[0]),1)):createCommentVNode("",!0)])])])])])):(openBlock(),createElementBlock("div",_hoisted_54$1,[D[35]||(D[35]=createBaseVNode("label",{class:"form-label fw-semibold",for:"inventorySecret"}," Referencia / Credencial ",-1)),withDirectives(createBaseVNode("textarea",{id:"inventorySecret","onUpdate:modelValue":D[13]||(D[13]=z=>i.value.secret_ref=z),class:normalizeClass(["form-control",{"is-invalid":c.value.secret_ref}]),rows:"2",placeholder:"usuario:password o referencia",required:""},null,2),[[vModelText,i.value.secret_ref]]),c.value.secret_ref?(openBlock(),createElementBlock("div",_hoisted_55$1,toDisplayString(c.value.secret_ref[0]),1)):createCommentVNode("",!0)])),createBaseVNode("div",_hoisted_56$1,[D[36]||(D[36]=createBaseVNode("label",{class:"form-label fw-semibold",for:"inventoryExpires"},"Vence",-1)),withDirectives(createBaseVNode("input",{id:"inventoryExpires","onUpdate:modelValue":D[14]||(D[14]=z=>i.value.expires_at=z),type:"date",class:normalizeClass(["form-control",{"is-invalid":c.value.expires_at}])},null,2),[[vModelText,i.value.expires_at]]),c.value.expires_at?(openBlock(),createElementBlock("div",_hoisted_57$1,toDisplayString(c.value.expires_at[0]),1)):createCommentVNode("",!0)])])],32))}},_hoisted_1$$={class:"modal-dialog modal-xl modal-dialog-scrollable"},_hoisted_2$V={class:"modal-content"},_hoisted_3$T={class:"modal-header py-2"},_hoisted_4$E={class:"d-flex align-items-center gap-2 flex-wrap"},_hoisted_5$A={class:"modal-title mb-0",id:"inventoryModalLabel"},_hoisted_6$y={key:0,class:"badge bg-light text-dark border"},_hoisted_7$x={key:1,class:"badge bg-light text-dark border"},_hoisted_8$w={key:2,class:"badge bg-light text-dark border"},_hoisted_9$u={class:"modal-body p-0"},_hoisted_10$r={class:"inventory-sticky bg-white"},_hoisted_11$n={class:"inventory-tabs-row d-flex flex-column flex-lg-row align-items-lg-end gap-2 border-bottom px-3 pt-2"},_hoisted_12$g={class:"nav nav-tabs border-bottom-0"},_hoisted_13$e={class:"nav-item"},_hoisted_14$e={class:"nav-item"},_hoisted_15$d={key:0,class:"d-flex flex-column flex-md-row align-items-md-center gap-2 ms-lg-auto"},_hoisted_16$d={class:"tab-content px-3 pb-3"},_hoisted_17$c={key:0,class:"modal-footer d-flex justify-content-end align-items-center py-1"},_hoisted_18$b={class:"d-flex gap-2"},streamingSlug="streaming",_sfc_main$11={__name:"index",props:{categories:{type:Array,default:()=>[]}},emits:["saved"],setup(e,{expose:t,emit:s}){const o=e,a=s,n=ref(null);let r=null,l=null;const i=useProductInventoryStore(),d=ref(null),c=ref({term:"",status:""}),u=ref("list"),m=ref("create"),f=ref(null),g=computed(()=>u.value==="form"),v=computed(()=>d.value?.category_id&&o.categories.find(P=>P.id===d.value.category_id)||null),_=computed(()=>v.value?.name||""),b=computed(()=>v.value?.slug||""),S=computed(()=>v.value?.slug===streamingSlug),V=computed(()=>b.value!=="course"?"":d.value?.course_format==="live"?"Reunion en vivo":d.value?.course_format==="recorded"?"Video grabado":""),k=computed(()=>S.value?d.value?.access_type==="profile"?"Por perfil":d.value?.access_type==="full_account"?"Cuenta completa":"":""),B=computed(()=>m.value==="edit"?"Editar inventario":"Agregar inventario"),O=computed(()=>g.value?"Cancelar":"Cerrar"),M=async()=>{d.value?.id&&await i.clearAndGet({product_id:d.value.id})},R=()=>{c.value={term:"",status:""},m.value="create",u.value="list",f.value?.openCreate()},C=async P=>{d.value=P,R(),await M(),r?.show()},w=()=>{r?.hide()},L=P=>{c.value=P},y=()=>{m.value="create",f.value?.openCreate(),u.value="list"},N=()=>{m.value="create",f.value?.openCreate(),u.value="form"},E=P=>{m.value="edit",f.value?.openEdit(P),u.value="form"},$=async()=>{await M(),d.value?.id&&a("saved",d.value.id),m.value="create",u.value="list",f.value?.openCreate()},H=async()=>{await M()},U=()=>{g.value?(y(),m.value="create",f.value?.openCreate()):w()};return t({open:C,close:w}),onMounted(()=>{n.value&&(r=new Modal(n.value),l=()=>{const P=document.activeElement;P instanceof HTMLElement&&n.value?.contains(P)&&P.blur()},n.value.addEventListener("hide.bs.modal",l))}),onBeforeUnmount(()=>{r&&(r.hide(),r=null),n.value&&l&&(n.value.removeEventListener("hide.bs.modal",l),l=null)}),(P,Z)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:n,class:"modal fade",tabindex:"-1","aria-labelledby":"inventoryModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$$,[createBaseVNode("div",_hoisted_2$V,[createBaseVNode("div",_hoisted_3$T,[createBaseVNode("div",_hoisted_4$E,[Z[1]||(Z[1]=createBaseVNode("span",{class:"text-muted"},"Inventario",-1)),createBaseVNode("h5",_hoisted_5$A,toDisplayString(d.value?.name||"Producto"),1),_.value?(openBlock(),createElementBlock("span",_hoisted_6$y,toDisplayString(_.value),1)):createCommentVNode("",!0),k.value?(openBlock(),createElementBlock("span",_hoisted_7$x,toDisplayString(k.value),1)):createCommentVNode("",!0),V.value?(openBlock(),createElementBlock("span",_hoisted_8$w,toDisplayString(V.value),1)):createCommentVNode("",!0)]),Z[2]||(Z[2]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_9$u,[createBaseVNode("div",_hoisted_10$r,[createBaseVNode("div",_hoisted_11$n,[createBaseVNode("ul",_hoisted_12$g,[createBaseVNode("li",_hoisted_13$e,[createBaseVNode("button",{class:normalizeClass(["nav-link",{active:u.value==="list"}]),type:"button",onClick:y}," Listado ",2)]),createBaseVNode("li",_hoisted_14$e,[createBaseVNode("button",{class:normalizeClass(["nav-link",{active:u.value==="form"}]),type:"button",onClick:N},toDisplayString(B.value),3)])]),u.value==="list"?(openBlock(),createElementBlock("div",_hoisted_15$d,[createVNode(_sfc_main$14,{class:"mb-0 flex-shrink-0",onSearch:L})])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_16$d,[createBaseVNode("div",{class:normalizeClass(["tab-pane fade",{show:u.value==="list",active:u.value==="list"}])},[createVNode(_sfc_main$13,{class:"mt-1",filters:c.value,onEdit:E,onDeleted:H},null,8,["filters"])],2),createBaseVNode("div",{class:normalizeClass(["tab-pane fade pt-3",{show:u.value==="form",active:u.value==="form"}])},[createVNode(_sfc_main$12,{ref_key:"formRef",ref:f,"product-id":d.value?.id,"is-streaming":S.value,"access-type":d.value?.access_type||null,"category-slug":b.value,"course-format":d.value?.course_format||null,onSaved:$},null,8,["product-id","is-streaming","access-type","category-slug","course-format"])],2)])]),g.value?(openBlock(),createElementBlock("div",_hoisted_17$c,[createBaseVNode("div",_hoisted_18$b,[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:U},toDisplayString(O.value),1),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:Z[0]||(Z[0]=ce=>f.value?.submit())}," Guardar ")])])):createCommentVNode("",!0)])])],512))}},InventoryIndex=_export_sfc(_sfc_main$11,[["__scopeId","data-v-3dec4fc0"]]),_hoisted_1$_={class:"p-3"},_hoisted_2$U={class:"card card-body"},_hoisted_3$S={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$10={__name:"index",setup(e){const t=useProductStore(),s=useCategoryStore(),o=useTagStore(),a=useAuth(),n=useUserStore(),r=ref(null),l=ref(null),i=ref({term:"",category_id:null,status:"",provider_id:null}),d=ref(!1),c=computed(()=>u.value?(n.list||[]).filter(B=>B.roles?.some(O=>O.name==="provider"||O.name==="admin")).map(B=>({id:B.id,label:B.name||B.email||`Usuario ${B.id}`})):[]),u=computed(()=>Array.isArray(a.user?.roles)&&a.user.roles.some(B=>B.name==="admin")),m=computed(()=>u.value?null:a.user?.id||null);onMounted(()=>{s.get(),o.get()});const f=async()=>{if(d.value||!Array.isArray(a.user?.roles))return;const B={with:"files"};if(!u.value){if(!m.value)return;B.provider_id=m.value}await t.get(B),d.value=!0},g=B=>{i.value={...i.value,...B}},v=async()=>{s.list?.length||await s.get(),o.list?.length||await o.get()},_=async()=>{await v(),r.value?.openCreate()},b=async B=>{await v(),r.value?.openEdit(B)},S=B=>{l.value?.open(B)},V=async B=>{B&&await t.show(B)},k=async()=>{!u.value||!a.can("users.index")||await n.get({with:"roles"})};return watch(()=>u.value,()=>{k()},{immediate:!0}),watch([()=>a.user?.id,()=>a.user?.roles?.length,()=>u.value],()=>{f()},{immediate:!0}),(B,O)=>(openBlock(),createElementBlock("section",_hoisted_1$_,[createBaseVNode("div",_hoisted_2$U,[O[0]||(O[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Mis productos"),createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona los productos disponibles en tu catlogo.")],-1)),createBaseVNode("div",_hoisted_3$S,[createVNode(_sfc_main$1b,{class:"mb-0 flex-shrink-0",categories:unref(s).list,providers:c.value,"show-provider-select":u.value,"current-provider-id":i.value.provider_id,onSearch:g},null,8,["categories","providers","show-provider-select","current-provider-id"]),unref(a).can("products.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:_}," Nuevo producto ")):createCommentVNode("",!0)]),createVNode(_sfc_main$19,{class:"mt-1",categories:unref(s).list,tags:unref(o).list,filters:i.value,onEdit:b,onInventory:S},null,8,["categories","tags","filters"])]),createVNode(_sfc_main$15,{ref_key:"formRef",ref:r,categories:unref(s).list,tags:unref(o).list},null,8,["categories","tags"]),createVNode(InventoryIndex,{ref_key:"inventoryRef",ref:l,categories:unref(s).list,onSaved:V},null,8,["categories"])]))}},storeRoutes=[{path:"/products",name:"products.index",meta:{requiresAuth:!0,permissions:["products.view"]},component:_sfc_main$10}],_hoisted_1$Z={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$T={class:"search-box"},_hoisted_3$R={class:"input-group"},_hoisted_4$D=["onKeyup"],_sfc_main$$={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=ref(""),n=()=>s("search",{term:o.value.trim(),status:a.value}),r=()=>{o.value="",a.value="",s("search",{term:"",status:""})};return(l,i)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(n,["prevent"])},[createBaseVNode("div",_hoisted_1$Z,[createBaseVNode("div",_hoisted_2$T,[createBaseVNode("div",_hoisted_3$R,[withDirectives(createBaseVNode("input",{id:"categorySearch","onUpdate:modelValue":i[0]||(i[0]=d=>o.value=d),type:"text",class:"form-control",placeholder:"Buscar por nombre o slug",onKeyup:withKeys(withModifiers(n,["prevent"]),["enter"])},null,40,_hoisted_4$D),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:r},[...i[2]||(i[2]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),i[3]||(i[3]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":i[1]||(i[1]=d=>a.value=d),class:"form-select w-auto",onChange:n},[...i[4]||(i[4]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:"active"},"Activa",-1),createBaseVNode("option",{value:"inactive"},"Inactiva",-1)])],544),[[vModelSelect,a.value]])])],32))}},_hoisted_1$Y={class:"d-flex align-items-center gap-2"},_hoisted_2$S=["disabled","onClick"],_hoisted_3$Q=["disabled","onClick"],_hoisted_4$C={class:"text-center"},_hoisted_5$z={class:"d-inline-flex align-items-center gap-2"},_hoisted_6$x=["onClick"],_hoisted_7$w=["onClick"],_hoisted_8$v={key:0},_sfc_main$_={__name:"List",props:{tags:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({term:"",status:""})},pageSize:{type:Number,default:10}},emits:["edit"],setup(e,{emit:t}){const s=t,o=e,a=useCategoryStore(),{list:n}=storeToRefs(a),r=useAuth(),l={finite:"Finito",unlimited:"Ilimitado"},i=computed(()=>n.value.reduce((v,_)=>(v[_.id]=_.name,v),{})),d=computed(()=>o.tags.reduce((v,_)=>(v[_.id]=_.name,v),{})),c=v=>{const b=(Array.isArray(v.tag_ids)?v.tag_ids:Array.isArray(v.tag_pivots)?v.tag_pivots.map(S=>S.tag_id):[]).map(S=>d.value[S]).filter(Boolean);return b.length?b.join(", "):""},u=(v=[])=>{if(!Array.isArray(v)||!v.length)return"";const _=v.find(b=>b.is_active)||v[0];return resolveFileUrl(_)},m=computed(()=>{const v=o.filters.term?.toLowerCase()||"",_=o.filters.status||"";return n.value.filter(b=>!v||[b.name,b.slug,b.description].some(V=>(V||"").toLowerCase().includes(v))?_?_==="active"?b.is_active:!b.is_active:!0:!1)}),f=[{title:"Nombre",key:"name"},{title:"Slug",key:"slug"},{title:"Padre",key:"parent",sortKey:v=>i.value[v.parent_id]||""},{title:"Inventario",key:"inventory_type"},{title:"Etiquetas",key:"tags",sortable:!1},{title:"Estado",key:"is_active"},{title:"Imagen",key:"image",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],g=async v=>{window.confirm(`Eliminar la categora "${v.name}"?`)&&await a.delete(v)};return(v,_)=>(openBlock(),createBlock(Table,{items:m.value,headers:f,"default-sort":{key:"name",direction:"asc"},"page-length":e.pageSize,tag:"category"},{actions:withCtx(({selected:b})=>[createBaseVNode("div",_hoisted_1$Y,[unref(r).can("categories.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!b.item,onClick:S=>b.item&&s("edit",b.item)}," Editar ",8,_hoisted_2$S)):createCommentVNode("",!0),unref(r).can("categories.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!b.item,onClick:S=>b.item&&g(b.item)}," Eliminar ",8,_hoisted_3$Q)):createCommentVNode("",!0)])]),body:withCtx(({item:b})=>[createBaseVNode("td",null,toDisplayString(b.name),1),createBaseVNode("td",null,toDisplayString(b.slug),1),createBaseVNode("td",null,toDisplayString(i.value[b.parent_id]||""),1),createBaseVNode("td",null,toDisplayString(l[b.inventory_type]||""),1),createBaseVNode("td",null,toDisplayString(c(b)),1),createBaseVNode("td",null,toDisplayString(b.is_active?"Activa":"Inactiva"),1),createBaseVNode("td",null,[createVNode(HoverImagePreview,{src:u(b.files),alt:"Categora"},null,8,["src"])]),createBaseVNode("td",_hoisted_4$C,[createBaseVNode("div",_hoisted_5$z,[unref(r).can("categories.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:S=>s("edit",b)},[..._[0]||(_[0]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_6$x)):createCommentVNode("",!0),unref(r).can("categories.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:S=>g(b)},[..._[1]||(_[1]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_7$w)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[m.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_8$v,[..._[2]||(_[2]=[createBaseVNode("td",{colspan:"8",class:"text-center text-muted"},"No hay categoras registradas",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$X={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$R={class:"modal-content"},_hoisted_3$P={class:"modal-header py-2"},_hoisted_4$B={class:"modal-title",id:"categoryModalLabel"},_hoisted_5$y={class:"modal-body p-0"},_hoisted_6$w={class:"row g-3"},_hoisted_7$v={class:"col-md-6"},_hoisted_8$u={key:0,class:"text-danger small mt-1"},_hoisted_9$t={class:"col-md-6"},_hoisted_10$q={key:0,class:"text-danger small mt-1"},_hoisted_11$m={class:"col-12"},_hoisted_12$f={key:0,class:"text-danger small mt-1"},_hoisted_13$d={class:"col-12"},_hoisted_14$d={key:0,class:"col-12"},_hoisted_15$c={class:"border rounded p-2 d-inline-block"},_hoisted_16$c=["src"],_hoisted_17$b={class:"col-md-6"},_hoisted_18$a=["value"],_hoisted_19$9={key:0,class:"text-danger small mt-1"},_hoisted_20$8={class:"col-md-6"},_hoisted_21$7={key:0,class:"text-danger small mt-1"},_hoisted_22$7={class:"col-md-6"},_hoisted_23$5={key:0,class:"text-danger small mt-1"},_hoisted_24$5={class:"col-md-6"},_hoisted_25$3={key:0,class:"text-danger small mt-1"},_hoisted_26$3={class:"col-12"},_hoisted_27$3=["value"],_hoisted_28$3={key:0,class:"text-danger small mt-1"},categoryModelType="App\\Models\\Catalog\\Category",_sfc_main$Z={__name:"Form",props:{tags:{type:Array,default:()=>[]}},setup(e,{expose:t}){const s=e,o=ref(null);let a=null,n=null;const r=useCategoryStore(),l=useToast(),i=()=>Category.getDefault(),d=ref({...i()}),c=ref("create"),u=ref({}),m=ref(!1),f=ref(null),g=ref([]),v=computed(()=>r.list.filter(N=>N.id!==d.value.id)),_={duration:"Duracin",quality:"Calidad",account:"Cuenta",promotion:"Promocin",provider:"Proveedor"},b=computed(()=>g.value.find(N=>N.is_active)||g.value[0]||null),S=computed(()=>R(b.value)),V=()=>{m.value=!0},k=()=>{f.value=null},B=async N=>{if(N)try{const E=await api.get("/api/files",{params:{model_type:categoryModelType,model_id:N}});g.value=Array.isArray(E.data)?E.data:[]}catch{g.value=[]}},O=async N=>{const E=await api.get("/api/files",{params:{model_type:categoryModelType,model_id:N}}),$=Array.isArray(E.data)?E.data:[];$.length&&await Promise.all($.map(H=>api.put(`/api/files/${H.id}`,{is_active:!1})))},M=async N=>{if(!(!N||!f.value))try{await O(N);const E=new FormData;E.append("file",f.value),E.append("model_type",categoryModelType),E.append("model_id",N),await api.post("/api/files",E,{headers:{"Content-Type":"multipart/form-data"}}),await B(N),await r.get({with:"files"}),k()}catch{l.danger("No se pudo subir la imagen")}};function R(N){if(!N)return"";const E=typeof N=="string"?N:N.url,$=(api.defaults.baseURL||"").replace(/\/+$/,""),H=$.endsWith("/api")?$:`${$}/api`;if(N?.id)return $?`${H}/files/${N.id}/download`:`/api/files/${N.id}/download`;if(/^https?:\/\//i.test(E)){if(!$||E.startsWith($))return E;const U=E.indexOf("/storage/");return U!==-1?`${$}${E.slice(U)}`:E}return $?E.startsWith("/")?`${$}${E}`:`${$}/${E}`:E}const C=async()=>{u.value={};try{const N={...d.value};m.value?N.tag_ids=(N.tag_ids||[]).map(H=>Number(H)):delete N.tag_ids;let E=null;c.value==="edit"?(E=await r.update(N),l.success("Categora actualizada")):(E=await r.create(N),l.success("Categora creada"));const $=d.value.id||E?.data?.id||E?.id;$&&!d.value.id&&(d.value.id=$),await M($),y()}catch(N){const E=N?.response?.data;N?.response?.status===422&&E?.errors?u.value=E.errors:l.danger("No se pudo guardar la categora")}},w=()=>{c.value="create",d.value={...i(),tag_ids:[]},u.value={},m.value=!1,g.value=[],k(),a?.show()},L=N=>{c.value="edit";const E=Array.isArray(N.tag_ids)?N.tag_ids:Array.isArray(N.tag_pivots)?N.tag_pivots.map($=>$.tag_id):[];d.value={...i(),...N,tag_ids:E},u.value={},m.value=!1,k(),B(N.id),a?.show()},y=()=>{a?.hide()};return t({openCreate:w,openEdit:L,close:y}),onMounted(()=>{o.value&&(a=new Modal(o.value),n=()=>{const N=document.activeElement;N instanceof HTMLElement&&o.value?.contains(N)&&N.blur()},o.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{a&&(a.hide(),a=null),o.value&&n&&(o.value.removeEventListener("hide.bs.modal",n),n=null)}),(N,E)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:o,class:"modal fade",tabindex:"-1","aria-labelledby":"categoryModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$X,[createBaseVNode("div",_hoisted_2$R,[createBaseVNode("div",_hoisted_3$P,[createBaseVNode("h5",_hoisted_4$B,toDisplayString(c.value==="edit"?"Editar categora":"Nueva categora"),1),E[9]||(E[9]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$y,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(C,["prevent"])},[createBaseVNode("div",_hoisted_6$w,[createBaseVNode("div",_hoisted_7$v,[E[10]||(E[10]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categoryName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"categoryName","onUpdate:modelValue":E[0]||(E[0]=$=>d.value.name=$),type:"text",class:normalizeClass(["form-control",{"is-invalid":u.value.name}]),placeholder:"Streaming",required:""},null,2),[[vModelText,d.value.name]]),u.value.name?(openBlock(),createElementBlock("div",_hoisted_8$u,toDisplayString(u.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$t,[E[11]||(E[11]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categorySlug"},"Slug",-1)),withDirectives(createBaseVNode("input",{id:"categorySlug","onUpdate:modelValue":E[1]||(E[1]=$=>d.value.slug=$),type:"text",class:normalizeClass(["form-control",{"is-invalid":u.value.slug}]),placeholder:"streaming",required:""},null,2),[[vModelText,d.value.slug]]),u.value.slug?(openBlock(),createElementBlock("div",_hoisted_10$q,toDisplayString(u.value.slug[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$m,[E[12]||(E[12]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categoryDescription"},"Descripcin",-1)),withDirectives(createBaseVNode("textarea",{id:"categoryDescription","onUpdate:modelValue":E[2]||(E[2]=$=>d.value.description=$),class:normalizeClass(["form-control",{"is-invalid":u.value.description}]),rows:"3",placeholder:"Describe el uso de la categora"},null,2),[[vModelText,d.value.description]]),u.value.description?(openBlock(),createElementBlock("div",_hoisted_12$f,toDisplayString(u.value.description[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$d,[E[13]||(E[13]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categoryImage"},"Imagen",-1)),createVNode(FileDropzone,{modelValue:f.value,"onUpdate:modelValue":E[3]||(E[3]=$=>f.value=$),accept:"image/*",title:"Arrastra y suelta una imagen",subtitle:"o pega una imagen / elige un archivo","button-label":"Elegir imagen",help:"Si subes una nueva imagen, se reemplaza la anterior."},null,8,["modelValue"])]),S.value?(openBlock(),createElementBlock("div",_hoisted_14$d,[createBaseVNode("div",_hoisted_15$c,[createBaseVNode("img",{src:S.value,alt:"Categora",class:"category-preview"},null,8,_hoisted_16$c)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_17$b,[E[15]||(E[15]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categoryParent"},"Categora padre",-1)),withDirectives(createBaseVNode("select",{id:"categoryParent","onUpdate:modelValue":E[4]||(E[4]=$=>d.value.parent_id=$),class:normalizeClass(["form-select",{"is-invalid":u.value.parent_id}])},[E[14]||(E[14]=createBaseVNode("option",{value:null},"Sin padre",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(v.value,$=>(openBlock(),createElementBlock("option",{key:$.id,value:$.id},toDisplayString($.name),9,_hoisted_18$a))),128))],2),[[vModelSelect,d.value.parent_id]]),u.value.parent_id?(openBlock(),createElementBlock("div",_hoisted_19$9,toDisplayString(u.value.parent_id[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_20$8,[E[17]||(E[17]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categoryInventory"},"Tipo de inventario",-1)),withDirectives(createBaseVNode("select",{id:"categoryInventory","onUpdate:modelValue":E[5]||(E[5]=$=>d.value.inventory_type=$),class:normalizeClass(["form-select",{"is-invalid":u.value.inventory_type}]),required:""},[...E[16]||(E[16]=[createBaseVNode("option",{value:"finite"},"Finito",-1),createBaseVNode("option",{value:"unlimited"},"Ilimitado",-1)])],2),[[vModelSelect,d.value.inventory_type]]),u.value.inventory_type?(openBlock(),createElementBlock("div",_hoisted_21$7,toDisplayString(u.value.inventory_type[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_22$7,[E[18]||(E[18]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categorySort"},"Orden",-1)),withDirectives(createBaseVNode("input",{id:"categorySort","onUpdate:modelValue":E[6]||(E[6]=$=>d.value.sort_order=$),type:"number",class:normalizeClass(["form-control",{"is-invalid":u.value.sort_order}]),min:"0"},null,2),[[vModelText,d.value.sort_order,void 0,{number:!0}]]),u.value.sort_order?(openBlock(),createElementBlock("div",_hoisted_23$5,toDisplayString(u.value.sort_order[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_24$5,[E[20]||(E[20]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categoryStatus"},"Estado",-1)),withDirectives(createBaseVNode("select",{id:"categoryStatus","onUpdate:modelValue":E[7]||(E[7]=$=>d.value.is_active=$),class:normalizeClass(["form-select",{"is-invalid":u.value.is_active}]),required:""},[...E[19]||(E[19]=[createBaseVNode("option",{value:!0},"Activa",-1),createBaseVNode("option",{value:!1},"Inactiva",-1)])],2),[[vModelSelect,d.value.is_active]]),u.value.is_active?(openBlock(),createElementBlock("div",_hoisted_25$3,toDisplayString(u.value.is_active[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_26$3,[E[21]||(E[21]=createBaseVNode("label",{class:"form-label fw-semibold",for:"categoryTags"},"Etiquetas",-1)),withDirectives(createBaseVNode("select",{id:"categoryTags","onUpdate:modelValue":E[8]||(E[8]=$=>d.value.tag_ids=$),class:"form-select",multiple:"",size:"6",onChange:V},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.tags,$=>(openBlock(),createElementBlock("option",{key:$.id,value:$.id},toDisplayString($.name)+" - "+toDisplayString(_[$.tag_type]||$.tag_type),9,_hoisted_27$3))),128))],544),[[vModelSelect,d.value.tag_ids]]),u.value.tag_ids?(openBlock(),createElementBlock("div",_hoisted_28$3,toDisplayString(u.value.tag_ids[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:y},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:C},"Guardar")])])])])],512))}},Form$2=_export_sfc(_sfc_main$Z,[["__scopeId","data-v-2abf4767"]]),_hoisted_1$W={class:"p-3"},_hoisted_2$Q={class:"card card-body"},_hoisted_3$O={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$Y={__name:"index",setup(e){const t=useCategoryStore(),s=useTagStore(),o=useAuth(),a=ref(null),n=ref({term:"",status:""});onMounted(()=>{t.get({with:"files"}),s.get()});const r=l=>{n.value=l};return(l,i)=>(openBlock(),createElementBlock("section",_hoisted_1$W,[createBaseVNode("div",_hoisted_2$Q,[i[2]||(i[2]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Categoras"),createBaseVNode("p",{class:"text-muted mb-0"},"Administra las categoras del catlogo.")],-1)),createBaseVNode("div",_hoisted_3$O,[createVNode(_sfc_main$$,{class:"mb-0 flex-shrink-0",onSearch:r}),unref(o).can("categories.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:i[0]||(i[0]=d=>a.value?.openCreate())}," Nueva categora ")):createCommentVNode("",!0)]),createVNode(_sfc_main$_,{class:"mt-1",filters:n.value,tags:unref(s).list,onEdit:i[1]||(i[1]=d=>a.value?.openEdit(d))},null,8,["filters","tags"])]),createVNode(Form$2,{ref_key:"formRef",ref:a,tags:unref(s).list},null,8,["tags"])]))}},_hoisted_1$V={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$P={class:"search-box"},_hoisted_3$N={class:"input-group"},_hoisted_4$A=["onKeyup"],_sfc_main$X={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=ref(""),n=ref(""),r=()=>s("search",{term:o.value.trim(),tag_type:a.value,status:n.value}),l=()=>{o.value="",a.value="",n.value="",s("search",{term:"",tag_type:"",status:""})};return(i,d)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(r,["prevent"])},[createBaseVNode("div",_hoisted_1$V,[createBaseVNode("div",_hoisted_2$P,[createBaseVNode("div",_hoisted_3$N,[withDirectives(createBaseVNode("input",{id:"tagSearch","onUpdate:modelValue":d[0]||(d[0]=c=>o.value=c),type:"text",class:"form-control",placeholder:"Buscar por nombre o slug",onKeyup:withKeys(withModifiers(r,["prevent"]),["enter"])},null,40,_hoisted_4$A),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:l},[...d[3]||(d[3]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),d[4]||(d[4]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[1]||(d[1]=c=>a.value=c),class:"form-select w-auto",onChange:r},[...d[5]||(d[5]=[createStaticVNode('<option value="">Tipo</option><option value="duration">Duracin</option><option value="quality">Calidad</option><option value="account">Cuenta</option><option value="promotion">Promocin</option><option value="provider">Proveedor</option>',6)])],544),[[vModelSelect,a.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[2]||(d[2]=c=>n.value=c),class:"form-select w-auto",onChange:r},[...d[6]||(d[6]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:"active"},"Activa",-1),createBaseVNode("option",{value:"inactive"},"Inactiva",-1)])],544),[[vModelSelect,n.value]])])],32))}},_hoisted_1$U={class:"d-flex align-items-center gap-2"},_hoisted_2$O=["disabled","onClick"],_hoisted_3$M=["disabled","onClick"],_hoisted_4$z={class:"d-flex flex-column gap-1"},_hoisted_5$x={class:"text-center"},_hoisted_6$v={class:"d-inline-flex align-items-center gap-2"},_hoisted_7$u=["onClick"],_hoisted_8$t=["onClick"],_hoisted_9$s={key:0},_sfc_main$W={__name:"List",props:{filters:{type:Object,default:()=>({term:"",tag_type:"",status:""})},pageSize:{type:Number,default:10}},emits:["edit"],setup(e,{emit:t}){const s=t,o=e,a=useTagStore(),{list:n}=storeToRefs(a),r=useAuth(),l={duration:"Duracin",quality:"Calidad",account:"Cuenta",promotion:"Promocin",provider:"Proveedor"},i=(m=[])=>{if(!Array.isArray(m)||!m.length)return"";const f=m.find(g=>g.is_active)||m[0];return resolveFileUrl(f)},d=computed(()=>{const m=o.filters.term?.toLowerCase()||"",f=o.filters.tag_type||"",g=o.filters.status||"";return n.value.filter(v=>!(!m||[v.name,v.slug,v.description].some(b=>(b||"").toLowerCase().includes(m)))||f&&v.tag_type!==f?!1:g?g==="active"?v.is_active:!v.is_active:!0)}),c=[{title:"Nombre",key:"name"},{title:"Slug",key:"slug"},{title:"Tipo",key:"tag_type",sortKey:m=>l[m.tag_type]||""},{title:"Vista previa",key:"name"},{title:"Estado",key:"is_active"},{title:"Imagen",key:"image",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],u=async m=>{window.confirm(`Eliminar la etiqueta "${m.name}"?`)&&await a.delete(m)};return(m,f)=>(openBlock(),createBlock(Table,{items:d.value,headers:c,"default-sort":{key:"name",direction:"asc"},"page-length":e.pageSize,tag:"tag"},{actions:withCtx(({selected:g})=>[createBaseVNode("div",_hoisted_1$U,[unref(r).can("tags.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!g.item,onClick:v=>g.item&&s("edit",g.item)}," Editar ",8,_hoisted_2$O)):createCommentVNode("",!0),unref(r).can("tags.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!g.item,onClick:v=>g.item&&u(g.item)}," Eliminar ",8,_hoisted_3$M)):createCommentVNode("",!0)])]),body:withCtx(({item:g})=>[createBaseVNode("td",null,toDisplayString(g.name),1),createBaseVNode("td",null,toDisplayString(g.slug),1),createBaseVNode("td",null,toDisplayString(l[g.tag_type]||""),1),createBaseVNode("td",null,[createBaseVNode("div",_hoisted_4$z,[createVNode(_sfc_main$17,{tag:g,"class-name":"align-self-start"},null,8,["tag"])])]),createBaseVNode("td",null,toDisplayString(g.is_active?"Activa":"Inactiva"),1),createBaseVNode("td",null,[createVNode(HoverImagePreview,{src:i(g.files),alt:"Etiqueta"},null,8,["src"])]),createBaseVNode("td",_hoisted_5$x,[createBaseVNode("div",_hoisted_6$v,[unref(r).can("tags.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:v=>s("edit",g)},[...f[0]||(f[0]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_7$u)):createCommentVNode("",!0),unref(r).can("tags.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:v=>u(g)},[...f[1]||(f[1]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_8$t)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[d.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_9$s,[...f[2]||(f[2]=[createBaseVNode("td",{colspan:"7",class:"text-center text-muted"},"No hay etiquetas registradas",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$T={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$N={class:"modal-content"},_hoisted_3$L={class:"modal-header py-2"},_hoisted_4$y={class:"modal-title",id:"tagModalLabel"},_hoisted_5$w={class:"modal-body p-0"},_hoisted_6$u={class:"row g-3"},_hoisted_7$t={class:"col-md-6"},_hoisted_8$s={key:0,class:"text-danger small mt-1"},_hoisted_9$r={class:"col-md-6"},_hoisted_10$p={key:0,class:"text-danger small mt-1"},_hoisted_11$l={class:"col-md-6"},_hoisted_12$e={key:0,class:"text-danger small mt-1"},_hoisted_13$c={class:"col-md-6"},_hoisted_14$c={key:0,class:"text-danger small mt-1"},_hoisted_15$b={class:"col-12"},_hoisted_16$b={key:0,class:"text-danger small mt-1"},_hoisted_17$a={class:"col-12"},_hoisted_18$9={key:0,class:"col-12"},_hoisted_19$8={class:"border rounded p-2 d-inline-block"},_hoisted_20$7=["src"],_hoisted_21$6={class:"col-md-6"},_hoisted_22$6={key:0,class:"text-danger small mt-1"},tagModelType="App\\Models\\Catalog\\Tag",_sfc_main$V={__name:"Form",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useTagStore(),r=useToast(),l=()=>Tag.getDefault(),i=ref({...l()}),d=ref("create"),c=ref({}),u=ref(null),m=ref([]),f=computed(()=>m.value.find(M=>M.is_active)||m.value[0]||null),g=computed(()=>resolveFileUrl(f.value)),v=()=>{u.value=null},_=async M=>{if(M)try{const R=await api.get("/api/files",{params:{model_type:tagModelType,model_id:M}});m.value=Array.isArray(R.data)?R.data:[]}catch{m.value=[]}},b=async M=>{const R=await api.get("/api/files",{params:{model_type:tagModelType,model_id:M}}),C=Array.isArray(R.data)?R.data:[];C.length&&await Promise.all(C.map(w=>api.put(`/api/files/${w.id}`,{is_active:!1})))},S=async M=>{if(!(!M||!u.value))try{await b(M);const R=new FormData;R.append("file",u.value),R.append("model_type",tagModelType),R.append("model_id",M),await api.post("/api/files",R,{headers:{"Content-Type":"multipart/form-data"}}),await _(M),await n.get({with:"files"}),v()}catch{r.danger("No se pudo subir la imagen")}},V=async()=>{c.value={};try{let M=null;d.value==="edit"?(M=await n.update(i.value),r.success("Etiqueta actualizada")):(M=await n.create(i.value),r.success("Etiqueta creada"));const R=i.value.id||M?.data?.id||M?.id;R&&!i.value.id&&(i.value.id=R),await S(R),O()}catch(M){const R=M?.response?.data;M?.response?.status===422&&R?.errors?c.value=R.errors:r.danger("No se pudo guardar la etiqueta")}},k=()=>{d.value="create",i.value={...l()},c.value={},m.value=[],v(),o?.show()},B=M=>{d.value="edit",i.value={...l(),...M},c.value={},v(),_(M.id),o?.show()},O=()=>{o?.hide()};return t({openCreate:k,openEdit:B,close:O}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const M=document.activeElement;M instanceof HTMLElement&&s.value?.contains(M)&&M.blur()},s.value.addEventListener("hide.bs.modal",a))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(M,R)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"tagModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$T,[createBaseVNode("div",_hoisted_2$N,[createBaseVNode("div",_hoisted_3$L,[createBaseVNode("h5",_hoisted_4$y,toDisplayString(d.value==="edit"?"Editar etiqueta":"Nueva etiqueta"),1),R[7]||(R[7]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$w,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(V,["prevent"])},[createBaseVNode("div",_hoisted_6$u,[createBaseVNode("div",_hoisted_7$t,[R[8]||(R[8]=createBaseVNode("label",{class:"form-label fw-semibold",for:"tagName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"tagName","onUpdate:modelValue":R[0]||(R[0]=C=>i.value.name=C),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.name}]),placeholder:"HD",required:""},null,2),[[vModelText,i.value.name]]),c.value.name?(openBlock(),createElementBlock("div",_hoisted_8$s,toDisplayString(c.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$r,[R[9]||(R[9]=createBaseVNode("label",{class:"form-label fw-semibold",for:"tagSlug"},"Slug",-1)),withDirectives(createBaseVNode("input",{id:"tagSlug","onUpdate:modelValue":R[1]||(R[1]=C=>i.value.slug=C),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.slug}]),placeholder:"hd",required:""},null,2),[[vModelText,i.value.slug]]),c.value.slug?(openBlock(),createElementBlock("div",_hoisted_10$p,toDisplayString(c.value.slug[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$l,[R[11]||(R[11]=createBaseVNode("label",{class:"form-label fw-semibold",for:"tagType"},"Tipo",-1)),withDirectives(createBaseVNode("select",{id:"tagType","onUpdate:modelValue":R[2]||(R[2]=C=>i.value.tag_type=C),class:normalizeClass(["form-select",{"is-invalid":c.value.tag_type}]),required:""},[...R[10]||(R[10]=[createStaticVNode('<option value="duration" data-v-f8b0ab96>Duracin</option><option value="quality" data-v-f8b0ab96>Calidad</option><option value="account" data-v-f8b0ab96>Cuenta</option><option value="promotion" data-v-f8b0ab96>Promocin</option><option value="provider" data-v-f8b0ab96>Proveedor</option>',5)])],2),[[vModelSelect,i.value.tag_type]]),c.value.tag_type?(openBlock(),createElementBlock("div",_hoisted_12$e,toDisplayString(c.value.tag_type[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$c,[R[12]||(R[12]=createBaseVNode("label",{class:"form-label fw-semibold",for:"tagColor"},"Color",-1)),withDirectives(createBaseVNode("input",{id:"tagColor","onUpdate:modelValue":R[3]||(R[3]=C=>i.value.color=C),type:"color",class:normalizeClass(["form-control form-control-color",{"is-invalid":c.value.color}])},null,2),[[vModelText,i.value.color]]),c.value.color?(openBlock(),createElementBlock("div",_hoisted_14$c,toDisplayString(c.value.color[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$b,[R[13]||(R[13]=createBaseVNode("label",{class:"form-label fw-semibold",for:"tagDescription"},"Descripcin",-1)),withDirectives(createBaseVNode("textarea",{id:"tagDescription","onUpdate:modelValue":R[4]||(R[4]=C=>i.value.description=C),class:normalizeClass(["form-control",{"is-invalid":c.value.description}]),rows:"3",placeholder:"Uso interno de la etiqueta"},null,2),[[vModelText,i.value.description]]),c.value.description?(openBlock(),createElementBlock("div",_hoisted_16$b,toDisplayString(c.value.description[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_17$a,[R[14]||(R[14]=createBaseVNode("label",{class:"form-label fw-semibold",for:"tagImage"},"Imagen",-1)),createVNode(FileDropzone,{modelValue:u.value,"onUpdate:modelValue":R[5]||(R[5]=C=>u.value=C),accept:"image/*",title:"Arrastra y suelta una imagen",subtitle:"o pega una imagen / elige un archivo","button-label":"Elegir imagen",help:"Si subes una nueva imagen, se reemplaza la anterior."},null,8,["modelValue"])]),g.value?(openBlock(),createElementBlock("div",_hoisted_18$9,[createBaseVNode("div",_hoisted_19$8,[createBaseVNode("img",{src:g.value,alt:"Etiqueta",class:"tag-preview"},null,8,_hoisted_20$7)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_21$6,[R[16]||(R[16]=createBaseVNode("label",{class:"form-label fw-semibold",for:"tagStatus"},"Estado",-1)),withDirectives(createBaseVNode("select",{id:"tagStatus","onUpdate:modelValue":R[6]||(R[6]=C=>i.value.is_active=C),class:normalizeClass(["form-select",{"is-invalid":c.value.is_active}]),required:""},[...R[15]||(R[15]=[createBaseVNode("option",{value:!0},"Activa",-1),createBaseVNode("option",{value:!1},"Inactiva",-1)])],2),[[vModelSelect,i.value.is_active]]),c.value.is_active?(openBlock(),createElementBlock("div",_hoisted_22$6,toDisplayString(c.value.is_active[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:O},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:V},"Guardar")])])])])],512))}},Form$1=_export_sfc(_sfc_main$V,[["__scopeId","data-v-f8b0ab96"]]),_hoisted_1$S={class:"p-3"},_hoisted_2$M={class:"card card-body"},_hoisted_3$K={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$U={__name:"index",setup(e){const t=useTagStore(),s=useAuth(),o=ref(null),a=ref({term:"",tag_type:"",status:""});onMounted(()=>{t.get({with:"files"})});const n=r=>{a.value=r};return(r,l)=>(openBlock(),createElementBlock("section",_hoisted_1$S,[createBaseVNode("div",_hoisted_2$M,[l[2]||(l[2]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Etiquetas"),createBaseVNode("p",{class:"text-muted mb-0"},"Administra las etiquetas del catlogo.")],-1)),createBaseVNode("div",_hoisted_3$K,[createVNode(_sfc_main$X,{class:"mb-0 flex-shrink-0",onSearch:n}),unref(s).can("tags.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:l[0]||(l[0]=i=>o.value?.openCreate())}," Nueva etiqueta ")):createCommentVNode("",!0)]),createVNode(_sfc_main$W,{class:"mt-1",filters:a.value,onEdit:l[1]||(l[1]=i=>o.value?.openEdit(i))},null,8,["filters"])]),createVNode(Form$1,{ref_key:"formRef",ref:o},null,512)]))}},_hoisted_1$R={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$L={class:"search-box"},_hoisted_3$J={class:"input-group"},_hoisted_4$x=["onKeyup"],_sfc_main$T={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=ref(""),n=()=>s("search",{term:o.value.trim(),status:a.value}),r=()=>{o.value="",a.value="",s("search",{term:"",status:""})};return(l,i)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(n,["prevent"])},[createBaseVNode("div",_hoisted_1$R,[createBaseVNode("div",_hoisted_2$L,[createBaseVNode("div",_hoisted_3$J,[withDirectives(createBaseVNode("input",{id:"countrySearch","onUpdate:modelValue":i[0]||(i[0]=d=>o.value=d),type:"text",class:"form-control",placeholder:"Buscar por nombre o cdigo",onKeyup:withKeys(withModifiers(n,["prevent"]),["enter"])},null,40,_hoisted_4$x),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:r},[...i[2]||(i[2]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),i[3]||(i[3]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":i[1]||(i[1]=d=>a.value=d),class:"form-select w-auto",onChange:n},[...i[4]||(i[4]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:"active"},"Activo",-1),createBaseVNode("option",{value:"inactive"},"Inactivo",-1)])],544),[[vModelSelect,a.value]])])],32))}},_hoisted_1$Q={class:"d-flex align-items-center gap-2"},_hoisted_2$K=["disabled","onClick"],_hoisted_3$I=["disabled","onClick"],_hoisted_4$w=["disabled","onClick"],_hoisted_5$v=["disabled","onClick"],_hoisted_6$t={class:"text-center"},_hoisted_7$s={class:"d-inline-flex align-items-center gap-2"},_hoisted_8$r=["onClick"],_hoisted_9$q=["onClick"],_hoisted_10$o=["onClick"],_hoisted_11$k=["onClick"],_hoisted_12$d={key:0},_sfc_main$S={__name:"List",props:{filters:{type:Object,default:()=>({term:"",status:""})},pageSize:{type:Number,default:10}},emits:["edit","exchange-rates","edit-rate"],setup(e,{emit:t}){const s=t,o=e,a=useCountryStore(),{list:n}=storeToRefs(a),r=useAuth(),l=computed(()=>{const u=o.filters.term?.toLowerCase()||"",m=o.filters.status||"";return n.value.filter(f=>!u||[f.name,f.iso2,f.iso3,f.currency_code].some(v=>(v||"").toLowerCase().includes(u))?m?m==="active"?f.is_active:!f.is_active:!0:!1)}),i=[{title:"Nombre",key:"name"},{title:"ISO2",key:"iso2"},{title:"ISO3",key:"iso3"},{title:"Moneda",key:"currency_code"},{title:"Zona horaria",key:"timezone"},{title:"Prefijo",key:"phone_prefix"},{title:"Tipo de cambio",key:"rate_usd_to_local",class:"text-end"},{title:"Estado",key:"is_active"},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],d=async u=>{window.confirm(`Eliminar el pas "${u.name}"?`)&&await a.delete(u)},c=(u,m)=>{if(m==null||m==="")return"";const f=Number(m);return Number.isNaN(f)?"":u+" "+f.toFixed(2)};return(u,m)=>(openBlock(),createBlock(Table,{items:l.value,headers:i,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"country"},{actions:withCtx(({selected:f})=>[createBaseVNode("div",_hoisted_1$Q,[unref(r).can("countries.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-secondary btn-sm",disabled:!f.item,onClick:g=>f.item&&s("edit-rate",f.item)}," Editar tipo de cambio ",8,_hoisted_2$K)):createCommentVNode("",!0),unref(r).can("exchange-rates.view")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-info btn-sm",disabled:!f.item,onClick:g=>f.item&&s("exchange-rates",f.item)}," Tipos de cambios ",8,_hoisted_3$I)):createCommentVNode("",!0),unref(r).can("countries.edit")?(openBlock(),createElementBlock("button",{key:2,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!f.item,onClick:g=>f.item&&s("edit",f.item)}," Editar ",8,_hoisted_4$w)):createCommentVNode("",!0),unref(r).can("countries.delete")?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!f.item,onClick:g=>f.item&&d(f.item)}," Eliminar ",8,_hoisted_5$v)):createCommentVNode("",!0)])]),body:withCtx(({item:f})=>[createBaseVNode("td",null,toDisplayString(f.name),1),createBaseVNode("td",null,toDisplayString(f.iso2),1),createBaseVNode("td",null,toDisplayString(f.iso3),1),createBaseVNode("td",null,toDisplayString(f.currency_code),1),createBaseVNode("td",null,toDisplayString(f.timezone),1),createBaseVNode("td",null,toDisplayString(f.phone_prefix),1),createBaseVNode("td",null,toDisplayString(c(f.currency_symbol,f.rate_usd_to_local)),1),createBaseVNode("td",null,toDisplayString(f.is_active?"Activo":"Inactivo"),1),createBaseVNode("td",_hoisted_6$t,[createBaseVNode("div",_hoisted_7$s,[unref(r).can("countries.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-secondary btn-sm",title:"Editar tipo de cambio","aria-label":"Editar tipo de cambio",onClick:g=>s("edit-rate",f)},[...m[0]||(m[0]=[createBaseVNode("i",{class:"bi bi-currency-exchange"},null,-1)])],8,_hoisted_8$r)):createCommentVNode("",!0),unref(r).can("exchange-rates.view")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-info btn-sm",title:"Tipos de cambios","aria-label":"Tipos de cambios",onClick:g=>s("exchange-rates",f)},[...m[1]||(m[1]=[createBaseVNode("i",{class:"bi bi-list-ul"},null,-1)])],8,_hoisted_9$q)):createCommentVNode("",!0),unref(r).can("countries.edit")?(openBlock(),createElementBlock("button",{key:2,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:g=>s("edit",f)},[...m[2]||(m[2]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_10$o)):createCommentVNode("",!0),unref(r).can("countries.delete")?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:g=>d(f)},[...m[3]||(m[3]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_11$k)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[l.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_12$d,[...m[4]||(m[4]=[createBaseVNode("td",{colspan:"9",class:"text-center text-muted"},"No hay pases registrados",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$P={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$J={class:"modal-content"},_hoisted_3$H={class:"modal-header py-2"},_hoisted_4$v={class:"modal-title",id:"countryModalLabel"},_hoisted_5$u={class:"modal-body p-0"},_hoisted_6$s={class:"row g-3"},_hoisted_7$r={class:"col-md-6"},_hoisted_8$q={key:0,class:"text-danger small mt-1"},_hoisted_9$p={class:"col-md-3"},_hoisted_10$n={key:0,class:"text-danger small mt-1"},_hoisted_11$j={class:"col-md-3"},_hoisted_12$c={key:0,class:"text-danger small mt-1"},_hoisted_13$b={class:"col-md-4"},_hoisted_14$b={key:0,class:"text-danger small mt-1"},_hoisted_15$a={class:"col-md-4"},_hoisted_16$a={key:0,class:"text-danger small mt-1"},_hoisted_17$9={class:"col-md-4"},_hoisted_18$8={key:0,class:"text-danger small mt-1"},_hoisted_19$7={class:"col-md-6"},_hoisted_20$6={key:0,class:"text-danger small mt-1"},_hoisted_21$5={class:"col-md-6"},_hoisted_22$5={key:0,class:"text-danger small mt-1"},_hoisted_23$4={class:"col-md-6"},_hoisted_24$4={key:0,class:"text-danger small mt-1"},_sfc_main$R={__name:"Form",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useCountryStore(),r=useToast(),l=()=>Country.getDefault(),i=ref({...l()}),d=ref("create"),c=ref({}),u=async()=>{c.value={};try{d.value==="edit"?(await n.update(i.value),r.success("Pas actualizado")):(await n.create(i.value),r.success("Pas creado")),g()}catch(v){const _=v?.response?.data;v?.response?.status===422&&_?.errors?c.value=_.errors:r.danger("No se pudo guardar el pas")}},m=()=>{d.value="create",i.value={...l()},c.value={},o?.show()},f=v=>{d.value="edit",i.value={...l(),...v},c.value={},o?.show()},g=()=>{o?.hide()};return t({openCreate:m,openEdit:f,close:g}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const v=document.activeElement;v instanceof HTMLElement&&s.value?.contains(v)&&v.blur()},s.value.addEventListener("hide.bs.modal",a))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(v,_)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"countryModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$P,[createBaseVNode("div",_hoisted_2$J,[createBaseVNode("div",_hoisted_3$H,[createBaseVNode("h5",_hoisted_4$v,toDisplayString(d.value==="edit"?"Editar pas":"Nuevo pas"),1),_[9]||(_[9]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$u,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(u,["prevent"])},[createBaseVNode("div",_hoisted_6$s,[createBaseVNode("div",_hoisted_7$r,[_[10]||(_[10]=createBaseVNode("label",{class:"form-label fw-semibold",for:"countryName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"countryName","onUpdate:modelValue":_[0]||(_[0]=b=>i.value.name=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.name}]),placeholder:"Per",required:""},null,2),[[vModelText,i.value.name]]),c.value.name?(openBlock(),createElementBlock("div",_hoisted_8$q,toDisplayString(c.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$p,[_[11]||(_[11]=createBaseVNode("label",{class:"form-label fw-semibold",for:"countryIso2"},"ISO2",-1)),withDirectives(createBaseVNode("input",{id:"countryIso2","onUpdate:modelValue":_[1]||(_[1]=b=>i.value.iso2=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.iso2}]),placeholder:"PE",maxlength:"2",required:""},null,2),[[vModelText,i.value.iso2]]),c.value.iso2?(openBlock(),createElementBlock("div",_hoisted_10$n,toDisplayString(c.value.iso2[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$j,[_[12]||(_[12]=createBaseVNode("label",{class:"form-label fw-semibold",for:"countryIso3"},"ISO3",-1)),withDirectives(createBaseVNode("input",{id:"countryIso3","onUpdate:modelValue":_[2]||(_[2]=b=>i.value.iso3=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.iso3}]),placeholder:"PER",maxlength:"3",required:""},null,2),[[vModelText,i.value.iso3]]),c.value.iso3?(openBlock(),createElementBlock("div",_hoisted_12$c,toDisplayString(c.value.iso3[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$b,[_[13]||(_[13]=createBaseVNode("label",{class:"form-label fw-semibold",for:"currencyCode"},"Cdigo moneda",-1)),withDirectives(createBaseVNode("input",{id:"currencyCode","onUpdate:modelValue":_[3]||(_[3]=b=>i.value.currency_code=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.currency_code}]),placeholder:"PEN",maxlength:"3",required:""},null,2),[[vModelText,i.value.currency_code]]),c.value.currency_code?(openBlock(),createElementBlock("div",_hoisted_14$b,toDisplayString(c.value.currency_code[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$a,[_[14]||(_[14]=createBaseVNode("label",{class:"form-label fw-semibold",for:"currencyName"},"Nombre moneda",-1)),withDirectives(createBaseVNode("input",{id:"currencyName","onUpdate:modelValue":_[4]||(_[4]=b=>i.value.currency_name=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.currency_name}]),placeholder:"Sol peruano",required:""},null,2),[[vModelText,i.value.currency_name]]),c.value.currency_name?(openBlock(),createElementBlock("div",_hoisted_16$a,toDisplayString(c.value.currency_name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_17$9,[_[15]||(_[15]=createBaseVNode("label",{class:"form-label fw-semibold",for:"currencySymbol"},"Smbolo",-1)),withDirectives(createBaseVNode("input",{id:"currencySymbol","onUpdate:modelValue":_[5]||(_[5]=b=>i.value.currency_symbol=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.currency_symbol}]),placeholder:"S/",required:""},null,2),[[vModelText,i.value.currency_symbol]]),c.value.currency_symbol?(openBlock(),createElementBlock("div",_hoisted_18$8,toDisplayString(c.value.currency_symbol[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_19$7,[_[16]||(_[16]=createBaseVNode("label",{class:"form-label fw-semibold",for:"countryTimezone"},"Zona horaria",-1)),withDirectives(createBaseVNode("input",{id:"countryTimezone","onUpdate:modelValue":_[6]||(_[6]=b=>i.value.timezone=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.timezone}]),placeholder:"America/Lima",required:""},null,2),[[vModelText,i.value.timezone]]),c.value.timezone?(openBlock(),createElementBlock("div",_hoisted_20$6,toDisplayString(c.value.timezone[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_21$5,[_[17]||(_[17]=createBaseVNode("label",{class:"form-label fw-semibold",for:"countryPhonePrefix"},"Prefijo telefnico",-1)),withDirectives(createBaseVNode("input",{id:"countryPhonePrefix","onUpdate:modelValue":_[7]||(_[7]=b=>i.value.phone_prefix=b),type:"text",class:normalizeClass(["form-control",{"is-invalid":c.value.phone_prefix}]),placeholder:"+51",required:""},null,2),[[vModelText,i.value.phone_prefix]]),c.value.phone_prefix?(openBlock(),createElementBlock("div",_hoisted_22$5,toDisplayString(c.value.phone_prefix[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_23$4,[_[19]||(_[19]=createBaseVNode("label",{class:"form-label fw-semibold",for:"countryStatus"},"Estado",-1)),withDirectives(createBaseVNode("select",{id:"countryStatus","onUpdate:modelValue":_[8]||(_[8]=b=>i.value.is_active=b),class:normalizeClass(["form-select",{"is-invalid":c.value.is_active}]),required:""},[..._[18]||(_[18]=[createBaseVNode("option",{value:!0},"Activo",-1),createBaseVNode("option",{value:!1},"Inactivo",-1)])],2),[[vModelSelect,i.value.is_active]]),c.value.is_active?(openBlock(),createElementBlock("div",_hoisted_24$4,toDisplayString(c.value.is_active[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:g},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:u},"Guardar")])])])])],512))}},_hoisted_1$O={class:"modal-dialog modal-md modal-dialog-scrollable"},_hoisted_2$I={class:"modal-content"},_hoisted_3$G={class:"modal-header py-2"},_hoisted_4$u={class:"text-muted"},_hoisted_5$t={class:"modal-body p-0"},_hoisted_6$r={class:"row g-3"},_hoisted_7$q={class:"col-12"},_hoisted_8$p={key:0,class:"text-danger small mt-1"},_sfc_main$Q={__name:"RateForm",emits:["saved"],setup(e,{expose:t,emit:s}){const o=s,a=ref(null);let n=null,r=null;const l=useCountryStore(),i=useToast(),d=()=>Country.getDefault(),c=ref({...d()}),u=ref({}),m=computed(()=>c.value?.name||"Pais"),f=async()=>{u.value={};try{await l.update(c.value),i.success("Tipo de cambio actualizado"),v(),o("saved")}catch(_){const b=_?.response?.data;_?.response?.status===422&&b?.errors?u.value=b.errors:i.danger("No se pudo guardar el tipo de cambio")}},g=_=>{c.value={...d(),..._},u.value={},n?.show()},v=()=>{n?.hide()};return t({openEdit:g,close:v}),onMounted(()=>{a.value&&(n=new Modal(a.value),r=()=>{const _=document.activeElement;_ instanceof HTMLElement&&a.value?.contains(_)&&_.blur()},a.value.addEventListener("hide.bs.modal",r))}),onBeforeUnmount(()=>{n&&(n.hide(),n=null),a.value&&r&&(a.value.removeEventListener("hide.bs.modal",r),r=null)}),(_,b)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:a,class:"modal fade",tabindex:"-1","aria-labelledby":"countryRateModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$O,[createBaseVNode("div",_hoisted_2$I,[createBaseVNode("div",_hoisted_3$G,[createBaseVNode("div",null,[b[1]||(b[1]=createBaseVNode("h5",{class:"modal-title mb-0",id:"countryRateModalLabel"},"Editar tipo de cambio",-1)),createBaseVNode("small",_hoisted_4$u,toDisplayString(m.value),1)]),b[2]||(b[2]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$t,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(f,["prevent"])},[createBaseVNode("div",_hoisted_6$r,[createBaseVNode("div",_hoisted_7$q,[b[3]||(b[3]=createBaseVNode("label",{class:"form-label fw-semibold",for:"countryRateUsd"}," Tasa USD -> moneda local ",-1)),withDirectives(createBaseVNode("input",{id:"countryRateUsd","onUpdate:modelValue":b[0]||(b[0]=S=>c.value.rate_usd_to_local=S),type:"number",min:"0.01",step:"0.01",class:normalizeClass(["form-control",{"is-invalid":u.value.rate_usd_to_local}]),placeholder:"3.75",required:""},null,2),[[vModelText,c.value.rate_usd_to_local,void 0,{number:!0}]]),u.value.rate_usd_to_local?(openBlock(),createElementBlock("div",_hoisted_8$p,toDisplayString(u.value.rate_usd_to_local[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:v},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:f},"Guardar")])])])])],512))}},exchangeRateConfig={alias:"exchange-rates",route:"/api/exchange-rates",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"rate_usd_to_local",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,country_id:null,rate_usd_to_local:0,effective_at:null,source:"",created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},ExchangeRate=new Model(exchangeRateConfig,api),createExchangeRateStore=(e=null,t=null,s=null)=>ExchangeRate.getStore(e,t,s),extraState$9={},extraGetters$9={},extraActions$9={},useExchangeRateStore=defineStore(ExchangeRate.alias,createExchangeRateStore(extraState$9,extraGetters$9,extraActions$9)),_hoisted_1$N={key:0},_sfc_main$P={__name:"List",props:{countryId:{type:Number,default:null},pageSize:{type:Number,default:10}},setup(e){const t=e,s=useExchangeRateStore(),{list:o}=storeToRefs(s),a=i=>{if(!i)return"";const d=String(i);return d.includes("T")?d.split("T")[0]:d.split(" ")[0]},n=i=>{if(i==null||i==="")return"";const d=Number(i);return Number.isNaN(d)?"":d.toFixed(2)},r=computed(()=>{const i=Number(t.countryId);return i?o.value.filter(d=>Number(d.country_id)===i):o.value}),l=[{title:"Tasa USD -> local",key:"rate_usd_to_local",class:"text-end"},{title:"Fecha efectiva",key:"effective_at"},{title:"Fuente",key:"source"}];return(i,d)=>(openBlock(),createBlock(Table,{items:r.value,headers:l,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"exchange-rate","no-action":!0},{body:withCtx(({item:c})=>[createBaseVNode("td",null,toDisplayString(n(c.rate_usd_to_local)),1),createBaseVNode("td",null,toDisplayString(a(c.effective_at)),1),createBaseVNode("td",null,toDisplayString(c.source||""),1)]),footer:withCtx(()=>[r.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_1$N,[...d[0]||(d[0]=[createBaseVNode("td",{colspan:"3",class:"text-center text-muted"},"No hay tipos de cambio registrados",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$M={class:"modal-dialog modal-xl modal-dialog-scrollable"},_hoisted_2$H={class:"modal-content"},_hoisted_3$F={class:"modal-body"},_hoisted_4$t={class:"mb-3"},_hoisted_5$s={class:"bg-primary text-white fw-semibold px-3 py-2 rounded"},_sfc_main$O={__name:"index",setup(e,{expose:t}){const s=useExchangeRateStore(),o=ref(null);let a=null,n=null;const r=ref(null),l=computed(()=>r.value?.name||"Pas"),i=async()=>{r.value?.id&&await s.get({country_id:r.value.id})},d=async u=>{r.value=u,a?.show(),await i()},c=()=>{a?.hide()};return t({open:d,close:c}),onMounted(()=>{o.value&&(a=new Modal(o.value),n=()=>{const u=document.activeElement;u instanceof HTMLElement&&o.value?.contains(u)&&u.blur()},o.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{a&&(a.hide(),a=null),o.value&&n&&(o.value.removeEventListener("hide.bs.modal",n),n=null)}),(u,m)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:o,class:"modal fade",tabindex:"-1","aria-labelledby":"exchangeRatesModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$M,[createBaseVNode("div",_hoisted_2$H,[m[0]||(m[0]=createBaseVNode("div",{class:"modal-header bg-primary text-white"},[createBaseVNode("h5",{class:"modal-title",id:"exchangeRatesModalLabel"},"Historial de tipos de cambio"),createBaseVNode("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),createBaseVNode("div",_hoisted_3$F,[createBaseVNode("div",_hoisted_4$t,[createBaseVNode("div",_hoisted_5$s," PAS: "+toDisplayString(l.value),1)]),createVNode(_sfc_main$P,{"country-id":r.value?.id},null,8,["country-id"])]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:c},"Cerrar")])])])],512))}},_hoisted_1$L={class:"p-3"},_hoisted_2$G={class:"card card-body"},_hoisted_3$E={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$N={__name:"index",setup(e){const t=useCountryStore(),s=useAuth(),o=ref(null),a=ref(null),n=ref(null),r=ref({term:"",status:""});onMounted(()=>{t.get()});const l=u=>{r.value=u},i=u=>{n.value?.open(u)},d=u=>{a.value?.openEdit(u)},c=async()=>{await t.get()};return(u,m)=>(openBlock(),createElementBlock("section",_hoisted_1$L,[createBaseVNode("div",_hoisted_2$G,[m[2]||(m[2]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Pases"),createBaseVNode("p",{class:"text-muted mb-0"},"Administra los pases disponibles para el catlogo.")],-1)),createBaseVNode("div",_hoisted_3$E,[createVNode(_sfc_main$T,{class:"mb-0 flex-shrink-0",onSearch:l}),unref(s).can("countries.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:m[0]||(m[0]=f=>o.value?.openCreate())}," Nuevo pas ")):createCommentVNode("",!0)]),createVNode(_sfc_main$S,{class:"mt-1",filters:r.value,onEdit:m[1]||(m[1]=f=>o.value?.openEdit(f)),onEditRate:d,onExchangeRates:i},null,8,["filters"])]),createVNode(_sfc_main$R,{ref_key:"formRef",ref:o},null,512),createVNode(_sfc_main$Q,{ref_key:"rateFormRef",ref:a,onSaved:c},null,512),createVNode(_sfc_main$O,{ref_key:"exchangeRatesRef",ref:n},null,512)]))}},bannerConfig={alias:"banners",route:"/api/banners",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"description",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,description:"",start_date:"",end_date:"",is_active:!0,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Banner=new Model(bannerConfig,api),createBannerStore=(e=null,t=null,s=null)=>Banner.getStore(e,t,s),extraState$8={},extraGetters$8={},extraActions$8={},useBannerStore=defineStore(Banner.alias,createBannerStore(extraState$8,extraGetters$8,extraActions$8)),_hoisted_1$K={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$M={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref({search:"",status:""}),a=()=>{s("search",{...o.value})};return watch(o,()=>{a()},{deep:!0}),(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$K,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>o.value.search=l),type:"text",class:"form-control search-box",placeholder:"Buscar banner"},null,512),[[vModelText,o.value.search,void 0,{trim:!0}]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[1]||(r[1]=l=>o.value.status=l),class:"form-select"},[...r[2]||(r[2]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:"active"},"Activos",-1),createBaseVNode("option",{value:"inactive"},"Inactivos",-1)])],512),[[vModelSelect,o.value.status]])]))}},_hoisted_1$J={class:"d-flex align-items-center gap-2"},_hoisted_2$F=["disabled","onClick"],_hoisted_3$D={class:"text-center"},_hoisted_4$s={class:"d-inline-flex align-items-center gap-2"},_hoisted_5$r=["onClick"],_hoisted_6$q={key:0},_sfc_main$L={__name:"List",props:{filters:{type:Object,default:()=>({})}},emits:["edit"],setup(e,{emit:t}){const s=e,o=useBannerStore(),{list:a}=storeToRefs(o),n=useAuth(),r=t,l=computed(()=>{const m=String(s.filters?.search||"").toLowerCase().trim(),f=s.filters?.status||"";return(a.value||[]).filter(g=>!(m&&!String(g.description||"").toLowerCase().includes(m)||f==="active"&&!g.is_active||f==="inactive"&&g.is_active))}),i=[{title:"Descripcion",key:"description"},{title:"Inicio",key:"start_date"},{title:"Fin",key:"end_date"},{title:"Estado",key:"is_active"},{title:"Imagen",key:"image",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],d=(m=[])=>{if(!Array.isArray(m)||!m.length)return"";const f=m.find(g=>g.is_active)||m[0];return resolveFileUrl(f)},c=m=>{if(!m)return"";const f=String(m).split("T")[0].split(" ")[0],g=new Date(`${f}T00:00:00`);return Number.isNaN(g.getTime())?"":g.toLocaleDateString("es-PE")},u=m=>m?"badge text-bg-success":"badge text-bg-secondary";return(m,f)=>(openBlock(),createBlock(Table,{items:l.value,headers:i,"default-sort":{key:"id",direction:"desc"},"page-length":10,tag:"banner"},{actions:withCtx(({selected:g})=>[createBaseVNode("div",_hoisted_1$J,[unref(n).can("banners.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!g.item,onClick:v=>g.item&&r("edit",g.item)}," Editar ",8,_hoisted_2$F)):createCommentVNode("",!0)])]),body:withCtx(({item:g})=>[createBaseVNode("td",null,toDisplayString(g.description||""),1),createBaseVNode("td",null,toDisplayString(c(g.start_date)),1),createBaseVNode("td",null,toDisplayString(c(g.end_date)),1),createBaseVNode("td",null,[createBaseVNode("span",{class:normalizeClass(u(g.is_active))},toDisplayString(g.is_active?"Activo":"Inactivo"),3)]),createBaseVNode("td",null,[createVNode(HoverImagePreview,{src:d(g.files),alt:"Banner"},null,8,["src"])]),createBaseVNode("td",_hoisted_3$D,[createBaseVNode("div",_hoisted_4$s,[unref(n).can("banners.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:v=>r("edit",g)},[...f[0]||(f[0]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_5$r)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[l.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_6$q,[...f[1]||(f[1]=[createBaseVNode("td",{colspan:"6",class:"text-center text-muted"},"No hay banners",-1)])]))]),_:1},8,["items"]))}},_hoisted_1$I={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$E={class:"modal-content"},_hoisted_3$C={class:"modal-header py-2"},_hoisted_4$r={class:"modal-title",id:"bannerModalLabel"},_hoisted_5$q={class:"modal-body p-0"},_hoisted_6$p={class:"row g-3"},_hoisted_7$p={class:"col-12"},_hoisted_8$o={key:0,class:"text-danger small mt-1"},_hoisted_9$o={class:"col-md-6"},_hoisted_10$m={key:0,class:"text-danger small mt-1"},_hoisted_11$i={class:"col-md-6"},_hoisted_12$b={key:0,class:"text-danger small mt-1"},_hoisted_13$a={class:"col-md-6"},_hoisted_14$a={key:0,class:"text-danger small mt-1"},_hoisted_15$9={class:"col-12"},_hoisted_16$9={key:0,class:"col-12"},_hoisted_17$8={class:"border rounded p-2 d-inline-block"},_hoisted_18$7=["src"],bannerModelType="App\\Models\\Catalog\\Banner",_sfc_main$K={__name:"Form",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useBannerStore(),r=useToast(),l=ref("create"),i=ref({}),d=ref({...Banner.getDefault()}),c=ref(null),u=ref([]),m=()=>({...Banner.getDefault()}),f=computed(()=>u.value.find(C=>C.is_active)||u.value[0]||null),g=computed(()=>V(f.value)),v=async C=>{if(C)try{const w=await api.get("/api/files",{params:{model_type:bannerModelType,model_id:C}});u.value=Array.isArray(w.data)?w.data:[]}catch{u.value=[]}},_=()=>{c.value=null},b=async C=>{const w=await api.get("/api/files",{params:{model_type:bannerModelType,model_id:C}}),L=Array.isArray(w.data)?w.data:[];L.length&&await Promise.all(L.map(y=>api.put(`/api/files/${y.id}`,{is_active:!1})))},S=async C=>{if(!(!C||!c.value))try{await b(C);const w=new FormData;w.append("file",c.value),w.append("model_type",bannerModelType),w.append("model_id",C),await api.post("/api/files",w,{headers:{"Content-Type":"multipart/form-data"}}),await v(C),await n.get({with:["files"]}),_()}catch{r.danger("No se pudo subir la imagen")}},V=C=>{if(!C)return"";const w=typeof C=="string"?C:C.url,L=(api.defaults.baseURL||"").replace(/\/+$/,""),y=L.endsWith("/api")?L:`${L}/api`;if(C?.id)return L?`${y}/files/${C.id}/download`:`/api/files/${C.id}/download`;if(/^https?:\/\//i.test(w)){if(!L||w.startsWith(L))return w;const N=w.indexOf("/storage/");return N!==-1?`${L}${w.slice(N)}`:w}return L?w.startsWith("/")?`${L}${w}`:`${L}/${w}`:w},k=async()=>{i.value={};try{const C={...d.value,end_date:d.value.end_date||null};let w=null;l.value==="edit"?(w=await n.update(C),r.success("Banner actualizado")):(w=await n.create(C),r.success("Banner creado"));const L=d.value.id||w?.data?.id||w?.id;L&&!d.value.id&&(d.value.id=L),await S(L),R()}catch(C){const w=C?.response?.data;C?.response?.status===422&&w?.errors?i.value=w.errors:r.danger("No se pudo guardar el banner")}},B=()=>{l.value="create",d.value={...m()},i.value={},u.value=[],_(),o?.show()},O=C=>C?String(C).split("T")[0].split(" ")[0]:"",M=async C=>{l.value="edit",d.value={...m(),...C,start_date:O(C.start_date),end_date:O(C.end_date)},i.value={},_(),await v(C.id),o?.show()},R=()=>{o?.hide()};return t({openCreate:B,openEdit:M,close:R}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const C=document.activeElement;C instanceof HTMLElement&&s.value?.contains(C)&&C.blur()},s.value.addEventListener("hide.bs.modal",a))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(C,w)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"bannerModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$I,[createBaseVNode("div",_hoisted_2$E,[createBaseVNode("div",_hoisted_3$C,[createBaseVNode("h5",_hoisted_4$r,toDisplayString(l.value==="edit"?"Editar banner":"Nuevo banner"),1),w[5]||(w[5]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$q,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(k,["prevent"])},[createBaseVNode("div",_hoisted_6$p,[createBaseVNode("div",_hoisted_7$p,[w[6]||(w[6]=createBaseVNode("label",{class:"form-label fw-semibold",for:"bannerDescription"},"Descripcion",-1)),withDirectives(createBaseVNode("textarea",{id:"bannerDescription","onUpdate:modelValue":w[0]||(w[0]=L=>d.value.description=L),class:normalizeClass(["form-control",{"is-invalid":i.value.description}]),rows:"3",placeholder:"Texto del banner"},null,2),[[vModelText,d.value.description]]),i.value.description?(openBlock(),createElementBlock("div",_hoisted_8$o,toDisplayString(i.value.description[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$o,[w[7]||(w[7]=createBaseVNode("label",{class:"form-label fw-semibold",for:"bannerStart"},"Fecha inicio",-1)),withDirectives(createBaseVNode("input",{id:"bannerStart","onUpdate:modelValue":w[1]||(w[1]=L=>d.value.start_date=L),type:"date",class:normalizeClass(["form-control",{"is-invalid":i.value.start_date}]),required:""},null,2),[[vModelText,d.value.start_date]]),i.value.start_date?(openBlock(),createElementBlock("div",_hoisted_10$m,toDisplayString(i.value.start_date[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$i,[w[8]||(w[8]=createBaseVNode("label",{class:"form-label fw-semibold",for:"bannerEnd"},"Fecha fin",-1)),withDirectives(createBaseVNode("input",{id:"bannerEnd","onUpdate:modelValue":w[2]||(w[2]=L=>d.value.end_date=L),type:"date",class:normalizeClass(["form-control",{"is-invalid":i.value.end_date}])},null,2),[[vModelText,d.value.end_date]]),i.value.end_date?(openBlock(),createElementBlock("div",_hoisted_12$b,toDisplayString(i.value.end_date[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$a,[w[10]||(w[10]=createBaseVNode("label",{class:"form-label fw-semibold",for:"bannerStatus"},"Estado",-1)),withDirectives(createBaseVNode("select",{id:"bannerStatus","onUpdate:modelValue":w[3]||(w[3]=L=>d.value.is_active=L),class:normalizeClass(["form-select",{"is-invalid":i.value.is_active}]),required:""},[...w[9]||(w[9]=[createBaseVNode("option",{value:!0},"Activo",-1),createBaseVNode("option",{value:!1},"Inactivo",-1)])],2),[[vModelSelect,d.value.is_active]]),i.value.is_active?(openBlock(),createElementBlock("div",_hoisted_14$a,toDisplayString(i.value.is_active[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$9,[w[11]||(w[11]=createBaseVNode("label",{class:"form-label fw-semibold",for:"bannerImage"},"Imagen",-1)),createVNode(FileDropzone,{modelValue:c.value,"onUpdate:modelValue":w[4]||(w[4]=L=>c.value=L),accept:"image/*",title:"Arrastra y suelta una imagen",subtitle:"o pega una imagen / elige un archivo","button-label":"Elegir imagen",help:"Si subes una nueva imagen, se reemplaza la anterior."},null,8,["modelValue"])]),g.value?(openBlock(),createElementBlock("div",_hoisted_16$9,[createBaseVNode("div",_hoisted_17$8,[createBaseVNode("img",{src:g.value,alt:"Banner",class:"banner-preview"},null,8,_hoisted_18$7)])])):createCommentVNode("",!0)])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:R},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:k},"Guardar")])])])])],512))}},Form=_export_sfc(_sfc_main$K,[["__scopeId","data-v-90f9f330"]]),_hoisted_1$H={class:"p-3"},_hoisted_2$D={class:"card card-body"},_hoisted_3$B={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$J={__name:"index",setup(e){const t=useBannerStore(),s=useAuth(),o=ref(null),a=ref({search:"",status:""}),n=r=>{a.value=r};return onMounted(()=>{t.get({with:["files"]})}),(r,l)=>(openBlock(),createElementBlock("section",_hoisted_1$H,[createBaseVNode("div",_hoisted_2$D,[l[2]||(l[2]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Banners"),createBaseVNode("p",{class:"text-muted mb-0"},"Administra los banners publicitarios del home.")],-1)),createBaseVNode("div",_hoisted_3$B,[createVNode(_sfc_main$M,{class:"mb-0 flex-shrink-0",onSearch:n}),unref(s).can("banners.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:l[0]||(l[0]=i=>o.value?.openCreate())}," Nuevo banner ")):createCommentVNode("",!0)]),createVNode(_sfc_main$L,{class:"mt-1",filters:a.value,onEdit:l[1]||(l[1]=i=>o.value?.openEdit(i))},null,8,["filters"])]),createVNode(Form,{ref_key:"formRef",ref:o},null,512)]))}},catalogRoutes=[{path:"/categories",name:"categories.index",meta:{requiresAuth:!0,permissions:["categories.view"]},component:_sfc_main$Y},{path:"/tags",name:"tags.index",meta:{requiresAuth:!0,permissions:["tags.view"]},component:_sfc_main$U},{path:"/countries",name:"countries.index",meta:{requiresAuth:!0,permissions:["countries.view"]},component:_sfc_main$N},{path:"/banners",name:"banners.index",meta:{requiresAuth:!0,permissions:["banners.view"]},component:_sfc_main$J}],_hoisted_1$G={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$C={class:"search-box"},_hoisted_3$A={class:"input-group"},_hoisted_4$q=["onKeyup"],_hoisted_5$p=["onKeyup"],_sfc_main$I={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=ref(""),n=ref(""),r=ref(""),l=ref(""),i=()=>s("search",{term:o.value.trim(),wallet_type:a.value,entry_type:n.value,origin:r.value,user_id:l.value}),d=()=>{o.value="",a.value="",n.value="",r.value="",l.value="",s("search",{term:"",wallet_type:"",entry_type:"",origin:"",user_id:""})};return(c,u)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(i,["prevent"])},[createBaseVNode("div",_hoisted_1$G,[createBaseVNode("div",_hoisted_2$C,[createBaseVNode("div",_hoisted_3$A,[withDirectives(createBaseVNode("input",{id:"transactionSearch","onUpdate:modelValue":u[0]||(u[0]=m=>o.value=m),type:"text",class:"form-control",placeholder:"Buscar por origen o ID",onKeyup:withKeys(withModifiers(i,["prevent"]),["enter"])},null,40,_hoisted_4$q),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:d},[...u[5]||(u[5]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),u[6]||(u[6]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":u[1]||(u[1]=m=>a.value=m),class:"form-select w-auto",onChange:i},[...u[7]||(u[7]=[createStaticVNode('<option value="">Wallet</option><option value="user_balance">Saldo usuario</option><option value="validator_cash">Caja validador</option><option value="admin_cash">Caja admin</option><option value="admin_commission">Comision admin</option>',5)])],544),[[vModelSelect,a.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":u[2]||(u[2]=m=>n.value=m),class:"form-select w-auto",onChange:i},[...u[8]||(u[8]=[createBaseVNode("option",{value:""},"Tipo",-1),createBaseVNode("option",{value:"credit"},"Credito",-1),createBaseVNode("option",{value:"debit"},"Debito",-1)])],544),[[vModelSelect,n.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":u[3]||(u[3]=m=>r.value=m),class:"form-select w-auto",onChange:i},[...u[9]||(u[9]=[createStaticVNode('<option value="">Origen</option><option value="order">Orden</option><option value="recharge">Recarga</option><option value="rendition">Rendicion</option><option value="withdrawal">Retiro</option>',5)])],544),[[vModelSelect,r.value]]),withDirectives(createBaseVNode("input",{id:"transactionUserId","onUpdate:modelValue":u[4]||(u[4]=m=>l.value=m),type:"number",min:"1",class:"form-control w-auto",placeholder:"Usuario",onKeyup:withKeys(withModifiers(i,["prevent"]),["enter"])},null,40,_hoisted_5$p),[[vModelText,l.value]])])],32))}},transactionConfig={alias:"transactions",route:"/api/transactions",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"id",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,transaction_group_id:null,user_id:null,wallet_type:null,entry_type:null,origin:null,origin_id:null,action:null,amount_usd:0,balance_after:0,created_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Transaction=new Model(transactionConfig,api),createTransactionStore=(e=null,t=null,s=null)=>Transaction.getStore(e,t,s),extraState$7={},extraGetters$7={},extraActions$7={},useTransactionStore=defineStore(Transaction.alias,createTransactionStore(extraState$7,extraGetters$7,extraActions$7)),resolveUserTimezone=(e,t,s="America/Lima")=>{const o=e?.country_id;return!o||!t?.find?s:t.find(o)?.timezone||""||s},formatDateTime=(e,t="America/Lima")=>{if(!e)return"";const s=new Date(e);if(Number.isNaN(s.getTime()))return"";const o={dateStyle:"short",timeStyle:"short",timeZone:t};try{return new Intl.DateTimeFormat("es-PE",{...o,timeZoneName:"shortOffset"}).format(s)}catch{}let a;try{a=new Intl.DateTimeFormat("es-PE",o)}catch{a=new Intl.DateTimeFormat("es-PE",{dateStyle:"short",timeStyle:"short"})}const n=a.format(s),r=t?resolveOffsetText(s,t):"";return r?`${n} ${r}`:n},resolveOffsetText=(e,t)=>{const s=resolveOffsetMinutes(e,t);if(!Number.isFinite(s))return"";const o=s<0?"-":"+",a=Math.abs(s),n=Math.floor(a/60),r=a%60,l=String(n).padStart(2,"0");return r?`GMT${o}${l}:${String(r).padStart(2,"0")}`:`GMT${o}${l}`},resolveOffsetMinutes=(e,t)=>{try{const o=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(e),a={};for(const r of o)r.type!=="literal"&&(a[r.type]=r.value);return(Date.UTC(Number(a.year),Number(a.month)-1,Number(a.day),Number(a.hour),Number(a.minute),Number(a.second))-e.getTime())/6e4}catch{return null}},_hoisted_1$F={class:"text-end"},_hoisted_2$B={class:"text-end"},_hoisted_3$z={key:0},currencyLabel="USD",_sfc_main$H={__name:"List",props:{filters:{type:Object,default:()=>({term:"",wallet_type:"",entry_type:"",origin:"",user_id:""})},pageSize:{type:Number,default:10}},setup(e){const t=e,s=useTransactionStore(),o=useUserStore(),a=useAuth(),n=useCountryStore(),r=computed(()=>s.list),l=computed(()=>resolveUserTimezone(a.user,n)),i={user_balance:"Saldo usuario",validator_cash:"Caja validador",admin_cash:"Caja admin",admin_commission:"Comision admin"},d={credit:"Credito",debit:"Debito"},c={order:"Orden",recharge:"Recarga",rendition:"Rendicion",withdrawal:"Retiro"},u=_=>{const b=Number(_||0).toFixed(2);return`${currencyLabel} ${b}`},m=computed(()=>{const _=t.filters.term?.toLowerCase()||"",b=t.filters.wallet_type||"",S=t.filters.entry_type||"",V=t.filters.origin||"",k=t.filters.user_id||"";return r.value.filter(B=>b&&B.wallet_type!==b||S&&B.entry_type!==S||V&&B.origin!==V||k&&String(B.user_id||"")!==String(k)?!1:_?[B.origin,B.origin_id,B.action,B.user_id].map(M=>String(M||"").toLowerCase()).some(M=>M.includes(_)):!0)}),f=_=>o.name(_.user_id)||_.user_id||"",g=_=>formatDateTime(_,l.value),v=[{title:"Fecha",key:"created_at"},{title:"Usuario",key:"user_id"},{title:"Wallet",key:"wallet_type"},{title:"Tipo",key:"entry_type"},{title:"Origen",key:"origin"},{title:"Origen ID",key:"origin_id"},{title:"Accion",key:"action"},{title:"Monto",key:"amount_usd",class:"text-end"},{title:"Saldo",key:"balance_after",class:"text-end"}];return(_,b)=>(openBlock(),createBlock(Table,{items:m.value,headers:v,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"transaction","no-action":""},{body:withCtx(({item:S})=>[createBaseVNode("td",null,toDisplayString(g(S.created_at)),1),createBaseVNode("td",null,toDisplayString(f(S)),1),createBaseVNode("td",null,toDisplayString(i[S.wallet_type]||S.wallet_type||""),1),createBaseVNode("td",null,toDisplayString(d[S.entry_type]||S.entry_type||""),1),createBaseVNode("td",null,toDisplayString(c[S.origin]||S.origin||""),1),createBaseVNode("td",null,toDisplayString(S.origin_id??""),1),createBaseVNode("td",null,toDisplayString(S.action||""),1),createBaseVNode("td",_hoisted_1$F,toDisplayString(u(S.amount_usd)),1),createBaseVNode("td",_hoisted_2$B,toDisplayString(u(S.balance_after)),1)]),footer:withCtx(()=>[m.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_3$z,[...b[0]||(b[0]=[createBaseVNode("td",{colspan:"9",class:"text-center text-muted"},"No hay transacciones registradas",-1)])]))]),_:1},8,["items","page-length"]))}},paymentMethodConfig={alias:"payment-methods",route:"/api/payment-methods",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"name",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,validator_id:null,country_id:null,name:"",type:"",identifier:"",sort_order:1,status:"active",created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},PaymentMethod=new Model(paymentMethodConfig,api),createPaymentMethodStore=(e=null,t=null,s=null)=>PaymentMethod.getStore(e,t,s),extraState$6={},extraGetters$6={},extraActions$6={},usePaymentMethodStore=defineStore(PaymentMethod.alias,createPaymentMethodStore(extraState$6,extraGetters$6,extraActions$6)),rechargeConfig={alias:"recharges",route:"/api/recharges",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"id",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,requester_id:null,payment_method_id:null,amount_usd:0,amount_local:0,exchange_rate_used:0,status:"pending",payer_name:null,payment_time:null,receipt_ref:null,rejection_reason:null,idempotency_key:null,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Recharge=new Model(rechargeConfig,api),createRechargeStore=(e=null,t=null,s=null)=>Recharge.getStore(e,t,s),extraState$5={},extraGetters$5={},extraActions$5={},useRechargeStore=defineStore(Recharge.alias,createRechargeStore(extraState$5,extraGetters$5,extraActions$5)),_hoisted_1$E={class:"modal-dialog modal-xl modal-dialog-scrollable"},_hoisted_2$A={class:"modal-content"},_hoisted_3$y={class:"modal-header align-items-start"},_hoisted_4$p={class:"modal-title",id:"rechargeModalLabel"},_hoisted_5$o={class:"modal-body"},_hoisted_6$o={class:"row g-4"},_hoisted_7$o={class:"col-md-5"},_hoisted_8$n={key:0},_hoisted_9$n={class:"mb-3"},_hoisted_10$l={key:0,class:"row flex-nowrap g-2 overflow-auto pb-1"},_hoisted_11$h=["onClick"],_hoisted_12$a={class:"fw-semibold small"},_hoisted_13$9={key:1,class:"text-muted small"},_hoisted_14$9={class:"border rounded p-3 bg-light"},_hoisted_15$8={class:"d-flex justify-content-between align-items-center mb-3"},_hoisted_16$8={class:"badge text-bg-light"},_hoisted_17$7={class:"bg-white border rounded overflow-hidden"},_hoisted_18$6=["src"],_hoisted_19$6={key:1,class:"d-flex align-items-center justify-content-center text-muted small py-4"},_hoisted_20$5=["href"],_hoisted_21$4={key:1,class:"mt-3 d-flex align-items-center gap-2 text-primary small"},_hoisted_22$4={key:1},_hoisted_23$3={class:"border rounded p-3 bg-light mb-3"},_hoisted_24$3={class:"d-flex justify-content-between align-items-center mb-3"},_hoisted_25$2={class:"badge text-bg-light"},_hoisted_26$2={class:"fw-semibold"},_hoisted_27$2={key:0,class:"small text-muted"},_hoisted_28$2={class:"mt-3"},_hoisted_29$2={class:"fw-semibold"},_hoisted_30$2={class:"mt-2"},_hoisted_31$2={class:"fw-semibold"},_hoisted_32$2={class:"border rounded p-3 bg-light"},_hoisted_33$2={class:"d-flex justify-content-between align-items-center mb-3"},_hoisted_34$1={class:"badge text-bg-light"},_hoisted_35$1={class:"bg-white border rounded overflow-hidden"},_hoisted_36$1=["src"],_hoisted_37$1={key:1,class:"d-flex align-items-center justify-content-center text-muted small py-4"},_hoisted_38$1=["href"],_hoisted_39$1={key:1,class:"mt-3 d-flex align-items-center gap-2 text-primary small"},_hoisted_40$1={class:"col-md-7"},_hoisted_41$1={class:"fw-semibold mb-1"},_hoisted_42$1={class:"text-muted mb-3"},_hoisted_43$1={class:"mb-3"},_hoisted_44$1={class:"input-group input-group-lg"},_hoisted_45$1={class:"input-group-text"},_hoisted_46$1={class:"alert alert-success d-flex justify-content-between align-items-center"},_hoisted_47$1={class:"small text-muted"},_hoisted_48$1={class:"fs-5 fw-semibold"},_hoisted_49$1={class:"d-flex flex-wrap gap-2 mb-3"},_hoisted_50=["onClick"],_hoisted_51={class:"mb-3"},_hoisted_52={class:"mb-3"},_hoisted_53={class:"mb-3"},_hoisted_54={key:1,class:"mb-3"},_hoisted_55={class:"border rounded-3 p-2"},_hoisted_56={key:0,class:"ratio ratio-4x3 bg-light rounded-2 overflow-hidden"},_hoisted_57=["src"],_hoisted_58={key:1,class:"small text-muted"},_hoisted_59={class:"d-flex align-items-center justify-content-between mt-2"},_hoisted_60={class:"small text-truncate"},_hoisted_61=["href"],_hoisted_62={key:2,class:"text-muted small mb-3"},_hoisted_63={class:"modal-footer d-flex justify-content-end align-items-center"},_hoisted_64={class:"d-flex gap-2"},rechargeModelType="App\\Models\\Recharge",_sfc_main$G={__name:"RechargeModal",emits:["created"],setup(e,{expose:t,emit:s}){const o=ref(null);let a=null,n=null;const r=s,l=useAuth(),i=useCountryStore(),d=usePaymentMethodStore(),c=useRechargeStore(),u=useFileStore(),m=useToast(),f=ref(20),g=[10,20,50,100],v=ref(null),_=ref(null),b=ref(""),S=ref(""),V=ref(null),k=ref([]),B=computed(()=>l.user?.country_id||null),O=computed(()=>{const K=Number(B.value||0);if(!K)return null;const T=i.find(K);return T?.id?T:null}),M=computed(()=>O.value?.currency_code||"USD"),R=computed(()=>O.value?.currency_symbol||""),C=computed(()=>Number(O.value?.rate_usd_to_local||0)),w=computed(()=>{const K=Number(f.value||0),T=C.value;return!K||!T?0:Number((K/T).toFixed(2))}),L=computed(()=>!!_.value?.id),y=computed(()=>`USD ${w.value.toFixed(2)}`),N=computed(()=>(Array.isArray(d.list)?[...d.list]:[]).sort((T,x)=>{const j=Number(T?.sort_order??0),X=Number(x?.sort_order??0);return j!==X?j-X:Number(T?.id??0)-Number(x?.id??0)})),E=computed(()=>{const K=Number(v.value||0);return K&&N.value.find(T=>Number(T.id)===K)||null}),$=computed(()=>E.value?.name||""),H=computed(()=>E.value?.identifier||""),U=computed(()=>{const K=Array.isArray(E.value?.files)?E.value.files:[];return K.find(T=>T.is_active)||K[0]||null}),P=computed(()=>I(U.value)),Z=computed(()=>L.value?"Agregar evidencia":"Recargar saldo"),ce=computed(()=>L.value?"Guardar evidencia":"Solicitar recarga"),ue=computed(()=>L.value?"Evidencia de pago":"Reportar pago"),G=computed(()=>L.value?"Agrega los datos de la transferencia para validar la recarga.":"Ingresa los datos de tu transferencia para validarla."),ee=computed(()=>!C.value||!M.value?"Tipo de cambio no disponible":`Tipo de cambio: 1 USD = ${C.value.toFixed(2)} ${M.value}`),Q=computed(()=>{const K=k.value||[];return K.find(T=>T.is_active)||K[0]||null}),ae=computed(()=>I(Q.value)),oe=computed(()=>(Q.value?.mime_type||"").startsWith("image/")),D=async(K="active")=>{if(!B.value){v.value=null;return}try{await d.get({country_id:B.value,status:K,with:"files"})}catch{}if(!N.value.length){v.value=null;return}N.value.some(x=>Number(x.id)===Number(v.value))||(v.value=N.value[0]?.id||null)},z=K=>K?String(K).slice(0,5):"",J=()=>{_.value=null,f.value=20,v.value=null,b.value="",S.value="",V.value=null,k.value=[]},se=K=>{_.value=K,f.value=Number(K?.amount_local||0),v.value=K?.payment_method_id||null,b.value=K?.payer_name||"",S.value=z(K?.payment_time),V.value=null,k.value=[]},de=async(K=null)=>{if(K?.id?(se(K),A(K.id)):J(),B.value&&!O.value)try{await i.show(B.value)}catch{}await D(L.value?"":"active"),a?.show()},A=async K=>{if(!K){k.value=[];return}try{await u.get({model_type:rechargeModelType,model_id:K}),k.value=u.list||[]}catch{k.value=[]}},I=K=>{if(!K)return"";const T=typeof K=="string"?K:K.url;return resolveFileUrl({id:K?.id||null,url:T})},F=async()=>{if(L.value&&_.value?.id){const T={payer_name:b.value||null,payment_time:S.value||null};if(!T.payer_name&&!T.payment_time&&!V.value){m.warning("Ingresa el nombre, la hora o adjunta el comprobante");return}try{if(V.value){await u.get({model_type:rechargeModelType,model_id:_.value.id});const x=u.list||[];await Promise.all(x.map(X=>u.update({id:X.id,is_active:!1})));const j=new FormData;j.append("file",V.value),j.append("model_type",rechargeModelType),j.append("model_id",_.value.id),await u.create(j),T.receipt_ref=V.value.name}await c.update({id:_.value.id,...T}),m.success("Evidencia actualizada"),W()}catch(x){const j=x?.response?.data;x?.response?.status===422&&j?.errors,m.danger("No se pudo guardar la evidencia")}return}if(!v.value){m.warning("Selecciona un mtodo de pago antes de continuar");return}if(!C.value){m.warning("No hay tipo de cambio disponible");return}const K={payment_method_id:v.value,amount_local:Number(f.value||0),amount_usd:Number(w.value||0),exchange_rate_used:Number(C.value||0),payer_name:b.value||null,payment_time:S.value||null};if(!K.amount_local||!K.amount_usd){m.warning("Ingresa un monto vlido");return}try{const T=await c.create(K),x=T?.data?.data?.id??T?.data?.id??T?.id;if(V.value&&x){const j=new FormData;j.append("file",V.value),j.append("model_type",rechargeModelType),j.append("model_id",x),await u.create(j),await c.update({id:x,receipt_ref:V.value.name})}m.success("Recarga creada"),W(),r("created",x)}catch(T){const x=T?.response?.data;T?.response?.status===422&&x?.errors,m.danger("No se pudo guardar la recarga")}},W=()=>{a?.hide()},Y=K=>{f.value=K},q=K=>{v.value=K?.id||null},te=K=>{const T=R.value||"",x=M.value||"",j=Number(K||0).toFixed(2);return`${T}${j}${x?" "+x:""}`};return t({open:de,close:W}),onMounted(()=>{o.value&&(a=new Modal(o.value),n=()=>{const K=document.activeElement;K instanceof HTMLElement&&o.value?.contains(K)&&K.blur()},o.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{a&&(a.hide(),a=null),o.value&&n&&(o.value.removeEventListener("hide.bs.modal",n),n=null)}),(K,T)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:o,class:"modal fade",tabindex:"-1","aria-labelledby":"rechargeModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$E,[createBaseVNode("div",_hoisted_2$A,[createBaseVNode("div",_hoisted_3$y,[createBaseVNode("div",null,[createBaseVNode("h5",_hoisted_4$p,toDisplayString(Z.value),1),T[4]||(T[4]=createBaseVNode("p",{class:"text-muted mb-0"},"Elige tu mtodo de pago preferido.",-1))]),T[5]||(T[5]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$o,[createBaseVNode("form",{onSubmit:withModifiers(F,["prevent"])},[createBaseVNode("div",_hoisted_6$o,[createBaseVNode("div",_hoisted_7$o,[L.value?(openBlock(),createElementBlock("div",_hoisted_22$4,[createBaseVNode("div",_hoisted_23$3,[createBaseVNode("div",_hoisted_24$3,[T[12]||(T[12]=createBaseVNode("span",{class:"text-uppercase small text-muted fw-semibold"},"Resumen de recarga",-1)),createBaseVNode("span",_hoisted_25$2,toDisplayString($.value||"-"),1)]),T[15]||(T[15]=createBaseVNode("div",{class:"small text-muted"},"Mtodo",-1)),createBaseVNode("div",_hoisted_26$2,toDisplayString($.value||"-"),1),H.value?(openBlock(),createElementBlock("div",_hoisted_27$2," Identificador: "+toDisplayString(H.value),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_28$2,[T[13]||(T[13]=createBaseVNode("div",{class:"small text-muted"},"Monto local",-1)),createBaseVNode("div",_hoisted_29$2,toDisplayString(Number(_.value?.amount_local||0).toFixed(2))+" "+toDisplayString(M.value),1)]),createBaseVNode("div",_hoisted_30$2,[T[14]||(T[14]=createBaseVNode("div",{class:"small text-muted"},"Monto USD",-1)),createBaseVNode("div",_hoisted_31$2," USD "+toDisplayString(Number(_.value?.amount_usd||0).toFixed(2)),1)])]),createBaseVNode("div",_hoisted_32$2,[createBaseVNode("div",_hoisted_33$2,[T[16]||(T[16]=createBaseVNode("span",{class:"text-uppercase small text-muted fw-semibold"},"Datos de envo",-1)),createBaseVNode("span",_hoisted_34$1,toDisplayString($.value||"-"),1)]),createBaseVNode("div",_hoisted_35$1,[P.value?(openBlock(),createElementBlock("img",{key:0,src:P.value,alt:"Imagen del mtodo",class:"img-fluid w-100"},null,8,_hoisted_36$1)):(openBlock(),createElementBlock("div",_hoisted_37$1," Sin imagen "))]),P.value?(openBlock(),createElementBlock("a",{key:0,href:P.value,class:"btn btn-outline-secondary btn-sm w-100 mt-2",download:""}," Descargar imagen ",8,_hoisted_38$1)):createCommentVNode("",!0),H.value?(openBlock(),createElementBlock("div",_hoisted_39$1,[T[17]||(T[17]=createBaseVNode("i",{class:"bi bi-clipboard"},null,-1)),createBaseVNode("span",null,"Copiar nmero: "+toDisplayString(H.value),1)])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_8$n,[createBaseVNode("div",_hoisted_9$n,[T[8]||(T[8]=createBaseVNode("h6",{class:"fw-semibold mb-1"},"Mtodo de pago",-1)),T[9]||(T[9]=createBaseVNode("p",{class:"text-muted mb-3"},"Selecciona la opcin disponible.",-1)),N.value.length?(openBlock(),createElementBlock("div",_hoisted_10$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(N.value,x=>(openBlock(),createElementBlock("div",{key:x.id,class:"col-6 col-md-4 col-lg-3 flex-shrink-0"},[createBaseVNode("button",{type:"button",class:"btn p-0 w-100 text-start border-0 bg-transparent",onClick:j=>q(x)},[createBaseVNode("div",{class:normalizeClass(["border rounded p-2 text-center",Number(v.value)===Number(x.id)?"border-primary bg-light":""])},[T[6]||(T[6]=createBaseVNode("div",{class:"d-inline-flex align-items-center justify-content-center rounded-circle bg-light border p-2 mb-1"},[createBaseVNode("i",{class:"bi bi-phone fs-5 text-primary"})],-1)),createBaseVNode("div",_hoisted_12$a,toDisplayString(x.name),1),T[7]||(T[7]=createBaseVNode("div",{class:"small text-muted"}," ",-1))],2)],8,_hoisted_11$h)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_13$9," No hay mtodos de pago disponibles para este pas. "))]),createBaseVNode("div",_hoisted_14$9,[createBaseVNode("div",_hoisted_15$8,[T[10]||(T[10]=createBaseVNode("span",{class:"text-uppercase small text-muted fw-semibold"},"Datos de envo",-1)),createBaseVNode("span",_hoisted_16$8,toDisplayString($.value||"-"),1)]),createBaseVNode("div",_hoisted_17$7,[P.value?(openBlock(),createElementBlock("img",{key:0,src:P.value,alt:"Imagen del mtodo",class:"img-fluid w-100"},null,8,_hoisted_18$6)):(openBlock(),createElementBlock("div",_hoisted_19$6," Sin imagen "))]),P.value?(openBlock(),createElementBlock("a",{key:0,href:P.value,class:"btn btn-outline-secondary btn-sm w-100 mt-2",download:""}," Descargar imagen ",8,_hoisted_20$5)):createCommentVNode("",!0),H.value?(openBlock(),createElementBlock("div",_hoisted_21$4,[T[11]||(T[11]=createBaseVNode("i",{class:"bi bi-clipboard"},null,-1)),createBaseVNode("span",null,"Copiar nmero: "+toDisplayString(H.value),1)])):createCommentVNode("",!0)])]))]),createBaseVNode("div",_hoisted_40$1,[createBaseVNode("h6",_hoisted_41$1,toDisplayString(ue.value),1),createBaseVNode("p",_hoisted_42$1,toDisplayString(G.value),1),L.value?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_43$1,[T[18]||(T[18]=createBaseVNode("label",{class:"form-label text-uppercase small text-muted"},"Monto en moneda local",-1)),createBaseVNode("div",_hoisted_44$1,[createBaseVNode("span",_hoisted_45$1,toDisplayString(M.value),1),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":T[0]||(T[0]=x=>f.value=x),type:"number",min:"1",step:"0.01",class:"form-control",placeholder:"20.00"},null,512),[[vModelText,f.value,void 0,{number:!0}]])])]),createBaseVNode("div",_hoisted_46$1,[createBaseVNode("div",null,[T[19]||(T[19]=createBaseVNode("div",{class:"fw-semibold"},"Equivalente en USD",-1)),createBaseVNode("div",_hoisted_47$1,toDisplayString(ee.value),1)]),createBaseVNode("div",_hoisted_48$1,toDisplayString(y.value),1)]),createBaseVNode("div",_hoisted_49$1,[(openBlock(),createElementBlock(Fragment,null,renderList(g,x=>createBaseVNode("button",{key:x,type:"button",class:"btn btn-outline-secondary btn-sm",onClick:j=>Y(x)},toDisplayString(te(x)),9,_hoisted_50)),64))])],64)),T[25]||(T[25]=createBaseVNode("div",{class:"alert alert-warning small"},[createBaseVNode("i",{class:"bi bi-info-circle me-2"}),createTextVNode(" Si pagaste desde la cuenta de un familiar o amigo, es obligatorio que pongas su nombre abajo. ")],-1)),createBaseVNode("div",_hoisted_51,[T[20]||(T[20]=createBaseVNode("label",{class:"form-label fw-semibold"},"Nombre del titular (origen)",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":T[1]||(T[1]=x=>b.value=x),type:"text",class:"form-control",placeholder:"Ej. Juan Prez"},null,512),[[vModelText,b.value,void 0,{trim:!0}]])]),createBaseVNode("div",_hoisted_52,[T[21]||(T[21]=createBaseVNode("label",{class:"form-label fw-semibold"},"Hora exacta del pago",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":T[2]||(T[2]=x=>S.value=x),type:"time",class:"form-control"},null,512),[[vModelText,S.value]])]),createBaseVNode("div",_hoisted_53,[T[22]||(T[22]=createBaseVNode("label",{class:"form-label fw-semibold"},"Comprobante de pago (opcional)",-1)),createVNode(FileDropzone,{modelValue:V.value,"onUpdate:modelValue":T[3]||(T[3]=x=>V.value=x),accept:"image/*",title:"Arrastra y suelta una imagen",subtitle:"o pega una imagen / elige un archivo","button-label":"Elegir archivo",help:"Sube un solo archivo como evidencia."},null,8,["modelValue"])]),Q.value?(openBlock(),createElementBlock("div",_hoisted_54,[T[24]||(T[24]=createBaseVNode("label",{class:"form-label fw-semibold"},"Evidencia registrada",-1)),createBaseVNode("div",_hoisted_55,[oe.value?(openBlock(),createElementBlock("div",_hoisted_56,[ae.value?(openBlock(),createElementBlock("img",{key:0,src:ae.value,class:"w-100 h-100 object-fit-cover",alt:"Evidencia"},null,8,_hoisted_57)):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_58,[...T[23]||(T[23]=[createBaseVNode("i",{class:"bi bi-file-earmark me-1"},null,-1),createTextVNode(" Archivo adjunto ",-1)])])),createBaseVNode("div",_hoisted_59,[createBaseVNode("span",_hoisted_60,toDisplayString(Q.value.name),1),ae.value?(openBlock(),createElementBlock("a",{key:0,href:ae.value,class:"btn btn-outline-primary btn-sm",target:"_blank",rel:"noreferrer"}," Ver ",8,_hoisted_61)):createCommentVNode("",!0)])])])):L.value?(openBlock(),createElementBlock("div",_hoisted_62," No hay evidencia registrada. ")):createCommentVNode("",!0),T[26]||(T[26]=createBaseVNode("div",{class:"small text-muted text-center mt-2"},[createBaseVNode("i",{class:"bi bi-clock me-1"}),createTextVNode(" Validacin promedio: 5-10 minutos ")],-1))])])],32)]),createBaseVNode("div",_hoisted_63,[createBaseVNode("div",_hoisted_64,[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:W},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:F},toDisplayString(ce.value),1)])])])])],512))}},_hoisted_1$D={class:"p-3"},_hoisted_2$z={class:"card card-body"},_hoisted_3$x={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$F={__name:"index",setup(e){const t=ref({term:"",wallet_type:"",entry_type:"",origin:"",user_id:""}),s=useRouter(),o=useAuth(),a=useTransactionStore(),n=useUserStore(),r=ref(null),l=u=>{t.value=u},i=()=>{r.value?.open()},d=()=>{s.push({name:"wallets.my-recharges"})},c=async()=>{if(!o.can("users.index"))return;const u=Array.from(new Set(a.list.map(m=>m.user_id).filter(m=>m!=null)));u.length&&await n.get({ids:u.join(",")})};return watch(()=>o.user?.id,u=>{u&&a.get()},{immediate:!0}),watch([()=>a.list,()=>o.user],()=>{c()},{deep:!0}),(u,m)=>(openBlock(),createElementBlock("section",_hoisted_1$D,[createBaseVNode("div",_hoisted_2$z,[m[0]||(m[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Transacciones"),createBaseVNode("p",{class:"text-muted mb-0"},"Consulta los movimientos registrados en el ledger.")],-1)),createBaseVNode("div",_hoisted_3$x,[createVNode(_sfc_main$I,{class:"mb-0 flex-shrink-0",onSearch:l}),unref(o).can("recharges.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:i}," Recargar ")):createCommentVNode("",!0)]),createVNode(_sfc_main$H,{class:"mt-1",filters:t.value},null,8,["filters"])]),createVNode(_sfc_main$G,{ref_key:"rechargeModalRef",ref:r,onCreated:d},null,512)]))}},_hoisted_1$C={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$E={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=()=>s("search",{status:o.value});return(n,r)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(a,["prevent"])},[createBaseVNode("div",_hoisted_1$C,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[0]||(r[0]=l=>o.value=l),class:"form-select w-auto",onChange:a},[...r[1]||(r[1]=[createStaticVNode('<option value="">Estado</option><option value="pending">Pendiente</option><option value="validated">Validada</option><option value="rejected">Rechazada</option><option value="expired">Expirada</option>',5)])],544),[[vModelSelect,o.value]])])],32))}},_hoisted_1$B={class:"d-flex align-items-center gap-2"},_hoisted_2$y=["disabled","onClick"],_hoisted_3$w={class:"text-end"},_hoisted_4$o={class:"text-end"},_hoisted_5$n={class:"text-end"},_hoisted_6$n={class:"text-center"},_hoisted_7$n={class:"d-inline-flex align-items-center gap-2"},_hoisted_8$m=["onClick"],_hoisted_9$m={key:0},_sfc_main$D={__name:"List",props:{filters:{type:Object,default:()=>({status:""})},pageSize:{type:Number,default:10}},emits:["evidence"],setup(e,{emit:t}){const s=t,o=e,a=useRechargeStore(),n=usePaymentMethodStore(),r=useAuth(),l=useCountryStore(),i=computed(()=>a.list),d=computed(()=>{const O=Number(r.user?.country_id||0);if(!O)return"";const M=l.find(O);return M?.currency_symbol||M?.currency_code||""}),c=computed(()=>resolveUserTimezone(r.user,l)),u={pending:"Pendiente",validated:"Validada",rejected:"Rechazada",expired:"Expirada"},m={pending:"badge text-bg-warning",validated:"badge text-bg-success",rejected:"badge text-bg-danger",expired:"badge text-bg-secondary"},f=O=>O?.payment_method_id&&(n.list.find(R=>Number(R.id)===Number(O.payment_method_id))?.name||O.payment_method_id)||"-",g=(O=[])=>{if(!Array.isArray(O)||!O.length)return"";const M=O.find(R=>R.is_active)||O[0];return resolveFileUrl(M)},v=O=>s("evidence",O),_=computed(()=>{const O=o.filters.status||"";return i.value.filter(M=>O?M.status===O:!0)}),b=O=>formatDateTime(O,c.value),S=O=>`USD ${Number(O||0).toFixed(2)}`,V=O=>{const M=Number(O||0).toFixed(2);return d.value?`${d.value} ${M}`:M},k=O=>{const M=Number(O||0).toFixed(2);return d.value?`USD 1 = ${d.value} ${M}`:`USD 1 = ${M}`},B=[{title:"Fecha",key:"created_at"},{title:"Metodo",key:"payment_method_id",sortKey:O=>f(O)},{title:"Monto USD",key:"amount_usd",class:"text-end"},{title:"Monto local",key:"amount_local",class:"text-end"},{title:"Tipo de cambio",key:"exchange_rate_used",class:"text-end"},{title:"Estado",key:"status"},{title:"Imagen",key:"image",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}];return(O,M)=>(openBlock(),createBlock(Table,{items:_.value,headers:B,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"recharge"},{actions:withCtx(({selected:R})=>[createBaseVNode("div",_hoisted_1$B,[unref(r).can("recharges.edit")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!R.item||R.item.status!=="pending",onClick:C=>R.item&&v(R.item)}," Agregar evidencia ",8,_hoisted_2$y)):createCommentVNode("",!0)])]),body:withCtx(({item:R})=>[createBaseVNode("td",null,toDisplayString(b(R.created_at)),1),createBaseVNode("td",null,toDisplayString(f(R)),1),createBaseVNode("td",_hoisted_3$w,toDisplayString(S(R.amount_usd)),1),createBaseVNode("td",_hoisted_4$o,toDisplayString(V(R.amount_local)),1),createBaseVNode("td",_hoisted_5$n,toDisplayString(k(R.exchange_rate_used)),1),createBaseVNode("td",null,[createBaseVNode("span",{class:normalizeClass(m[R.status]||"badge text-bg-secondary")},toDisplayString(u[R.status]||R.status||""),3)]),createBaseVNode("td",null,[createVNode(HoverImagePreview,{src:g(R.files),alt:"Evidencia"},null,8,["src"])]),createBaseVNode("td",_hoisted_6$n,[createBaseVNode("div",_hoisted_7$n,[unref(r).can("recharges.edit")&&R.status=="pending"?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",title:"Agregar evidencia","aria-label":"Agregar evidencia",onClick:C=>v(R)},[...M[0]||(M[0]=[createBaseVNode("i",{class:"bi bi-paperclip"},null,-1)])],8,_hoisted_8$m)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[_.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_9$m,[...M[1]||(M[1]=[createBaseVNode("td",{colspan:"8",class:"text-center text-muted"},"No hay recargas registradas",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$A={class:"p-3"},_hoisted_2$x={class:"card card-body"},_hoisted_3$v={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$C={__name:"index",setup(e){const t=ref({status:""}),s=useAuth(),o=useRechargeStore(),a=usePaymentMethodStore(),n=ref(null),r=d=>{t.value=d},l=()=>{n.value?.open()},i=d=>{n.value?.open(d)};return watch(()=>s.user?.id,d=>{d&&o.get({requester_id:d,with:"files"})},{immediate:!0}),watch(()=>s.user?.country_id,d=>{d&&a.get({country_id:d,status:"active",with:"files"})},{immediate:!0}),(d,c)=>(openBlock(),createElementBlock("section",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$x,[c[0]||(c[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Mis recargas"),createBaseVNode("p",{class:"text-muted mb-0"},"Consulta tus recargas registradas en la plataforma.")],-1)),createBaseVNode("div",_hoisted_3$v,[createVNode(_sfc_main$E,{class:"mb-0 flex-shrink-0",onSearch:r}),unref(s).can("recharges.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:l}," Recargar ")):createCommentVNode("",!0)]),createVNode(_sfc_main$D,{class:"mt-1",filters:t.value,onEvidence:i},null,8,["filters"])]),createVNode(_sfc_main$G,{ref_key:"rechargeModalRef",ref:n},null,512)]))}},_hoisted_1$z={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$B={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=()=>s("search",{status:o.value});return(n,r)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(a,["prevent"])},[createBaseVNode("div",_hoisted_1$z,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[0]||(r[0]=l=>o.value=l),class:"form-select w-auto",onChange:a},[...r[1]||(r[1]=[createStaticVNode('<option value="">Estado</option><option value="pending">Pendiente</option><option value="validated">Validada</option><option value="rejected">Rechazada</option><option value="expired">Expirada</option>',5)])],544),[[vModelSelect,o.value]])])],32))}},orderConfig={alias:"orders",route:"/api/orders",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"id",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,buyer_id:null,provider_id:null,status:"pending",total_usd:0,commission_usd:0,idempotency_key:null,details:[],created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Order=new Model(orderConfig,api),createOrderStore=(e=null,t=null,s=null)=>Order.getStore(e,t,s),extraState$4={},extraGetters$4={},extraActions$4={},useOrderStore=defineStore(Order.alias,createOrderStore(extraState$4,extraGetters$4,extraActions$4)),_hoisted_1$y={class:"text-end"},_hoisted_2$w={class:"text-end"},_hoisted_3$u={key:0},_sfc_main$A={__name:"List",props:{filters:{type:Object,default:()=>({status:""})},pageSize:{type:Number,default:10}},setup(e){const t=e,s=useOrderStore(),o=useAuth(),a=useCountryStore(),n=computed(()=>s.list),r=computed(()=>resolveUserTimezone(o.user,a)),l={pending:"Pendiente",validated:"Validada",rejected:"Rechazada",expired:"Expirada"},i=computed(()=>{const u=t.filters.status||"";return n.value.filter(m=>u?m.status===u:!0)}),d=u=>formatDateTime(u,r.value),c=[{title:"Fecha",key:"created_at"},{title:"Orden",key:"id"},{title:"Proveedor",key:"provider_id"},{title:"Total USD",key:"total_usd",class:"text-end"},{title:"Comision",key:"commission_usd",class:"text-end"},{title:"Estado",key:"status"}];return(u,m)=>(openBlock(),createBlock(Table,{items:i.value,headers:c,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"order","no-action":""},{body:withCtx(({item:f})=>[createBaseVNode("td",null,toDisplayString(d(f.created_at)),1),createBaseVNode("td",null,toDisplayString(f.id||""),1),createBaseVNode("td",null,toDisplayString(f.provider_id||""),1),createBaseVNode("td",_hoisted_1$y,toDisplayString(Number(f.total_usd||0).toFixed(2)),1),createBaseVNode("td",_hoisted_2$w,toDisplayString(Number(f.commission_usd||0).toFixed(2)),1),createBaseVNode("td",null,toDisplayString(l[f.status]||f.status||""),1)]),footer:withCtx(()=>[i.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_3$u,[...m[0]||(m[0]=[createBaseVNode("td",{colspan:"6",class:"text-center text-muted"},"No hay compras registradas",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$x={class:"p-3"},_hoisted_2$v={class:"card card-body"},_hoisted_3$t={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$z={__name:"index",setup(e){const t=ref({status:""}),s=useOrderStore(),o=useAuth(),a=n=>{t.value=n};return watch(()=>o.user?.id,n=>{n&&s.get({buyer_id:n})},{immediate:!0}),(n,r)=>(openBlock(),createElementBlock("section",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$v,[r[0]||(r[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Mis compras"),createBaseVNode("p",{class:"text-muted mb-0"},"Consulta las compras realizadas en la plataforma.")],-1)),createBaseVNode("div",_hoisted_3$t,[createVNode(_sfc_main$B,{class:"mb-0 flex-shrink-0",onSearch:a})]),createVNode(_sfc_main$A,{class:"mt-1",filters:t.value},null,8,["filters"])])]))}},_hoisted_1$w={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$u=["value"],_sfc_main$y={__name:"Filter",props:{validators:{type:Array,default:()=>[]},showValidatorSelect:{type:Boolean,default:!1},currentValidatorId:{type:[Number,String],default:null}},emits:["search"],setup(e,{emit:t}){const s=e,o=t,a=ref(s.currentValidatorId||""),n=ref(""),r=()=>o("search",{validator_id:a.value||null,status:n.value||""});return watch(()=>s.currentValidatorId,l=>{a.value=l||""}),(l,i)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(r,["prevent"])},[createBaseVNode("div",_hoisted_1$w,[s.showValidatorSelect?withDirectives((openBlock(),createElementBlock("select",{key:0,"onUpdate:modelValue":i[0]||(i[0]=d=>a.value=d),class:"form-select w-auto",onChange:r},[i[2]||(i[2]=createBaseVNode("option",{value:""},"Validador",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.validators,d=>(openBlock(),createElementBlock("option",{key:d.id,value:d.id},toDisplayString(d.label),9,_hoisted_2$u))),128))],544)),[[vModelSelect,a.value]]):createCommentVNode("",!0),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":i[1]||(i[1]=d=>n.value=d),class:"form-select w-auto",onChange:r},[...i[3]||(i[3]=[createStaticVNode('<option value="">Estado</option><option value="pending">Pendiente</option><option value="confirmed">Confirmada</option><option value="rejected">Rechazada</option><option value="observed">Observada</option>',5)])],544),[[vModelSelect,n.value]])])],32))}},renditionConfig={alias:"renditions",route:"/api/renditions",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"id",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,validator_id:null,admin_id:null,amount_usd:0,status:"pending",transfer_reference:null,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Rendition=new Model(renditionConfig,api),createRenditionStore=(e=null,t=null,s=null)=>Rendition.getStore(e,t,s),extraState$3={},extraGetters$3={},extraActions$3={},useRenditionStore=defineStore(Rendition.alias,createRenditionStore(extraState$3,extraGetters$3,extraActions$3)),_hoisted_1$v={class:"d-flex align-items-center gap-2"},_hoisted_2$t=["disabled","onClick"],_hoisted_3$s=["disabled","onClick"],_hoisted_4$n={key:0},_hoisted_5$m={class:"text-end"},_hoisted_6$m={class:"text-center"},_hoisted_7$m={class:"d-inline-flex align-items-center gap-2"},_hoisted_8$l=["disabled","onClick"],_hoisted_9$l=["disabled","onClick"],_hoisted_10$k={key:0},_hoisted_11$g=["colspan"],_sfc_main$x={__name:"List",props:{filters:{type:Object,default:()=>({status:""})},pageSize:{type:Number,default:10}},emits:["evidence"],setup(e,{emit:t}){const s=t,o=e,a=useRenditionStore(),n=useAuth(),r=useUserStore(),l=useCountryStore(),i=computed(()=>resolveUserTimezone(n.user,l)),d=computed(()=>a.list),c=computed(()=>Array.isArray(n.user?.roles)&&n.user.roles.some(O=>O.name==="admin")),u=computed(()=>n.can("renditions.edit")&&!c.value),m=computed(()=>c.value&&n.can("renditions.edit")&&n.can("can.validate")),f={pending:"Pendiente",confirmed:"Confirmada",rejected:"Rechazada",observed:"Observada"},g=O=>s("evidence",O),v=computed(()=>{const O=o.filters.status||"",M=o.filters.validator_id;return d.value.filter(R=>!(O&&R.status!==O||M&&Number(R.validator_id)!==Number(M)))}),_=computed(()=>Array.from(new Set(v.value.map(O=>O.validator_id).filter(Boolean)))),b=computed(()=>r.filteredByIds(_.value)),S=O=>{const M=b.value.find(R=>Number(R.id)===Number(O.validator_id));return M?.name||M?.email||O.validator_id||"-"},V=async O=>{!O?.id||!window.confirm("Validar esta rendicin?")||await a.update({id:O.id,status:"confirmed"})},k=O=>formatDateTime(O,i.value),B=computed(()=>{const O=[{title:"Fecha",key:"created_at"}];return c.value&&O.push({title:"Validador",key:"validator_id"}),O.push({title:"Monto USD",key:"amount_usd",class:"text-end"},{title:"Comprobante",key:"transfer_reference"},{title:"Estado",key:"status"},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}),O});return(O,M)=>(openBlock(),createBlock(Table,{items:v.value,headers:B.value,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"rendition"},{actions:withCtx(({selected:R})=>[createBaseVNode("div",_hoisted_1$v,[u.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!R.item||R.item.status!=="pending",onClick:C=>R.item&&g(R.item)}," Agregar evidencia ",8,_hoisted_2$t)):createCommentVNode("",!0),m.value?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-success btn-sm",disabled:!R.item||R.item.status!=="pending",onClick:C=>R.item&&V(R.item)}," Validar ",8,_hoisted_3$s)):createCommentVNode("",!0)])]),body:withCtx(({item:R})=>[createBaseVNode("td",null,toDisplayString(k(R.created_at)),1),c.value?(openBlock(),createElementBlock("td",_hoisted_4$n,toDisplayString(S(R)),1)):createCommentVNode("",!0),createBaseVNode("td",_hoisted_5$m,toDisplayString(Number(R.amount_usd||0).toFixed(2)),1),createBaseVNode("td",null,toDisplayString(R.transfer_reference||"-"),1),createBaseVNode("td",null,toDisplayString(f[R.status]||R.status||"-"),1),createBaseVNode("td",_hoisted_6$m,[createBaseVNode("div",_hoisted_7$m,[u.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-primary btn-sm",disabled:R.status!=="pending",title:"Agregar evidencia","aria-label":"Agregar evidencia",onClick:C=>g(R)},[...M[0]||(M[0]=[createBaseVNode("i",{class:"bi bi-paperclip"},null,-1)])],8,_hoisted_8$l)):createCommentVNode("",!0),m.value?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-success btn-sm",disabled:R.status!=="pending",title:"Validar","aria-label":"Validar",onClick:C=>V(R)},[...M[1]||(M[1]=[createBaseVNode("i",{class:"bi bi-check-circle"},null,-1)])],8,_hoisted_9$l)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[v.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_10$k,[createBaseVNode("td",{colspan:c.value?6:5,class:"text-center text-muted"}," No hay rendiciones registradas ",8,_hoisted_11$g)]))]),_:1},8,["items","headers","page-length"]))}},_hoisted_1$u={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$s={class:"modal-content"},_hoisted_3$r={class:"modal-header"},_hoisted_4$m={class:"modal-title",id:"renditionModalLabel"},_hoisted_5$l={class:"modal-body"},_hoisted_6$l={class:"row g-4"},_hoisted_7$l={class:"col-md-5"},_hoisted_8$k={class:"border rounded p-3 bg-light"},_hoisted_9$k={class:"d-flex justify-content-between align-items-center mb-3"},_hoisted_10$j={class:"badge text-bg-light"},_hoisted_11$f={class:"fw-semibold"},_hoisted_12$9={key:0,class:"mt-3"},_hoisted_13$8={class:"fw-semibold"},_hoisted_14$8={class:"col-md-7"},_hoisted_15$7={class:"fw-semibold mb-1"},_hoisted_16$7={class:"text-muted mb-3"},_hoisted_17$6={class:"mb-3"},_hoisted_18$5={class:"modal-footer d-flex justify-content-end align-items-center"},_hoisted_19$5={class:"d-flex gap-2"},renditionModelType="App\\Models\\Rendition",_sfc_main$w={__name:"RenditionModal",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useAuth(),r=useRenditionStore(),l=useToast(),i=useFileStore(),d=ref(null),c=ref(null),u={pending:"Pendiente",confirmed:"Confirmada",rejected:"Rechazada",observed:"Observada"},m=computed(()=>!!d.value?.id),f=computed(()=>Number(n.user?.balances?.validator_cash||0)),g=computed(()=>m.value?Number(d.value?.amount_usd||0):f.value),v=computed(()=>{const C=d.value?.status;return u[C]||C||"Pendiente"}),_=computed(()=>m.value?"Agregar evidencia":"Rendir saldo"),b=computed(()=>m.value?"Guardar evidencia":"Crear rendicin"),S=computed(()=>m.value?"Evidencia de pago":"Crear rendicin"),V=computed(()=>m.value?"Adjunta el comprobante para completar la rendicin.":"El monto se tomar del saldo disponible del validador."),k=()=>{d.value=null,c.value=null},B=C=>{d.value=C,c.value=null},O=(C=null)=>{C?.id?B(C):k(),o?.show()},M=()=>{o?.hide()},R=async()=>{if(m.value&&d.value?.id){if(!c.value){l.warning("Selecciona un comprobante de pago");return}try{await i.get({model_type:renditionModelType,model_id:d.value.id});const w=i.list||[];await Promise.all(w.map(y=>i.update({id:y.id,is_active:!1})));const L=new FormData;L.append("file",c.value),L.append("model_type",renditionModelType),L.append("model_id",d.value.id),await i.create(L),await r.update({id:d.value.id,transfer_reference:c.value.name}),l.success("Evidencia actualizada"),M()}catch(w){const L=w?.response?.data;w?.response?.status===422&&L?.errors,l.danger("No se pudo guardar la evidencia")}return}if(!f.value){l.warning("No hay saldo disponible para rendir");return}const C={amount_usd:Number(f.value||0)};try{const w=await r.create(C),L=w?.data?.data?.id??w?.data?.id??w?.id;if(c.value&&L){const y=new FormData;y.append("file",c.value),y.append("model_type",renditionModelType),y.append("model_id",L),await i.create(y),await r.update({id:L,transfer_reference:c.value.name})}l.success("Rendicin creada"),M()}catch(w){const L=w?.response?.data;w?.response?.status===422&&L?.errors,l.danger("No se pudo crear la rendicin")}};return t({open:O,close:M}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const C=document.activeElement;C instanceof HTMLElement&&s.value?.contains(C)&&C.blur()},s.value.addEventListener("hide.bs.modal",a))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(C,w)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"renditionModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$u,[createBaseVNode("div",_hoisted_2$s,[createBaseVNode("div",_hoisted_3$r,[createBaseVNode("div",null,[createBaseVNode("h5",_hoisted_4$m,toDisplayString(_.value),1),w[1]||(w[1]=createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona la rendicin de saldo del validador.",-1))]),w[2]||(w[2]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$l,[createBaseVNode("form",{onSubmit:withModifiers(R,["prevent"])},[createBaseVNode("div",_hoisted_6$l,[createBaseVNode("div",_hoisted_7$l,[createBaseVNode("div",_hoisted_8$k,[createBaseVNode("div",_hoisted_9$k,[w[3]||(w[3]=createBaseVNode("span",{class:"text-uppercase small text-muted fw-semibold"},"Resumen de rendicin",-1)),createBaseVNode("span",_hoisted_10$j,toDisplayString(v.value),1)]),w[5]||(w[5]=createBaseVNode("div",{class:"small text-muted"},"Monto USD",-1)),createBaseVNode("div",_hoisted_11$f,"USD "+toDisplayString(g.value.toFixed(2)),1),m.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$9,[w[4]||(w[4]=createBaseVNode("div",{class:"small text-muted"},"Saldo disponible",-1)),createBaseVNode("div",_hoisted_13$8,"USD "+toDisplayString(f.value.toFixed(2)),1)]))])]),createBaseVNode("div",_hoisted_14$8,[createBaseVNode("h6",_hoisted_15$7,toDisplayString(S.value),1),createBaseVNode("p",_hoisted_16$7,toDisplayString(V.value),1),createBaseVNode("div",_hoisted_17$6,[w[6]||(w[6]=createBaseVNode("label",{class:"form-label fw-semibold"},"Comprobante de pago",-1)),createVNode(FileDropzone,{modelValue:c.value,"onUpdate:modelValue":w[0]||(w[0]=L=>c.value=L),accept:"image/*",title:"Arrastra y suelta una imagen",subtitle:"o pega una imagen / elige un archivo","button-label":"Elegir imagen"},null,8,["modelValue"])]),w[7]||(w[7]=createBaseVNode("div",{class:"small text-muted text-center mt-2"},[createBaseVNode("i",{class:"bi bi-clock me-1"}),createTextVNode(" Validacin promedio: 5-10 minutos ")],-1))])])],32)]),createBaseVNode("div",_hoisted_18$5,[createBaseVNode("div",_hoisted_19$5,[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:M},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:R},toDisplayString(b.value),1)])])])])],512))}},_hoisted_1$t={class:"p-3"},_hoisted_2$r={class:"card card-body"},_hoisted_3$q={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$v={__name:"index",setup(e){const t=useAuth(),s=useRenditionStore(),o=useUserStore(),a=ref({status:"",validator_id:null}),n=ref(null),r=computed(()=>Array.isArray(t.user?.roles)&&t.user.roles.some(f=>f.name==="admin")),l=computed(()=>o.list.filter(f=>f.roles?.some(g=>g.name==="validator")).map(f=>({id:f.id,label:f.name||f.email||`Validador ${f.id}`}))),i=async()=>{!r.value||!t.can("users.index")||await o.get({with:"roles"})},d=async()=>{if(!t.can("users.index"))return;const f=Array.from(new Set(s.list.map(g=>g.validator_id).filter(g=>g!=null)));f.length&&await o.get({ids:f.join(",")})},c=f=>{a.value={...a.value,...f}},u=()=>{n.value?.open()},m=f=>{n.value?.open(f)};return onMounted(()=>{s.get()}),watch(()=>r.value,()=>{i()},{immediate:!0}),watch([()=>s.list,()=>r.value,()=>t.user],()=>{r.value||d()},{deep:!0}),(f,g)=>(openBlock(),createElementBlock("section",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$r,[g[0]||(g[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Rendiciones"),createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona las rendiciones de saldo del validador.")],-1)),createBaseVNode("div",_hoisted_3$q,[createVNode(_sfc_main$y,{class:"mb-0 flex-shrink-0",validators:l.value,"show-validator-select":r.value,"current-validator-id":a.value.validator_id,onSearch:c},null,8,["validators","show-validator-select","current-validator-id"]),unref(t).can("renditions.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:u}," Rendir saldo ")):createCommentVNode("",!0)]),createVNode(_sfc_main$x,{class:"mt-1",filters:a.value,onEvidence:m},null,8,["filters"])]),createVNode(_sfc_main$w,{ref_key:"renditionModalRef",ref:n},null,512)]))}},walletRoutes=[{path:"/wallets/transactions",name:"wallets.transactions",meta:{requiresAuth:!0,permissions:["wallets.view"]},component:_sfc_main$F},{path:"/wallets/my-recharges",name:"wallets.my-recharges",meta:{requiresAuth:!0,permissions:["recharges.view"]},component:_sfc_main$C},{path:"/wallets/my-orders",name:"wallets.my-orders",meta:{requiresAuth:!0,permissions:["orders.view"]},component:_sfc_main$z},{path:"/wallets/renditions",name:"wallets.renditions",meta:{requiresAuth:!0,permissions:["renditions.view"]},component:_sfc_main$v}],_hoisted_1$s={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$u={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=()=>s("search",{status:o.value||""});return(n,r)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(a,["prevent"])},[createBaseVNode("div",_hoisted_1$s,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[0]||(r[0]=l=>o.value=l),class:"form-select w-auto",onChange:a},[...r[1]||(r[1]=[createStaticVNode('<option value="">Estado</option><option value="pending">Pendiente</option><option value="validated">Validada</option><option value="rejected">Rechazada</option><option value="expired">Expirada</option>',5)])],544),[[vModelSelect,o.value]])])],32))}},_hoisted_1$r={class:"d-flex align-items-center gap-2"},_hoisted_2$q=["onClick"],_hoisted_3$p=["onClick"],_hoisted_4$l={class:"text-end"},_hoisted_5$k={class:"text-end"},_hoisted_6$k={class:"text-end"},_hoisted_7$k={class:"text-center"},_hoisted_8$j={class:"d-inline-flex align-items-center gap-2"},_hoisted_9$j=["onClick"],_hoisted_10$i=["onClick"],_hoisted_11$e={key:0},_sfc_main$t={__name:"List",props:{filters:{type:Object,default:()=>({status:""})},pageSize:{type:Number,default:10}},emits:["reject"],setup(e,{emit:t}){const s=t,o=e,a=useRechargeStore(),n=usePaymentMethodStore(),r=useAuth(),l=useUserStore(),i=useCountryStore(),d=computed(()=>a.list),c=computed(()=>{const w=Number(r.user?.country_id||0);if(!w)return"";const L=i.find(w);return L?.currency_symbol||L?.currency_code||""}),u=computed(()=>r.can("recharges.edit")&&r.can("can.validate")),m=computed(()=>resolveUserTimezone(r.user,i)),f={pending:"Pendiente",validated:"Validada",rejected:"Rechazada",expired:"Expirada"},g={pending:"badge text-bg-warning",validated:"badge text-bg-success",rejected:"badge text-bg-danger",expired:"badge text-bg-secondary"},v=w=>w?l.name(w.requester_id)||(w.requester_id?`#${w.requester_id}`:"-"):"-",_=w=>w?.payment_method_id&&(n.list.find(y=>Number(y.id)===Number(w.payment_method_id))?.name||w.payment_method_id)||"-",b=(w=[])=>{if(!Array.isArray(w)||!w.length)return"";const L=w.find(y=>y.is_active)||w[0];return resolveFileUrl(L)},S=computed(()=>{const w=o.filters.status||"";return d.value.filter(L=>w?L.status===w:!0)}),V=w=>formatDateTime(w,m.value),k=w=>`USD ${Number(w||0).toFixed(2)}`,B=w=>{const L=Number(w||0).toFixed(2);return c.value?`${c.value} ${L}`:L},O=w=>{const L=Number(w||0).toFixed(2);return c.value?`USD 1 = ${c.value} ${L}`:`USD 1 = ${L}`},M=[{title:"Fecha",key:"created_at"},{title:"Cliente",key:"requester_id",sortKey:w=>v(w)},{title:"Metodo",key:"payment_method_id",sortKey:w=>_(w)},{title:"Monto USD",key:"amount_usd",class:"text-end"},{title:"Monto local",key:"amount_local",class:"text-end"},{title:"Tipo de cambio",key:"exchange_rate_used",class:"text-end"},{title:"Estado",key:"status"},{title:"Imagen",key:"image",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],R=async w=>{!w?.id||!window.confirm("Validar esta recarga?")||(await a.update({id:w.id,status:"validated"}),await r.fetchUser())},C=w=>{w?.id&&s("reject",w)};return(w,L)=>(openBlock(),createBlock(Table,{items:S.value,headers:M,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"recharge-validation"},{actions:withCtx(({selected:y})=>[createBaseVNode("div",_hoisted_1$r,[u.value&&y.item&&y.item.status==="pending"?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-success btn-sm",onClick:N=>y.item&&R(y.item)}," Validar ",8,_hoisted_2$q)):createCommentVNode("",!0),u.value&&y.item&&y.item.status==="pending"?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",onClick:N=>y.item&&C(y.item)}," Rechazar ",8,_hoisted_3$p)):createCommentVNode("",!0)])]),body:withCtx(({item:y})=>[createBaseVNode("td",null,toDisplayString(V(y.created_at)),1),createBaseVNode("td",null,toDisplayString(v(y)),1),createBaseVNode("td",null,toDisplayString(_(y)),1),createBaseVNode("td",_hoisted_4$l,toDisplayString(k(y.amount_usd)),1),createBaseVNode("td",_hoisted_5$k,toDisplayString(B(y.amount_local)),1),createBaseVNode("td",_hoisted_6$k,toDisplayString(O(y.exchange_rate_used)),1),createBaseVNode("td",null,[createBaseVNode("span",{class:normalizeClass(g[y.status]||"badge text-bg-secondary")},toDisplayString(f[y.status]||y.status||"-"),3)]),createBaseVNode("td",null,[createVNode(HoverImagePreview,{src:b(y.files),alt:"Evidencia"},null,8,["src"])]),createBaseVNode("td",_hoisted_7$k,[createBaseVNode("div",_hoisted_8$j,[u.value&&y.status==="pending"?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-success btn-sm",title:"Validar","aria-label":"Validar",onClick:N=>R(y)},[...L[0]||(L[0]=[createBaseVNode("i",{class:"bi bi-check-circle"},null,-1)])],8,_hoisted_9$j)):createCommentVNode("",!0),u.value&&y.status==="pending"?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",title:"Rechazar","aria-label":"Rechazar",onClick:N=>C(y)},[...L[1]||(L[1]=[createBaseVNode("i",{class:"bi bi-x-circle"},null,-1)])],8,_hoisted_10$i)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[S.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_11$e,[...L[2]||(L[2]=[createBaseVNode("td",{colspan:"9",class:"text-center text-muted"},"No hay recargas registradas",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$q={class:"modal-dialog modal-md modal-dialog-scrollable"},_hoisted_2$p={class:"modal-content"},_hoisted_3$o={class:"modal-body"},_hoisted_4$k={class:"row g-3"},_hoisted_5$j={class:"col-12"},_hoisted_6$j={class:"text-muted"},_hoisted_7$j={class:"col-12"},_hoisted_8$i={class:"text-muted"},_hoisted_9$i={class:"col-12"},_hoisted_10$h={key:0,class:"text-danger small mt-1"},_sfc_main$s={__name:"RejectModal",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useRechargeStore(),r=usePaymentMethodStore(),l=useUserStore(),i=useToast(),d=ref({id:null,rejection_reason:""}),c=ref(null),u=ref({}),m=computed(()=>{const b=c.value?.requester_id;return l.name(b)||(b?`#${b}`:"-")}),f=computed(()=>{const b=c.value?.payment_method_id;return b&&(r.list.find(V=>Number(V.id)===Number(b))?.name||b)||"-"}),g=b=>{c.value=b||null,d.value={id:b?.id??null,rejection_reason:""},u.value={},o?.show()},v=()=>{o?.hide()},_=async()=>{u.value={};const b=d.value.id,S=String(d.value.rejection_reason||"").trim();if(b){if(!S){u.value={rejection_reason:["Ingresa el motivo del rechazo."]};return}try{await n.update({id:b,status:"rejected",rejection_reason:S}),i.success("Recarga rechazada"),v()}catch(V){const k=V?.response?.data;V?.response?.status===422&&k?.errors?u.value=k.errors:i.danger("No se pudo rechazar la recarga")}}};return t({open:g,close:v}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const b=document.activeElement;b instanceof HTMLElement&&s.value?.contains(b)&&b.blur()},s.value.addEventListener("hide.bs.modal",a))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(b,S)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"rejectRechargeModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$p,[S[4]||(S[4]=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h5",{class:"modal-title",id:"rejectRechargeModalLabel"},"Rechazar recarga"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),createBaseVNode("div",_hoisted_3$o,[createBaseVNode("form",{onSubmit:withModifiers(_,["prevent"])},[createBaseVNode("div",_hoisted_4$k,[createBaseVNode("div",_hoisted_5$j,[S[1]||(S[1]=createBaseVNode("div",{class:"fw-semibold"},"Cliente:",-1)),createBaseVNode("div",_hoisted_6$j,toDisplayString(m.value),1)]),createBaseVNode("div",_hoisted_7$j,[S[2]||(S[2]=createBaseVNode("div",{class:"fw-semibold"},"Metodo:",-1)),createBaseVNode("div",_hoisted_8$i,toDisplayString(f.value),1)]),createBaseVNode("div",_hoisted_9$i,[S[3]||(S[3]=createBaseVNode("label",{class:"form-label fw-semibold",for:"rejectionReason"},"Motivo del rechazo",-1)),withDirectives(createBaseVNode("textarea",{id:"rejectionReason","onUpdate:modelValue":S[0]||(S[0]=V=>d.value.rejection_reason=V),class:normalizeClass(["form-control",{"is-invalid":u.value.rejection_reason}]),rows:"4",placeholder:"Describe el motivo"},null,2),[[vModelText,d.value.rejection_reason]]),u.value.rejection_reason?(openBlock(),createElementBlock("div",_hoisted_10$h,toDisplayString(u.value.rejection_reason[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:v},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-danger",onClick:_},"Rechazar")])])])])],512))}},_hoisted_1$p={class:"p-3"},_hoisted_2$o={class:"card card-body"},_hoisted_3$n={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$r={__name:"index",setup(e){const t=ref({status:""}),s=useRechargeStore(),o=usePaymentMethodStore(),a=useUserStore(),n=useAuth(),r=ref(null),l=d=>{t.value=d};watch(()=>n.user?.id,d=>{d&&(s.get({validator_id:d,with:"files"}),o.get({validator_id:d}))},{immediate:!0}),watch(()=>s.list,d=>{if(!n.can("users.index"))return;const c=Array.from(new Set((d||[]).map(u=>Number(u.requester_id)).filter(Boolean)));c.length&&a.get({ids:c.join(",")})},{deep:!0,immediate:!0});const i=d=>{r.value?.open(d)};return(d,c)=>(openBlock(),createElementBlock("section",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$o,[c[0]||(c[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Mis validaciones"),createBaseVNode("p",{class:"text-muted mb-0"},"Recargas registradas con tus metodos de pago.")],-1)),createBaseVNode("div",_hoisted_3$n,[createVNode(_sfc_main$u,{class:"mb-0 flex-shrink-0",onSearch:l})]),createVNode(_sfc_main$t,{class:"mt-1",filters:t.value,onReject:i},null,8,["filters"])]),createVNode(_sfc_main$s,{ref_key:"rejectModalRef",ref:r},null,512)]))}},_hoisted_1$o={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$n=["value"],_sfc_main$q={__name:"Filter",props:{validators:{type:Array,default:()=>[]},showValidatorSelect:{type:Boolean,default:!1},currentValidatorId:{type:[Number,String],default:null}},emits:["search"],setup(e,{emit:t}){const s=e,o=t,a=ref(s.currentValidatorId||""),n=ref(""),r=()=>o("search",{validator_id:a.value||null,status:n.value||""});return watch(()=>s.currentValidatorId,l=>{a.value=l||""}),(l,i)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(r,["prevent"])},[createBaseVNode("div",_hoisted_1$o,[s.showValidatorSelect?withDirectives((openBlock(),createElementBlock("select",{key:0,"onUpdate:modelValue":i[0]||(i[0]=d=>a.value=d),class:"form-select w-auto",onChange:r},[i[2]||(i[2]=createBaseVNode("option",{value:""},"Validador",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.validators,d=>(openBlock(),createElementBlock("option",{key:d.id,value:d.id},toDisplayString(d.label),9,_hoisted_2$n))),128))],544)),[[vModelSelect,a.value]]):createCommentVNode("",!0),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":i[1]||(i[1]=d=>n.value=d),class:"form-select w-auto",onChange:r},[...i[3]||(i[3]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:"active"},"Activo",-1),createBaseVNode("option",{value:"inactive"},"Inactivo",-1)])],544),[[vModelSelect,n.value]])])],32))}},_hoisted_1$n={class:"d-flex align-items-center gap-2"},_hoisted_2$m=["disabled","onClick"],_hoisted_3$m=["disabled","onClick"],_hoisted_4$j=["disabled","onClick"],_hoisted_5$i={class:"text-center"},_hoisted_6$i={class:"text-center"},_hoisted_7$i={class:"d-inline-flex align-items-center gap-2"},_hoisted_8$h=["onClick"],_hoisted_9$h=["onClick"],_hoisted_10$g=["onClick"],_hoisted_11$d={key:0},_sfc_main$p={__name:"List",props:{filters:{type:Object,default:()=>({validator_id:null,status:""})},countries:{type:Array,default:()=>[]},pageSize:{type:Number,default:10}},emits:["edit","order"],setup(e,{emit:t}){const s=t,o=e,a=usePaymentMethodStore(),n=useAuth(),r=useUserStore(),l=computed(()=>a.list),i=computed(()=>Array.isArray(n.user?.roles)&&n.user.roles.some(S=>S.name==="admin")),d=computed(()=>o.countries.reduce((S,V)=>(S[V.id]=V.name,S),{})),c={active:"Activo",inactive:"Inactivo"},u=(S=[])=>{if(!Array.isArray(S)||!S.length)return"";const V=S.find(k=>k.is_active)||S[0];return resolveFileUrl(V)},m=S=>S?i.value?r.name(S.validator_id)||S.validator_id||"-":n.user?.name||n.user?.email||S.validator_id||"-":"-",f=computed(()=>{const S=o.filters.status||"",V=o.filters.validator_id||null;return l.value.filter(k=>!(V&&Number(k.validator_id)!==Number(V)||S&&k.status!==S))}),g=computed(()=>[{title:"Orden",key:"sort_order",class:"text-center"},{title:"Nombre",key:"name"},{title:"Tipo",key:"type"},{title:"Identificador",key:"identifier"},{title:"Validador",key:"validator",sortKey:S=>m(S)},{title:"Pas",key:"country_id",sortKey:S=>d.value[S.country_id]||""},{title:"Estado",key:"status"},{title:"Imagen",key:"image",sortable:!1},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}]),v=S=>s("edit",S),_=S=>s("order",S),b=async S=>{window.confirm(`Eliminar el mtodo de pago "${S.name}"?`)&&await a.delete(S)};return(S,V)=>(openBlock(),createBlock(Table,{items:f.value,headers:g.value,"default-sort":{key:"sort_order",direction:"asc"},"page-length":e.pageSize,tag:"payment-method"},{actions:withCtx(({selected:k})=>[createBaseVNode("div",_hoisted_1$n,[i.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-secondary btn-sm",disabled:!k.item,onClick:B=>k.item&&_(k.item)}," Ordenar ",8,_hoisted_2$m)):createCommentVNode("",!0),unref(n).can("payment-methods.edit")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-primary btn-sm",disabled:!k.item,onClick:B=>k.item&&v(k.item)}," Editar ",8,_hoisted_3$m)):createCommentVNode("",!0),unref(n).can("payment-methods.delete")?(openBlock(),createElementBlock("button",{key:2,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!k.item,onClick:B=>k.item&&b(k.item)}," Eliminar ",8,_hoisted_4$j)):createCommentVNode("",!0)])]),body:withCtx(({item:k})=>[createBaseVNode("td",_hoisted_5$i,toDisplayString(k.sort_order??1),1),createBaseVNode("td",null,toDisplayString(k.name||"-"),1),createBaseVNode("td",null,toDisplayString(k.type||"-"),1),createBaseVNode("td",null,toDisplayString(k.identifier||"-"),1),createBaseVNode("td",null,toDisplayString(m(k)),1),createBaseVNode("td",null,toDisplayString(d.value[k.country_id]||k.country_id||"-"),1),createBaseVNode("td",null,toDisplayString(c[k.status]||k.status||"-"),1),createBaseVNode("td",null,[createVNode(HoverImagePreview,{src:u(k.files),alt:"Mtodo de pago"},null,8,["src"])]),createBaseVNode("td",_hoisted_6$i,[createBaseVNode("div",_hoisted_7$i,[i.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-secondary btn-sm",title:"Ordenar","aria-label":"Ordenar",onClick:B=>_(k)},[...V[0]||(V[0]=[createBaseVNode("i",{class:"bi bi-sort-numeric-down"},null,-1)])],8,_hoisted_8$h)):createCommentVNode("",!0),unref(n).can("payment-methods.edit")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-primary btn-sm",title:"Editar","aria-label":"Editar",onClick:B=>v(k)},[...V[1]||(V[1]=[createBaseVNode("i",{class:"bi bi-pencil"},null,-1)])],8,_hoisted_9$h)):createCommentVNode("",!0),unref(n).can("payment-methods.delete")?(openBlock(),createElementBlock("button",{key:2,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:B=>b(k)},[...V[2]||(V[2]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_10$g)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[f.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_11$d,[...V[3]||(V[3]=[createBaseVNode("td",{colspan:"9",class:"text-center text-muted"},"No hay mtodos de pago registrados",-1)])]))]),_:1},8,["items","headers","page-length"]))}},_hoisted_1$m={class:"modal-dialog modal-lg modal-dialog-scrollable"},_hoisted_2$l={class:"modal-content"},_hoisted_3$l={class:"modal-header"},_hoisted_4$i={class:"modal-title",id:"paymentMethodModalLabel"},_hoisted_5$h={class:"modal-body"},_hoisted_6$h={class:"row g-3"},_hoisted_7$h={class:"col-md-6"},_hoisted_8$g={key:0,class:"text-danger small mt-1"},_hoisted_9$g={class:"col-md-6"},_hoisted_10$f={key:0,class:"text-danger small mt-1"},_hoisted_11$c={class:"col-md-6"},_hoisted_12$8=["value"],_hoisted_13$7={class:"col-md-6"},_hoisted_14$7=["value"],_hoisted_15$6={key:0,class:"text-danger small mt-1"},_hoisted_16$6={class:"col-md-6"},_hoisted_17$5={key:0,class:"text-danger small mt-1"},_hoisted_18$4={class:"col-12"},_hoisted_19$4={key:0,class:"text-danger small mt-1"},_hoisted_20$4={class:"col-12"},_hoisted_21$3={class:"border rounded p-2"},_hoisted_22$3={class:"ratio ratio-1x1 bg-light rounded overflow-hidden mb-2"},_hoisted_23$2=["src"],_hoisted_24$2={key:1,class:"d-flex align-items-center justify-content-center text-muted small"},paymentMethodModelType="App\\Models\\PaymentMethod",_sfc_main$o={__name:"Form",props:{countries:{type:Array,default:()=>[]},currentValidatorId:{type:[Number,String],default:null}},setup(e,{expose:t}){const s=e,o=ref(null);let a=null,n=null;const r=usePaymentMethodStore(),l=useAuth(),i=useToast(),d=ref({...PaymentMethod.getDefault()}),c=ref("create"),u=ref({}),m=ref(null),f=ref([]),g=computed(()=>s.currentValidatorId||l.user?.id||null),v=computed(()=>l.user?.country_id||null),_=computed(()=>{const N=d.value.country_id||v.value;return s.countries.find($=>Number($.id)===Number(N))?.name||(N?`ID ${N}`:"-")}),b=computed(()=>f.value.find(N=>N.is_active)||f.value[0]||null),S=computed(()=>resolveFileUrl(b.value)),V=[{value:"active",label:"Activo"},{value:"inactive",label:"Inactivo"}],k=()=>{m.value=null},B=async N=>{if(N)try{const E=await api.get("/api/files",{params:{model_type:paymentMethodModelType,model_id:N}});f.value=Array.isArray(E.data)?E.data:[]}catch{f.value=[]}},O=async N=>{const E=await api.get("/api/files",{params:{model_type:paymentMethodModelType,model_id:N}}),$=Array.isArray(E.data)?E.data:[];$.length&&await Promise.all($.map(H=>api.put(`/api/files/${H.id}`,{is_active:!1})))},M=async N=>{if(!(!N||!m.value))try{await O(N);const E=new FormData;E.append("file",m.value),E.append("model_type",paymentMethodModelType),E.append("model_id",N),await api.post("/api/files",E,{headers:{"Content-Type":"multipart/form-data"}}),await B(N),k()}catch{i.danger("No se pudo subir la imagen del mtodo")}},R=(N={})=>{d.value={...PaymentMethod.getDefault(),...N},u.value={}},C=(N={})=>{c.value="create",R({...N,validator_id:N.validator_id||g.value,country_id:N.country_id||v.value}),f.value=[],k(),a?.show()},w=N=>{c.value="edit",R(N),k(),B(N?.id),a?.show()},L=()=>{a?.hide()},y=async()=>{u.value={};try{if(c.value==="create"&&!m.value){i.danger("Selecciona una imagen del mtodo de pago");return}const N={...d.value};if(c.value==="create"){if(N.validator_id=l.user?.id||N.validator_id,N.country_id=l.user?.country_id||N.country_id,!N.country_id){i.danger("El usuario no tiene pais asignado");return}}else delete N.validator_id,delete N.country_id;let E=null;c.value==="edit"?(E=await r.update(N),i.success("Mtodo de pago actualizado")):(E=await r.create(N),i.success("Mtodo de pago creado"));const $=d.value.id||E?.data?.id||E?.id;$&&!d.value.id&&(d.value.id=$),await M($),L()}catch(N){const E=N?.response?.data;N?.response?.status===422&&E?.errors?u.value=E.errors:i.danger("No se pudo guardar el mtodo de pago")}};return t({openCreate:C,openEdit:w,close:L}),onMounted(()=>{o.value&&(a=new Modal(o.value),n=()=>{const N=document.activeElement;N instanceof HTMLElement&&o.value?.contains(N)&&N.blur()},o.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{a&&(a.hide(),a=null),o.value&&n&&(o.value.removeEventListener("hide.bs.modal",n),n=null)}),(N,E)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:o,class:"modal fade",tabindex:"-1","aria-labelledby":"paymentMethodModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$l,[createBaseVNode("h5",_hoisted_4$i,toDisplayString(c.value==="edit"?"Editar mtodo de pago":"Nuevo mtodo de pago"),1),E[6]||(E[6]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$h,[createBaseVNode("form",{onSubmit:withModifiers(y,["prevent"])},[createBaseVNode("div",_hoisted_6$h,[createBaseVNode("div",_hoisted_7$h,[E[7]||(E[7]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"paymentMethodName","onUpdate:modelValue":E[0]||(E[0]=$=>d.value.name=$),type:"text",class:normalizeClass(["form-control",{"is-invalid":u.value.name}]),placeholder:"Yape",required:""},null,2),[[vModelText,d.value.name]]),u.value.name?(openBlock(),createElementBlock("div",_hoisted_8$g,toDisplayString(u.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$g,[E[8]||(E[8]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodType"},"Tipo",-1)),withDirectives(createBaseVNode("input",{id:"paymentMethodType","onUpdate:modelValue":E[1]||(E[1]=$=>d.value.type=$),type:"text",class:normalizeClass(["form-control",{"is-invalid":u.value.type}]),placeholder:"transferencia",required:""},null,2),[[vModelText,d.value.type]]),u.value.type?(openBlock(),createElementBlock("div",_hoisted_10$f,toDisplayString(u.value.type[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$c,[E[9]||(E[9]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodCountry"},"Pas",-1)),createBaseVNode("input",{id:"paymentMethodCountry",value:_.value,type:"text",class:"form-control",readonly:""},null,8,_hoisted_12$8)]),createBaseVNode("div",_hoisted_13$7,[E[10]||(E[10]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodStatus"},"Estado",-1)),withDirectives(createBaseVNode("select",{id:"paymentMethodStatus","onUpdate:modelValue":E[2]||(E[2]=$=>d.value.status=$),class:normalizeClass(["form-select",{"is-invalid":u.value.status}])},[(openBlock(),createElementBlock(Fragment,null,renderList(V,$=>createBaseVNode("option",{key:$.value,value:$.value},toDisplayString($.label),9,_hoisted_14$7)),64))],2),[[vModelSelect,d.value.status]]),u.value.status?(openBlock(),createElementBlock("div",_hoisted_15$6,toDisplayString(u.value.status[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_16$6,[E[11]||(E[11]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodOrder"},"Orden",-1)),withDirectives(createBaseVNode("input",{id:"paymentMethodOrder","onUpdate:modelValue":E[3]||(E[3]=$=>d.value.sort_order=$),type:"number",class:normalizeClass(["form-control",{"is-invalid":u.value.sort_order}]),min:"1",step:"1",placeholder:"1"},null,2),[[vModelText,d.value.sort_order,void 0,{number:!0}]]),u.value.sort_order?(openBlock(),createElementBlock("div",_hoisted_17$5,toDisplayString(u.value.sort_order[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_18$4,[E[12]||(E[12]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodIdentifier"},"Identificador",-1)),withDirectives(createBaseVNode("input",{id:"paymentMethodIdentifier","onUpdate:modelValue":E[4]||(E[4]=$=>d.value.identifier=$),type:"text",class:normalizeClass(["form-control",{"is-invalid":u.value.identifier}]),placeholder:"999888777",required:""},null,2),[[vModelText,d.value.identifier]]),u.value.identifier?(openBlock(),createElementBlock("div",_hoisted_19$4,toDisplayString(u.value.identifier[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_20$4,[E[13]||(E[13]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodImage"},"Imagen del mtodo",-1)),createBaseVNode("div",_hoisted_21$3,[createBaseVNode("div",_hoisted_22$3,[S.value?(openBlock(),createElementBlock("img",{key:0,src:S.value,alt:"Imagen del mtodo",class:"w-100 h-100 object-fit-contain"},null,8,_hoisted_23$2)):(openBlock(),createElementBlock("div",_hoisted_24$2," Sin imagen "))]),createVNode(FileDropzone,{modelValue:m.value,"onUpdate:modelValue":E[5]||(E[5]=$=>m.value=$),accept:"image/*",title:"Arrastra y suelta una imagen",subtitle:"o pega una imagen / elige un archivo","button-label":"Elegir imagen",help:"Se sube al guardar el mtodo."},null,8,["modelValue"])])])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:L},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:y},"Guardar")])])])])],512))}},_hoisted_1$l={class:"modal-dialog modal-md modal-dialog-scrollable"},_hoisted_2$k={class:"modal-content"},_hoisted_3$k={class:"modal-body"},_hoisted_4$h={class:"row g-3"},_hoisted_5$g={class:"col-12"},_hoisted_6$g={class:"text-muted"},_hoisted_7$g={class:"col-md-6"},_hoisted_8$f={class:"text-muted"},_hoisted_9$f={class:"col-md-6"},_hoisted_10$e={class:"text-muted"},_hoisted_11$b={class:"col-12"},_hoisted_12$7={class:"text-muted"},_hoisted_13$6={class:"col-12"},_hoisted_14$6={class:"text-muted"},_hoisted_15$5={class:"col-12"},_hoisted_16$5={key:0,class:"text-danger small mt-1"},_sfc_main$n={__name:"OrderModal",props:{countries:{type:Array,default:()=>[]}},setup(e,{expose:t}){const s=e,o=ref(null);let a=null,n=null;const r=usePaymentMethodStore(),l=useToast(),i=ref({id:null,name:"",type:"",identifier:"",country_id:null,status:"",sort_order:1}),d=ref({}),c=computed(()=>{const v=i.value.country_id;return s.countries.find(b=>Number(b.id)===Number(v))?.name||(v?`ID ${v}`:"-")}),u=computed(()=>i.value.status==="active"?"Activo":i.value.status==="inactive"?"Inactivo":i.value.status||"-"),m=v=>{i.value={id:v?.id??null,name:v?.name??"",type:v?.type??"",identifier:v?.identifier??"",country_id:v?.country_id??null,status:v?.status??"",sort_order:Number(v?.sort_order??1)},d.value={},a?.show()},f=()=>{a?.hide()},g=async()=>{if(d.value={},!!i.value.id)try{await r.update({id:i.value.id,sort_order:i.value.sort_order}),l.success("Orden actualizado"),f()}catch(v){const _=v?.response?.data;v?.response?.status===422&&_?.errors?d.value=_.errors:l.danger("No se pudo actualizar el orden")}};return t({open:m,close:f}),onMounted(()=>{o.value&&(a=new Modal(o.value),n=()=>{const v=document.activeElement;v instanceof HTMLElement&&o.value?.contains(v)&&v.blur()},o.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{a&&(a.hide(),a=null),o.value&&n&&(o.value.removeEventListener("hide.bs.modal",n),n=null)}),(v,_)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:o,class:"modal fade",tabindex:"-1","aria-labelledby":"paymentMethodOrderModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$k,[_[7]||(_[7]=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h5",{class:"modal-title",id:"paymentMethodOrderModalLabel"},"Ordenar metodo de pago"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),createBaseVNode("div",_hoisted_3$k,[createBaseVNode("form",{onSubmit:withModifiers(g,["prevent"])},[createBaseVNode("div",_hoisted_4$h,[createBaseVNode("div",_hoisted_5$g,[_[1]||(_[1]=createBaseVNode("div",{class:"fw-semibold"},"Nombre:",-1)),createBaseVNode("div",_hoisted_6$g,toDisplayString(i.value.name||"-"),1)]),createBaseVNode("div",_hoisted_7$g,[_[2]||(_[2]=createBaseVNode("div",{class:"fw-semibold"},"Tipo:",-1)),createBaseVNode("div",_hoisted_8$f,toDisplayString(i.value.type||"-"),1)]),createBaseVNode("div",_hoisted_9$f,[_[3]||(_[3]=createBaseVNode("div",{class:"fw-semibold"},"Estado:",-1)),createBaseVNode("div",_hoisted_10$e,toDisplayString(u.value),1)]),createBaseVNode("div",_hoisted_11$b,[_[4]||(_[4]=createBaseVNode("div",{class:"fw-semibold"},"Identificador:",-1)),createBaseVNode("div",_hoisted_12$7,toDisplayString(i.value.identifier||"-"),1)]),createBaseVNode("div",_hoisted_13$6,[_[5]||(_[5]=createBaseVNode("div",{class:"fw-semibold"},"Pais:",-1)),createBaseVNode("div",_hoisted_14$6,toDisplayString(c.value),1)]),createBaseVNode("div",_hoisted_15$5,[_[6]||(_[6]=createBaseVNode("label",{class:"form-label fw-semibold",for:"paymentMethodSortOrder"},"Orden",-1)),withDirectives(createBaseVNode("input",{id:"paymentMethodSortOrder","onUpdate:modelValue":_[0]||(_[0]=b=>i.value.sort_order=b),type:"number",class:normalizeClass(["form-control",{"is-invalid":d.value.sort_order}]),min:"1",step:"1",required:""},null,2),[[vModelText,i.value.sort_order,void 0,{number:!0}]]),d.value.sort_order?(openBlock(),createElementBlock("div",_hoisted_16$5,toDisplayString(d.value.sort_order[0]),1)):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:f},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:g},"Guardar")])])])])],512))}},_hoisted_1$k={class:"p-3"},_hoisted_2$j={class:"card card-body"},_hoisted_3$j={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$m={__name:"index",setup(e){const t=useAuth(),s=useCountryStore(),o=usePaymentMethodStore(),a=useUserStore(),n=ref({validator_id:null,status:""}),r=ref(null),l=ref(null),i=computed(()=>Array.isArray(t.user?.roles)&&t.user.roles.some(V=>V.name==="admin")),d=computed(()=>o.list),c=computed(()=>t.user?.id||null),u=computed(()=>c.value?[{id:c.value,label:t.user?.name||`Usuario ${c.value}`}]:[]),m=computed(()=>i.value?Array.from(new Set((d.value||[]).map(V=>Number(V.validator_id)).filter(Boolean))):[]),f=computed(()=>m.value.join(",")),g=()=>{if(!c.value)return;const V={with:"files"};i.value||(V.validator_id=c.value),o.get(V)};onMounted(()=>{s.get()}),watch(()=>c.value,V=>{V&&!n.value.validator_id&&!i.value&&(n.value={...n.value,validator_id:V})},{immediate:!0}),watch(()=>[c.value,i.value],()=>{g()},{immediate:!0}),watch(()=>f.value,V=>{i.value&&V&&a.get({ids:V})},{immediate:!0});const v=V=>{n.value={...n.value,...V}},_=()=>{r.value?.openCreate({validator_id:n.value.validator_id||c.value||null})},b=V=>{r.value?.openEdit(V)},S=V=>{l.value?.open(V)};return(V,k)=>(openBlock(),createElementBlock("section",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$j,[k[0]||(k[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Mtodos de pago"),createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona tus mtodos de pago disponibles.")],-1)),createBaseVNode("div",_hoisted_3$j,[createVNode(_sfc_main$q,{class:"mb-0 flex-shrink-0",validators:u.value,"show-validator-select":i.value,"current-validator-id":n.value.validator_id,onSearch:v},null,8,["validators","show-validator-select","current-validator-id"]),unref(t).can("payment-methods.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:_}," Nuevo mtodo ")):createCommentVNode("",!0)]),createVNode(_sfc_main$p,{class:"mt-1",filters:n.value,countries:unref(s).list,onEdit:b,onOrder:S},null,8,["filters","countries"])]),createVNode(_sfc_main$o,{ref_key:"formRef",ref:r,countries:unref(s).list,"current-validator-id":n.value.validator_id},null,8,["countries","current-validator-id"]),createVNode(_sfc_main$n,{ref_key:"orderModalRef",ref:l,countries:unref(s).list},null,8,["countries"])]))}},validationRoutes=[{path:"/validations/my-validations",name:"validations.my-validations",meta:{requiresAuth:!0,permissions:["validations.view"]},component:_sfc_main$r},{path:"/validations/payment-methods",name:"payment-methods.index",meta:{requiresAuth:!0,permissions:["payment-methods.view"]},component:_sfc_main$m}],supportConfig={alias:"supports",route:"/api/supports",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"subject",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,subject:"",status:1,priority:"medium",opened_by_id:null,assigned_to_id:null,channel:"web",last_message_at:null,closed_at:null,resolution:null,metadata:null,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},Support=new Model(supportConfig,api),createSupportStore=(e=null,t=null,s=null)=>Support.getStore(e,t,s),extraState$2={},extraGetters$2={},extraActions$2={},useSupportStore=defineStore(Support.alias,createSupportStore(extraState$2,extraGetters$2,extraActions$2)),_hoisted_1$j={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_hoisted_2$i={class:"search-box"},_hoisted_3$i={class:"input-group"},_hoisted_4$g=["onKeyup"],_sfc_main$l={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(""),a=ref(""),n=ref(""),r=()=>s("search",{term:o.value.trim(),status:a.value,priority:n.value}),l=()=>{o.value="",a.value="",n.value="",s("search",{term:"",status:"",priority:""})};return(i,d)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(r,["prevent"])},[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$i,[createBaseVNode("div",_hoisted_3$i,[withDirectives(createBaseVNode("input",{id:"supportSearch","onUpdate:modelValue":d[0]||(d[0]=c=>o.value=c),type:"text",class:"form-control",placeholder:"Buscar por asunto",onKeyup:withKeys(withModifiers(r,["prevent"]),["enter"])},null,40,_hoisted_4$g),[[vModelText,o.value]]),o.value?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary",type:"button","aria-label":"Limpiar",onClick:l},[...d[3]||(d[3]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])])):createCommentVNode("",!0),d[4]||(d[4]=createBaseVNode("button",{class:"btn btn-primary",type:"submit","aria-label":"Buscar"},[createBaseVNode("i",{class:"bi bi-search"})],-1))])]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[1]||(d[1]=c=>a.value=c),class:"form-select w-auto",onChange:r},[...d[5]||(d[5]=[createBaseVNode("option",{value:""},"Estado",-1),createBaseVNode("option",{value:1},"Pendiente",-1),createBaseVNode("option",{value:2},"En atencion",-1),createBaseVNode("option",{value:3},"En espera usuario",-1),createBaseVNode("option",{value:4},"Cerrado",-1)])],544),[[vModelSelect,a.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[2]||(d[2]=c=>n.value=c),class:"form-select w-auto",onChange:r},[...d[6]||(d[6]=[createStaticVNode('<option value="">Prioridad</option><option value="low">Baja</option><option value="medium">Media</option><option value="high">Alta</option><option value="urgent">Urgente</option>',5)])],544),[[vModelSelect,n.value]])])],32))}},_hoisted_1$i={class:"d-flex align-items-center gap-2"},_hoisted_2$h=["disabled","onClick"],_hoisted_3$h=["disabled","onClick"],_hoisted_4$f={class:"text-break"},_hoisted_5$f={class:"text-center"},_hoisted_6$f={class:"d-inline-flex align-items-center gap-2"},_hoisted_7$f=["onClick"],_hoisted_8$e=["onClick"],_hoisted_9$e={key:0},_sfc_main$k={__name:"List",props:{filters:{type:Object,default:()=>({term:"",status:"",priority:""})},pageSize:{type:Number,default:10}},emits:["messages"],setup(e,{emit:t}){const s=t,o=e,a=useSupportStore(),{list:n}=storeToRefs(a),r=useAuth(),l=useCountryStore(),i=computed(()=>resolveUserTimezone(r.user,l)),d={1:"Pendiente",2:"En atencion",3:"En espera usuario",4:"Cerrado"},c={low:"Baja",medium:"Media",high:"Alta",urgent:"Urgente"},u={web:"Web",admin:"Admin",api:"API",email:"Email"},m=b=>formatDateTime(b,i.value),f=b=>b?.opened_by_id?`#${b.opened_by_id}`:"",g=computed(()=>{const b=o.filters.term?.toLowerCase()||"",S=o.filters.status,V=o.filters.priority||"",k=S!==""&&S!==null&&S!==void 0;return n.value.filter(B=>!(!(!b||[B.subject].some(M=>(M||"").toLowerCase().includes(b)))||k&&Number(B.status)!==Number(S)||V&&B.priority!==V))}),v=[{title:"Asunto",key:"subject"},{title:"Estado",key:"status"},{title:"Prioridad",key:"priority"},{title:"Canal",key:"channel"},{title:"Usuario",key:"opened_by_id"},{title:"Ultimo mensaje",key:"last_message_at"},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}],_=async b=>{window.confirm(`Eliminar el ticket "${b.subject}"?`)&&await a.delete(b)};return(b,S)=>(openBlock(),createBlock(Table,{items:g.value,headers:v,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"support"},{actions:withCtx(({selected:V})=>[createBaseVNode("div",_hoisted_1$i,[unref(r).can("support-messages.view")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-info btn-sm",disabled:!V.item,onClick:k=>V.item&&s("messages",V.item)}," Mensajes ",8,_hoisted_2$h)):createCommentVNode("",!0),unref(r).can("supports.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!V.item,onClick:k=>V.item&&_(V.item)}," Eliminar ",8,_hoisted_3$h)):createCommentVNode("",!0)])]),body:withCtx(({item:V})=>[createBaseVNode("td",_hoisted_4$f,toDisplayString(V.subject),1),createBaseVNode("td",null,toDisplayString(d[V.status]||V.status||""),1),createBaseVNode("td",null,toDisplayString(c[V.priority]||V.priority||""),1),createBaseVNode("td",null,toDisplayString(u[V.channel]||V.channel||""),1),createBaseVNode("td",null,toDisplayString(f(V)),1),createBaseVNode("td",null,toDisplayString(m(V.last_message_at)),1),createBaseVNode("td",_hoisted_5$f,[createBaseVNode("div",_hoisted_6$f,[unref(r).can("support-messages.view")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-info btn-sm",title:"Mensajes","aria-label":"Mensajes",onClick:k=>s("messages",V)},[...S[0]||(S[0]=[createBaseVNode("i",{class:"bi bi-chat-dots"},null,-1)])],8,_hoisted_7$f)):createCommentVNode("",!0),unref(r).can("supports.delete")?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",title:"Eliminar","aria-label":"Eliminar",onClick:k=>_(V)},[...S[1]||(S[1]=[createBaseVNode("i",{class:"bi bi-trash"},null,-1)])],8,_hoisted_8$e)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[g.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_9$e,[...S[2]||(S[2]=[createBaseVNode("td",{colspan:"7",class:"text-center text-muted"},"No hay tickets registrados",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$h={class:"modal-dialog modal-xl modal-dialog-scrollable"},_hoisted_2$g={class:"modal-content"},_hoisted_3$g={class:"modal-header py-2"},_hoisted_4$e={class:"modal-title",id:"supportModalLabel"},_hoisted_5$e={class:"modal-body p-0"},_hoisted_6$e={class:"mb-4"},_hoisted_7$e={class:"card border-0 shadow-sm"},_hoisted_8$d={class:"card-body"},_hoisted_9$d={class:"row g-3"},_hoisted_10$d={class:"col-md-6"},_hoisted_11$a=["value"],_hoisted_12$6={class:"col-md-6"},_hoisted_13$5=["value"],_hoisted_14$5={class:"col-md-4"},_hoisted_15$4={class:"col-md-4"},_hoisted_16$4={class:"col-md-4"},_hoisted_17$4={key:0,class:"text-danger small mt-1"},_hoisted_18$3={class:"row g-3"},_hoisted_19$3={class:"col-12"},_hoisted_20$3={key:0,class:"text-danger small mt-1"},_hoisted_21$2={key:0,class:"col-12"},_hoisted_22$2={key:0,class:"text-danger small mt-1"},_sfc_main$j={__name:"Form",setup(e,{expose:t}){const s=ref(null);let o=null,a=null;const n=useSupportStore(),r=useToast(),l=useAuth(),i=()=>Support.getDefault(),d=ref({...i()}),c=ref("create"),u=ref({}),m=ref("technical"),f=ref("none"),g=ref(""),v=computed(()=>c.value==="create"),_=async()=>{u.value={};try{const k={subject:d.value.subject,status:d.value.status,priority:d.value.priority,channel:d.value.channel,closed_at:d.value.closed_at,resolution:d.value.resolution,metadata:d.value.metadata};c.value==="edit"?(await n.update({...k,id:d.value.id}),r.success("Ticket actualizado")):(await n.create({...k,message_body:g.value}),r.success("Ticket creado")),V()}catch(k){const B=k?.response?.data;k?.response?.status===422&&B?.errors?u.value=B.errors:r.danger("No se pudo guardar el ticket")}},b=()=>{c.value="create",d.value={...i(),status:1,channel:"web"},m.value="technical",f.value="none",g.value="",u.value={},o?.show()},S=k=>{c.value="edit",d.value={...i(),...k},g.value="",u.value={},o?.show()},V=()=>{o?.hide()};return t({openCreate:b,openEdit:S,close:V}),onMounted(()=>{s.value&&(o=new Modal(s.value),a=()=>{const k=document.activeElement;k instanceof HTMLElement&&s.value?.contains(k)&&k.blur()},s.value.addEventListener("hide.bs.modal",a))}),onBeforeUnmount(()=>{o&&(o.hide(),o=null),s.value&&a&&(s.value.removeEventListener("hide.bs.modal",a),a=null)}),(k,B)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:s,class:"modal fade",tabindex:"-1","aria-labelledby":"supportModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("h5",_hoisted_4$e,toDisplayString(c.value==="edit"?"Editar ticket":"Nuevo ticket"),1),B[5]||(B[5]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_5$e,[createBaseVNode("form",{class:"p-3",onSubmit:withModifiers(_,["prevent"])},[createBaseVNode("div",_hoisted_6$e,[B[14]||(B[14]=createBaseVNode("h6",{class:"fw-semibold mb-3"},"Informacion del Ticket",-1)),createBaseVNode("div",_hoisted_7$e,[createBaseVNode("div",_hoisted_8$d,[createBaseVNode("div",_hoisted_9$d,[createBaseVNode("div",_hoisted_10$d,[B[6]||(B[6]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportUserName"},"Nombre",-1)),createBaseVNode("input",{id:"supportUserName",value:unref(l).user?.name||"",type:"text",class:"form-control",disabled:""},null,8,_hoisted_11$a)]),createBaseVNode("div",_hoisted_12$6,[B[7]||(B[7]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportUserEmail"},"Direccion de Email",-1)),createBaseVNode("input",{id:"supportUserEmail",value:unref(l).user?.email||"",type:"email",class:"form-control",disabled:""},null,8,_hoisted_13$5)]),createBaseVNode("div",_hoisted_14$5,[B[9]||(B[9]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportDepartment"},"Departamento",-1)),withDirectives(createBaseVNode("select",{id:"supportDepartment","onUpdate:modelValue":B[0]||(B[0]=O=>m.value=O),class:"form-select"},[...B[8]||(B[8]=[createBaseVNode("option",{value:"technical"},"Soporte tecnico",-1),createBaseVNode("option",{value:"billing"},"Facturacion",-1),createBaseVNode("option",{value:"commercial"},"Comercial",-1)])],512),[[vModelSelect,m.value]])]),createBaseVNode("div",_hoisted_15$4,[B[11]||(B[11]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportService"},"Servicios Relacionados",-1)),withDirectives(createBaseVNode("select",{id:"supportService","onUpdate:modelValue":B[1]||(B[1]=O=>f.value=O),class:"form-select"},[...B[10]||(B[10]=[createBaseVNode("option",{value:"none"},"Nada",-1),createBaseVNode("option",{value:"streaming"},"Streaming",-1),createBaseVNode("option",{value:"licenses"},"Licencias",-1),createBaseVNode("option",{value:"courses"},"Cursos",-1)])],512),[[vModelSelect,f.value]])]),createBaseVNode("div",_hoisted_16$4,[B[13]||(B[13]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportPriority"},"Prioridad",-1)),withDirectives(createBaseVNode("select",{id:"supportPriority","onUpdate:modelValue":B[2]||(B[2]=O=>d.value.priority=O),class:normalizeClass(["form-select",{"is-invalid":u.value.priority}]),required:""},[...B[12]||(B[12]=[createBaseVNode("option",{value:"low"},"Baja",-1),createBaseVNode("option",{value:"medium"},"Media",-1),createBaseVNode("option",{value:"high"},"Alta",-1),createBaseVNode("option",{value:"urgent"},"Urgente",-1)])],2),[[vModelSelect,d.value.priority]]),u.value.priority?(openBlock(),createElementBlock("div",_hoisted_17$4,toDisplayString(u.value.priority[0]),1)):createCommentVNode("",!0)])])])])]),createBaseVNode("div",null,[B[17]||(B[17]=createBaseVNode("h6",{class:"fw-semibold mb-3"},"Mensaje",-1)),createBaseVNode("div",_hoisted_18$3,[createBaseVNode("div",_hoisted_19$3,[B[15]||(B[15]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportSubject"},"Asunto",-1)),withDirectives(createBaseVNode("input",{id:"supportSubject","onUpdate:modelValue":B[3]||(B[3]=O=>d.value.subject=O),type:"text",class:normalizeClass(["form-control",{"is-invalid":u.value.subject}]),placeholder:"Acceso no funciona",required:""},null,2),[[vModelText,d.value.subject]]),u.value.subject?(openBlock(),createElementBlock("div",_hoisted_20$3,toDisplayString(u.value.subject[0]),1)):createCommentVNode("",!0)]),v.value?(openBlock(),createElementBlock("div",_hoisted_21$2,[B[16]||(B[16]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportMessageBody"},"Mensaje",-1)),withDirectives(createBaseVNode("textarea",{id:"supportMessageBody","onUpdate:modelValue":B[4]||(B[4]=O=>g.value=O),class:normalizeClass(["form-control",{"is-invalid":u.value.message_body}]),rows:"4",placeholder:"Detalle del problema o solicitud",required:""},null,2),[[vModelText,g.value]]),u.value.message_body?(openBlock(),createElementBlock("div",_hoisted_22$2,toDisplayString(u.value.message_body[0]),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:V},"Cancelar"),createBaseVNode("button",{type:"button",class:"btn btn-primary",onClick:_},"Enviar")])])])])],512))}},supportMessageConfig={alias:"support-messages",route:"/api/support-messages",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"body",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,support_id:null,sender_type:"",sender_id:null,message_type:"text",body:"",attachments:null,is_internal:!1,read_at:null,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},SupportMessage=new Model(supportMessageConfig,api),createSupportMessageStore=(e=null,t=null,s=null)=>SupportMessage.getStore(e,t,s),extraState$1={},extraGetters$1={},extraActions$1={},useSupportMessageStore=defineStore(SupportMessage.alias,createSupportMessageStore(extraState$1,extraGetters$1,extraActions$1)),_hoisted_1$g={key:0,class:"text-center text-muted py-4"},_hoisted_2$f={key:1,class:"support-thread"},_hoisted_3$f={class:"card-body"},_hoisted_4$d={class:"d-flex flex-column flex-md-row justify-content-between gap-2"},_hoisted_5$d={class:"fw-semibold"},_hoisted_6$d={class:"text-muted small"},_hoisted_7$d={class:"text-muted small text-md-end"},_hoisted_8$c={class:"mt-3 text-break"},_hoisted_9$c={class:"d-flex flex-wrap gap-2 mt-3"},_hoisted_10$c={class:"badge bg-light text-dark border"},_hoisted_11$9={key:0,class:"badge bg-warning text-dark"},_hoisted_12$5={key:1,class:"badge bg-light text-dark border"},_sfc_main$i={__name:"List",props:{supportId:{type:Number,default:null},openedById:{type:Number,default:null}},setup(e){const t=e,s=useSupportMessageStore(),{list:o}=storeToRefs(s),a=useAuth(),n=useCountryStore(),r=computed(()=>resolveUserTimezone(a.user,n)),l={text:"Texto",note:"Nota",system:"Sistema"},i=m=>formatDateTime(m,r.value),d=m=>m?.sender_id?Number(m.sender_id)===Number(a.user?.id)&&a.user?.name?a.user.name:`Usuario #${m.sender_id}`:"Usuario",c=m=>m?.sender_id?t.openedById&&Number(m.sender_id)===Number(t.openedById)?"Propietario":"Operador":"",u=computed(()=>{const m=Number(t.supportId);return m?o.value.filter(f=>Number(f.support_id)===m):o.value});return(m,f)=>(openBlock(),createElementBlock("div",null,[u.value.length?(openBlock(),createElementBlock("div",_hoisted_2$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,g=>(openBlock(),createElementBlock("article",{key:g.id,class:normalizeClass(["card border-0 shadow-sm mb-3",Number(g.sender_id)===Number(e.openedById)?"border-start border-3 border-primary":"border-start border-3 border-success"])},[createBaseVNode("div",_hoisted_3$f,[createBaseVNode("div",_hoisted_4$d,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_5$d,toDisplayString(d(g)),1),createBaseVNode("div",_hoisted_6$d,toDisplayString(c(g)),1)]),createBaseVNode("div",_hoisted_7$d,toDisplayString(i(g.created_at)),1)]),createBaseVNode("div",_hoisted_8$c,toDisplayString(g.body),1),createBaseVNode("div",_hoisted_9$c,[createBaseVNode("span",_hoisted_10$c,toDisplayString(l[g.message_type]||g.message_type||""),1),g.is_internal?(openBlock(),createElementBlock("span",_hoisted_11$9,"Interno")):createCommentVNode("",!0),Array.isArray(g.attachments)&&g.attachments.length?(openBlock(),createElementBlock("span",_hoisted_12$5," Adjuntos "+toDisplayString(g.attachments.length),1)):createCommentVNode("",!0)])])],2))),128))])):(openBlock(),createElementBlock("div",_hoisted_1$g," No hay mensajes registrados "))]))}},List=_export_sfc(_sfc_main$i,[["__scopeId","data-v-7af3f32c"]]),_hoisted_1$f={class:"card border-0 shadow-sm"},_hoisted_2$e={class:"card-body"},_hoisted_3$e={class:"row g-3"},_hoisted_4$c={class:"col-md-4"},_hoisted_5$c={class:"col-md-4"},_hoisted_6$c={key:0,class:"text-danger small mt-1"},_hoisted_7$c={class:"col-md-4"},_hoisted_8$b={key:0,class:"text-danger small mt-1"},_hoisted_9$b={class:"col-12"},_hoisted_10$b={key:0,class:"text-danger small mt-1"},_sfc_main$h={__name:"Form",props:{support:{type:Object,default:null}},emits:["saved"],setup(e,{emit:t}){const s=e,o=t,a=useSupportMessageStore(),n=useSupportStore(),r=useToast(),l=useAuth(),i=()=>SupportMessage.getDefault(),d=ref({...i()}),c=ref(1),u=ref({}),m=computed(()=>s.support?.id||null),f=()=>{d.value={...i(),support_id:m.value,sender_type:"App\\Models\\User",sender_id:l.user?.id||null,message_type:"text",is_internal:!1};const v=Number(s.support?.status);c.value=Number.isFinite(v)&&v>0?v:1,u.value={}},g=async()=>{if(u.value={},!m.value){r.warning("Selecciona un ticket antes de registrar el mensaje");return}if(!l.user?.id){r.warning("No hay usuario autenticado para registrar el mensaje");return}try{const v={support_id:m.value,sender_type:d.value.sender_type||"App\\Models\\User",sender_id:d.value.sender_id||l.user.id,message_type:d.value.message_type,body:d.value.body,attachments:null,is_internal:d.value.is_internal,read_at:null};await a.create(v);let _=null;if(c.value&&Number(c.value)!==Number(s.support?.status)){const b={id:m.value,status:c.value};_=await n.update(b)}r.success("Mensaje enviado"),f(),o("saved",_)}catch(v){const _=v?.response?.data;v?.response?.status===422&&_?.errors?u.value=_.errors:r.danger("No se pudo guardar el mensaje")}};return watch(()=>s.support?.id,f,{immediate:!0}),(v,_)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$e,[_[12]||(_[12]=createBaseVNode("div",{class:"d-flex align-items-center gap-2 mb-3"},[createBaseVNode("i",{class:"bi bi-pencil-square"}),createBaseVNode("span",{class:"fw-semibold"},"Responder")],-1)),createBaseVNode("form",{onSubmit:withModifiers(g,["prevent"])},[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",_hoisted_4$c,[_[5]||(_[5]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportReplyStatus"},"Estado",-1)),withDirectives(createBaseVNode("select",{id:"supportReplyStatus","onUpdate:modelValue":_[0]||(_[0]=b=>c.value=b),class:"form-select"},[..._[4]||(_[4]=[createBaseVNode("option",{value:1},"Pendiente",-1),createBaseVNode("option",{value:2},"En atencion",-1),createBaseVNode("option",{value:3},"En espera usuario",-1),createBaseVNode("option",{value:4},"Cerrado",-1)])],512),[[vModelSelect,c.value]])]),createBaseVNode("div",_hoisted_5$c,[_[7]||(_[7]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportReplyType"},"Tipo",-1)),withDirectives(createBaseVNode("select",{id:"supportReplyType","onUpdate:modelValue":_[1]||(_[1]=b=>d.value.message_type=b),class:normalizeClass(["form-select",{"is-invalid":u.value.message_type}]),required:""},[..._[6]||(_[6]=[createBaseVNode("option",{value:"text"},"Texto",-1),createBaseVNode("option",{value:"note"},"Nota",-1),createBaseVNode("option",{value:"system"},"Sistema",-1)])],2),[[vModelSelect,d.value.message_type]]),u.value.message_type?(openBlock(),createElementBlock("div",_hoisted_6$c,toDisplayString(u.value.message_type[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$c,[_[9]||(_[9]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportReplyInternal"},"Interno",-1)),withDirectives(createBaseVNode("select",{id:"supportReplyInternal","onUpdate:modelValue":_[2]||(_[2]=b=>d.value.is_internal=b),class:normalizeClass(["form-select",{"is-invalid":u.value.is_internal}]),required:""},[..._[8]||(_[8]=[createBaseVNode("option",{value:!1},"No",-1),createBaseVNode("option",{value:!0},"Si",-1)])],2),[[vModelSelect,d.value.is_internal]]),u.value.is_internal?(openBlock(),createElementBlock("div",_hoisted_8$b,toDisplayString(u.value.is_internal[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$b,[_[10]||(_[10]=createBaseVNode("label",{class:"form-label fw-semibold",for:"supportReplyBody"},"Mensaje",-1)),withDirectives(createBaseVNode("textarea",{id:"supportReplyBody","onUpdate:modelValue":_[3]||(_[3]=b=>d.value.body=b),class:normalizeClass(["form-control",{"is-invalid":u.value.body}]),rows:"4",placeholder:"Escribe la respuesta",required:""},null,2),[[vModelText,d.value.body]]),u.value.body?(openBlock(),createElementBlock("div",_hoisted_10$b,toDisplayString(u.value.body[0]),1)):createCommentVNode("",!0)])]),_[11]||(_[11]=createBaseVNode("div",{class:"d-flex justify-content-end gap-2 mt-4"},[createBaseVNode("button",{type:"submit",class:"btn btn-primary"},"Enviar")],-1))],32)])]))}},_hoisted_1$e={class:"modal-dialog modal-xl modal-dialog-scrollable"},_hoisted_2$d={class:"modal-content"},_hoisted_3$d={class:"modal-header py-2"},_hoisted_4$b={class:"d-flex align-items-center gap-2 flex-wrap"},_hoisted_5$b={class:"modal-title mb-0",id:"supportMessagesModalLabel"},_hoisted_6$b={class:"modal-body p-0"},_hoisted_7$b={class:"px-3 pt-3"},_hoisted_8$a={key:0,class:"alert alert-info mb-3"},_hoisted_9$a={class:"row g-3 px-3 pb-3"},_hoisted_10$a={class:"col-lg-4"},_hoisted_11$8={class:"card border-0 shadow-sm"},_hoisted_12$4={class:"card-body"},_hoisted_13$4={class:"mb-2"},_hoisted_14$4={class:"fw-semibold"},_hoisted_15$3={class:"mb-2"},_hoisted_16$3={class:"d-flex gap-2 flex-wrap"},_hoisted_17$3={class:"badge bg-light text-dark border"},_hoisted_18$2={class:"badge bg-light text-dark border"},_hoisted_19$2={class:"mb-2"},_hoisted_20$2={class:"col-lg-8"},_sfc_main$g={__name:"index",setup(e,{expose:t}){const s=useSupportMessageStore(),o=useSupportStore(),a=useAuth(),n=useCountryStore(),r=ref(null);let l=null,i=null;const d=ref(null),c=computed(()=>{if(!d.value?.id)return"Ticket";const k=d.value?.subject?` - ${d.value.subject}`:"";return`Ticket #${d.value.id}${k}`}),u=computed(()=>{const k=d.value?.status||"";return{1:"Pendiente",2:"En atencion",3:"En espera usuario",4:"Cerrado"}[k]||k||""}),m=computed(()=>{const k=d.value?.priority||"";return{low:"Baja",medium:"Media",high:"Alta",urgent:"Urgente"}[k]||k||""}),f=computed(()=>Number(d.value?.status)===4),g=computed(()=>resolveUserTimezone(a.user,n)),v=k=>formatDateTime(k,g.value),_=async()=>{d.value?.id&&await s.get({support_id:d.value.id})},b=async k=>{d.value=k,l?.show(),await _()},S=()=>{l?.hide()},V=async(k=null)=>{if(k)d.value={...d.value,...k};else if(d.value?.id){const B=await o.show(d.value.id);B&&(d.value=B)}await _()};return t({open:b,close:S}),onMounted(()=>{r.value&&(l=new Modal(r.value),i=()=>{const k=document.activeElement;k instanceof HTMLElement&&r.value?.contains(k)&&k.blur()},r.value.addEventListener("hide.bs.modal",i))}),onBeforeUnmount(()=>{l&&(l.hide(),l=null),r.value&&i&&(r.value.removeEventListener("hide.bs.modal",i),i=null)}),(k,B)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:r,class:"modal fade",tabindex:"-1","aria-labelledby":"supportMessagesModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$b,[B[0]||(B[0]=createBaseVNode("span",{class:"text-muted"},"Mensajes",-1)),createBaseVNode("h5",_hoisted_5$b,toDisplayString(c.value),1)]),B[1]||(B[1]=createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),createBaseVNode("div",_hoisted_6$b,[createBaseVNode("div",_hoisted_7$b,[f.value?(openBlock(),createElementBlock("div",_hoisted_8$a," Este ticket esta cerrado. Puedes responder para reabrirlo. ")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$a,[createBaseVNode("div",_hoisted_10$a,[createBaseVNode("div",_hoisted_11$8,[createBaseVNode("div",_hoisted_12$4,[B[7]||(B[7]=createBaseVNode("h6",{class:"fw-semibold mb-3"},"Informacion del Ticket",-1)),createBaseVNode("div",_hoisted_13$4,[B[2]||(B[2]=createBaseVNode("div",{class:"text-muted small"},"Solicitante",-1)),createBaseVNode("div",_hoisted_14$4,"Usuario #"+toDisplayString(d.value?.opened_by_id||""),1),B[3]||(B[3]=createBaseVNode("span",{class:"badge bg-light text-dark border"},"Propietario",-1))]),createBaseVNode("div",_hoisted_15$3,[B[4]||(B[4]=createBaseVNode("div",{class:"text-muted small"},"Estado / Prioridad",-1)),createBaseVNode("div",_hoisted_16$3,[createBaseVNode("span",_hoisted_17$3,toDisplayString(u.value),1),createBaseVNode("span",_hoisted_18$2,toDisplayString(m.value),1)])]),createBaseVNode("div",_hoisted_19$2,[B[5]||(B[5]=createBaseVNode("div",{class:"text-muted small"},"Enviado",-1)),createBaseVNode("div",null,toDisplayString(v(d.value?.created_at)),1)]),createBaseVNode("div",null,[B[6]||(B[6]=createBaseVNode("div",{class:"text-muted small"},"Ultima actualizacion",-1)),createBaseVNode("div",null,toDisplayString(v(d.value?.last_message_at)),1)])])])]),createBaseVNode("div",_hoisted_20$2,[createVNode(_sfc_main$h,{support:d.value,onSaved:V},null,8,["support"]),createVNode(List,{class:"mt-3","support-id":d.value?.id,"opened-by-id":d.value?.opened_by_id},null,8,["support-id","opened-by-id"])])])]),createBaseVNode("div",{class:"modal-footer d-flex justify-content-end align-items-center py-1"},[createBaseVNode("div",{class:"d-flex gap-2"},[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:S},"Cerrar")])])])])],512))}},_hoisted_1$d={class:"p-3"},_hoisted_2$c={class:"card card-body"},_hoisted_3$c={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$f={__name:"index",setup(e){const t=useSupportStore(),s=useAuth(),o=ref(null),a=ref(null),n=ref({term:"",status:"",priority:""});onMounted(()=>{t.get()});const r=i=>{n.value=i},l=i=>{a.value?.open(i)};return(i,d)=>(openBlock(),createElementBlock("section",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$c,[d[1]||(d[1]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Tickets"),createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona los tickets de soporte.")],-1)),createBaseVNode("div",_hoisted_3$c,[createVNode(_sfc_main$l,{class:"mb-0 flex-shrink-0",onSearch:r}),unref(s).can("supports.create")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-primary",onClick:d[0]||(d[0]=c=>o.value?.openCreate())}," Nuevo ticket ")):createCommentVNode("",!0)]),createVNode(_sfc_main$k,{class:"mt-1",filters:n.value,onMessages:l},null,8,["filters"])]),createVNode(_sfc_main$j,{ref_key:"formRef",ref:o},null,512),createVNode(_sfc_main$g,{ref_key:"messagesRef",ref:a},null,512)]))}},_hoisted_1$c={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$e={__name:"Filter",emits:["search"],setup(e,{emit:t}){const s=t,o=ref(1),a=()=>s("search",{status:o.value});return(n,r)=>(openBlock(),createElementBlock("form",{class:"mb-0",onSubmit:withModifiers(a,["prevent"])},[createBaseVNode("div",_hoisted_1$c,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r[0]||(r[0]=l=>o.value=l),class:"form-select w-auto",onChange:a},[...r[1]||(r[1]=[createBaseVNode("option",{value:1},"Pendiente",-1),createBaseVNode("option",{value:2},"En atencion",-1),createBaseVNode("option",{value:3},"En espera usuario",-1),createBaseVNode("option",{value:4},"Cerrado",-1)])],544),[[vModelSelect,o.value]])])],32))}},_hoisted_1$b={class:"d-flex align-items-center gap-2"},_hoisted_2$b=["disabled","onClick"],_hoisted_3$b={class:"text-break"},_hoisted_4$a={class:"text-center"},_hoisted_5$a={class:"d-inline-flex align-items-center gap-2"},_hoisted_6$a=["onClick"],_hoisted_7$a={key:0},_sfc_main$d={__name:"List",props:{filters:{type:Object,default:()=>({status:1})},pageSize:{type:Number,default:10}},emits:["messages"],setup(e,{emit:t}){const s=t,o=e,a=useSupportStore(),{list:n}=storeToRefs(a),r=useAuth(),l=useCountryStore(),i=computed(()=>resolveUserTimezone(r.user,l)),d={1:"Pendiente",2:"En atencion",3:"En espera usuario",4:"Cerrado"},c={low:"Baja",medium:"Media",high:"Alta",urgent:"Urgente"},u={web:"Web",admin:"Admin",api:"API",email:"Email"},m=v=>formatDateTime(v,i.value),f=computed(()=>{const v=o.filters.status;return v!==""&&v!==null&&v!==void 0?n.value.filter(b=>Number(b.status)===Number(v)):n.value}),g=[{title:"Asunto",key:"subject"},{title:"Estado",key:"status"},{title:"Prioridad",key:"priority"},{title:"Canal",key:"channel"},{title:"Solicitante",key:"opened_by_id"},{title:"Ultimo mensaje",key:"last_message_at"},{title:"Acciones",key:"actions",sortable:!1,class:"text-center"}];return(v,_)=>(openBlock(),createBlock(Table,{items:f.value,headers:g,"default-sort":{key:"id",direction:"desc"},"page-length":e.pageSize,tag:"support-admin"},{actions:withCtx(({selected:b})=>[createBaseVNode("div",_hoisted_1$b,[unref(r).can("support-messages.view")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-info btn-sm",disabled:!b.item,onClick:S=>b.item&&s("messages",b.item)}," Mensajes ",8,_hoisted_2$b)):createCommentVNode("",!0)])]),body:withCtx(({item:b})=>[createBaseVNode("td",_hoisted_3$b,toDisplayString(b.subject),1),createBaseVNode("td",null,toDisplayString(d[b.status]||b.status||""),1),createBaseVNode("td",null,toDisplayString(c[b.priority]||b.priority||""),1),createBaseVNode("td",null,toDisplayString(u[b.channel]||b.channel||""),1),createBaseVNode("td",null,toDisplayString(b.opened_by_id?`Usuario #${b.opened_by_id}`:""),1),createBaseVNode("td",null,toDisplayString(m(b.last_message_at)),1),createBaseVNode("td",_hoisted_4$a,[createBaseVNode("div",_hoisted_5$a,[unref(r).can("support-messages.view")?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-info btn-sm",title:"Mensajes","aria-label":"Mensajes",onClick:S=>s("messages",b)},[..._[0]||(_[0]=[createBaseVNode("i",{class:"bi bi-chat-dots"},null,-1)])],8,_hoisted_6$a)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[f.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_7$a,[..._[1]||(_[1]=[createBaseVNode("td",{colspan:"7",class:"text-center text-muted"},"No hay tickets pendientes",-1)])]))]),_:1},8,["items","page-length"]))}},_hoisted_1$a={class:"p-3"},_hoisted_2$a={class:"card card-body"},_hoisted_3$a={class:"d-flex flex-column flex-md-row justify-content-end gap-2"},_sfc_main$c={__name:"index",setup(e){const t=useSupportStore(),s=ref(null),o=ref({status:1}),a=async(l=1)=>{await t.get({status:l,include_all:!0})};onMounted(()=>{a(o.value.status)});const n=l=>{o.value=l,a(l.status||1)},r=l=>{s.value?.open(l)};return(l,i)=>(openBlock(),createElementBlock("section",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$a,[i[0]||(i[0]=createBaseVNode("header",null,[createBaseVNode("h2",{class:"h5 mb-1"},"Administracion de Soporte"),createBaseVNode("p",{class:"text-muted mb-0"},"Tickets pendientes de atencion por el equipo.")],-1)),createBaseVNode("div",_hoisted_3$a,[createVNode(_sfc_main$e,{class:"mb-0 flex-shrink-0",onSearch:n})]),createVNode(_sfc_main$d,{class:"mt-1",filters:o.value,onMessages:r},null,8,["filters"])]),createVNode(_sfc_main$g,{ref_key:"messagesRef",ref:s},null,512)]))}},supportRoutes=[{path:"/tickets",name:"supports.index",meta:{requiresAuth:!0,permissions:["supports.view"]},component:_sfc_main$f},{path:"/support-administration",name:"support-administration.index",meta:{requiresAuth:!0,permissions:["support-administration.view"]},component:_sfc_main$c}],referralRegistrationConfig={alias:"referral-registrations",route:"/api/referral-registrations",hash:!1,sync:!1,store:!1,methods:null,hasKey:!0,key:"id",name:"id",maxRelationsResolve:1,relations:[],selectable:!1,default:{id:null,referrer_user_id:null,user_id:null,account_type:1,status:1,accepted_by_id:null,accepted_at:null,created_at:null,updated_at:null},params:{modeljs:!0},paginate:!1,pagination:{current_page:1,per_page:10}},ReferralRegistration=new Model(referralRegistrationConfig,api),createReferralRegistrationStore=(e=null,t=null,s=null)=>ReferralRegistration.getStore(e,t,s),extraState={},extraGetters={},extraActions={},useReferralRegistrationStore=defineStore(ReferralRegistration.alias,createReferralRegistrationStore(extraState,extraGetters,extraActions)),_hoisted_1$9={class:"d-flex align-items-center gap-2"},_hoisted_2$9=["disabled","onClick"],_hoisted_3$9=["disabled","onClick"],_hoisted_4$9={key:0},_hoisted_5$9={class:"text-center"},_hoisted_6$9={class:"d-inline-flex align-items-center gap-2"},_hoisted_7$9=["disabled","onClick"],_hoisted_8$9=["disabled","onClick"],_hoisted_9$9={key:0},_hoisted_10$9=["colspan"],_sfc_main$b={__name:"List",props:{items:{type:Array,default:()=>[]},showAccountType:{type:Boolean,default:!1}},emits:["accept","reject"],setup(e,{emit:t}){const s=e,o=t,a=useAuth(),n=useCountryStore(),r=computed(()=>resolveUserTimezone(a.user,n)),l={1:"Pendiente",2:"Aceptado",3:"Rechazado"},i={1:"Vendedor",2:"Distribuidor"},d=computed(()=>a.can("referrals.edit")),c=_=>o("accept",_),u=_=>o("reject",_),m=_=>formatDateTime(_,r.value),f=_=>{if(!_)return"";const b=_.user_name||"",S=_.user_email||"",V=_.user_username||"",k=_.user_id?`#${_.user_id}`:"",B=b||V||k;return S&&B?`${B} (${S})`:B||S||k||""},g=computed(()=>s.showAccountType?5:4),v=computed(()=>{const _=[{title:"Fecha",key:"created_at"},{title:"Usuario",key:"user",sortKey:b=>b.user_name||b.user_username||b.user_email||""}];return s.showAccountType&&_.push({title:"Tipo de cuenta",key:"account_type"}),_.push({title:"Estado",key:"status"}),_.push({title:"Acciones",key:"actions",sortable:!1,class:"text-center"}),_});return(_,b)=>(openBlock(),createBlock(Table,{items:s.items,headers:v.value,"default-sort":{key:"id",direction:"desc"},"page-length":10,tag:"referral-registration"},{actions:withCtx(({selected:S})=>[createBaseVNode("div",_hoisted_1$9,[d.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-success btn-sm",disabled:!S.item||Number(S.item.status)!==1,onClick:V=>S.item&&c(S.item)}," Aceptar ",8,_hoisted_2$9)):createCommentVNode("",!0),d.value?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:!S.item||Number(S.item.status)!==1,onClick:V=>S.item&&u(S.item)}," Rechazar ",8,_hoisted_3$9)):createCommentVNode("",!0)])]),body:withCtx(({item:S})=>[createBaseVNode("td",null,toDisplayString(m(S.created_at)),1),createBaseVNode("td",null,toDisplayString(f(S)),1),s.showAccountType?(openBlock(),createElementBlock("td",_hoisted_4$9,toDisplayString(i[S.account_type]||S.account_type),1)):createCommentVNode("",!0),createBaseVNode("td",null,toDisplayString(l[S.status]||S.status),1),createBaseVNode("td",_hoisted_5$9,[createBaseVNode("div",_hoisted_6$9,[d.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-success btn-sm",disabled:Number(S.status)!==1,title:"Aceptar","aria-label":"Aceptar",onClick:V=>c(S)},[...b[0]||(b[0]=[createBaseVNode("i",{class:"bi bi-check-lg"},null,-1)])],8,_hoisted_7$9)):createCommentVNode("",!0),d.value?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-outline-danger btn-sm",disabled:Number(S.status)!==1,title:"Rechazar","aria-label":"Rechazar",onClick:V=>u(S)},[...b[1]||(b[1]=[createBaseVNode("i",{class:"bi bi-x-lg"},null,-1)])],8,_hoisted_8$9)):createCommentVNode("",!0)])])]),footer:withCtx(()=>[s.items.length?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_9$9,[createBaseVNode("td",{colspan:g.value,class:"text-center text-muted"},"No hay registros de referidos",8,_hoisted_10$9)]))]),_:1},8,["items","headers"]))}},_hoisted_1$8={class:"p-3"},_hoisted_2$8={class:"card card-body"},_hoisted_3$8={class:"border rounded-3 p-3 mb-3"},_hoisted_4$8={class:"d-flex flex-column flex-md-row align-items-start justify-content-between gap-2 mb-2"},_hoisted_5$8={class:"d-flex align-items-center gap-2"},_hoisted_6$8=["value"],_hoisted_7$8={class:"d-flex flex-column flex-md-row align-items-start justify-content-between gap-2"},_hoisted_8$8={class:"flex-grow-1"},_hoisted_9$8={class:"d-flex align-items-center gap-2 flex-wrap"},_hoisted_10$8={class:"fw-semibold text-truncate"},_hoisted_11$7=["disabled"],accountType$1=2,_sfc_main$a={__name:"index",setup(e){const t=useReferralRegistrationStore(),s=useToast(),o=ref(""),a=ref(""),n=ref(""),r=[{value:"",label:"Todos"},{value:1,label:"Pendiente"},{value:2,label:"Aceptado"},{value:3,label:"Rechazado"}],l=computed(()=>t.list),i=computed(()=>o.value?l.value.filter(v=>Number(v.status)===Number(o.value)):l.value),d=async()=>{try{await t.get({account_type:accountType$1})}catch{s.danger("No se pudieron cargar los referidos")}},c=async()=>{try{const v=await api.get("/api/referrals/link");a.value=v.data?.referral_code||"",a.value&&typeof window<"u"?n.value=`${window.location.origin}/referrals/register/distributors/${a.value}`:n.value=""}catch(v){n.value="",v?.response?.status!==404&&s.danger("No se pudo cargar el enlace de referido")}},u=async()=>{if(n.value)try{await navigator.clipboard.writeText(n.value),s.success("Enlace copiado")}catch{s.danger("No se pudo copiar el enlace")}},m=async(v,_)=>{if(v?.id)try{await t.update({id:v.id,status:_,account_type:accountType$1}),s.success("Registro actualizado")}catch(b){const S=b?.response?.data;b?.response?.status===422&&S?.errors,s.danger("No se pudo actualizar el registro")}},f=v=>m(v,2),g=v=>m(v,3);return onMounted(()=>{d(),c()}),(v,_)=>(openBlock(),createElementBlock("section",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,[_[4]||(_[4]=createBaseVNode("div",{class:"d-flex flex-column flex-md-row align-items-start justify-content-between gap-3 mb-3"},[createBaseVNode("div",null,[createBaseVNode("h5",{class:"mb-1"},"Referidos - Distribuidor"),createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona registros de distribuidores desde tu enlace.")])],-1)),createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$8,[_[1]||(_[1]=createBaseVNode("div",{class:"text-uppercase small text-muted"},"Enlace de referido",-1)),createBaseVNode("div",_hoisted_5$8,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":_[0]||(_[0]=b=>o.value=b),class:"form-select search-box"},[(openBlock(),createElementBlock(Fragment,null,renderList(r,b=>createBaseVNode("option",{key:b.value,value:b.value},toDisplayString(b.label),9,_hoisted_6$8)),64))],512),[[vModelSelect,o.value]])])]),createBaseVNode("div",_hoisted_7$8,[createBaseVNode("div",_hoisted_8$8,[createBaseVNode("div",_hoisted_9$8,[createBaseVNode("div",_hoisted_10$8,toDisplayString(n.value||"Pendiente de generar"),1),createBaseVNode("button",{type:"button",class:"btn btn-outline-primary btn-sm",disabled:!n.value,"aria-label":"Copiar enlace",onClick:u},[..._[2]||(_[2]=[createBaseVNode("i",{class:"bi bi-copy"},null,-1)])],8,_hoisted_11$7)])])]),_[3]||(_[3]=createBaseVNode("div",{class:"text-muted small mt-2"}," Comparte este enlace para registrar distribuidores. ",-1))]),createVNode(_sfc_main$b,{items:i.value,"show-account-type":!1,onAccept:f,onReject:g},null,8,["items"])])]))}},_hoisted_1$7={class:"p-3"},_hoisted_2$7={class:"card card-body"},_hoisted_3$7={class:"border rounded-3 p-3 mb-3"},_hoisted_4$7={class:"d-flex flex-column flex-md-row align-items-start justify-content-between gap-2 mb-2"},_hoisted_5$7={class:"d-flex align-items-center gap-2"},_hoisted_6$7=["value"],_hoisted_7$7={class:"d-flex flex-column flex-md-row align-items-start justify-content-between gap-2"},_hoisted_8$7={class:"flex-grow-1"},_hoisted_9$7={class:"d-flex align-items-center gap-2 flex-wrap"},_hoisted_10$7={class:"fw-semibold text-truncate"},_hoisted_11$6=["disabled"],accountType=1,_sfc_main$9={__name:"index",setup(e){const t=useReferralRegistrationStore(),s=useToast(),o=ref(""),a=ref(""),n=ref(""),r=[{value:"",label:"Todos"},{value:1,label:"Pendiente"},{value:2,label:"Aceptado"},{value:3,label:"Rechazado"}],l=computed(()=>t.list),i=computed(()=>o.value?l.value.filter(v=>Number(v.status)===Number(o.value)):l.value),d=async()=>{try{await t.get({account_type:accountType})}catch{s.danger("No se pudieron cargar los referidos")}},c=async()=>{try{const v=await api.get("/api/referrals/link");a.value=v.data?.referral_code||"",a.value&&typeof window<"u"?n.value=`${window.location.origin}/referrals/register/providers/${a.value}`:n.value=""}catch(v){n.value="",v?.response?.status!==404&&s.danger("No se pudo cargar el enlace de referido")}},u=async()=>{if(n.value)try{await navigator.clipboard.writeText(n.value),s.success("Enlace copiado")}catch{s.danger("No se pudo copiar el enlace")}},m=async(v,_)=>{if(v?.id)try{await t.update({id:v.id,status:_,account_type:accountType}),s.success("Registro actualizado")}catch(b){const S=b?.response?.data;b?.response?.status===422&&S?.errors,s.danger("No se pudo actualizar el registro")}},f=v=>m(v,2),g=v=>m(v,3);return onMounted(()=>{d(),c()}),(v,_)=>(openBlock(),createElementBlock("section",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$7,[_[4]||(_[4]=createBaseVNode("div",{class:"d-flex flex-column flex-md-row align-items-start justify-content-between gap-3 mb-3"},[createBaseVNode("div",null,[createBaseVNode("h5",{class:"mb-1"},"Referidos - Proveedor"),createBaseVNode("p",{class:"text-muted mb-0"},"Gestiona registros de proveedores desde tu enlace.")])],-1)),createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$7,[_[1]||(_[1]=createBaseVNode("div",{class:"text-uppercase small text-muted"},"Enlace de referido",-1)),createBaseVNode("div",_hoisted_5$7,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":_[0]||(_[0]=b=>o.value=b),class:"form-select search-box"},[(openBlock(),createElementBlock(Fragment,null,renderList(r,b=>createBaseVNode("option",{key:b.value,value:b.value},toDisplayString(b.label),9,_hoisted_6$7)),64))],512),[[vModelSelect,o.value]])])]),createBaseVNode("div",_hoisted_7$7,[createBaseVNode("div",_hoisted_8$7,[createBaseVNode("div",_hoisted_9$7,[createBaseVNode("div",_hoisted_10$7,toDisplayString(n.value||"Pendiente de generar"),1),createBaseVNode("button",{type:"button",class:"btn btn-outline-primary btn-sm",disabled:!n.value,"aria-label":"Copiar enlace",onClick:u},[..._[2]||(_[2]=[createBaseVNode("i",{class:"bi bi-copy"},null,-1)])],8,_hoisted_11$6)])])]),_[3]||(_[3]=createBaseVNode("div",{class:"text-muted small mt-2"}," Comparte este enlace para registrar proveedores. ",-1))]),createVNode(_sfc_main$b,{items:i.value,"show-account-type":!1,onAccept:f,onReject:g},null,8,["items"])])]))}},referralRoutes=[{path:"/referrals/distributors",name:"referrals.distributors",component:_sfc_main$a,meta:{requiresAuth:!0,permissions:["referrals.distributors.view"]}},{path:"/referrals/providers",name:"referrals.providers",component:_sfc_main$9,meta:{requiresAuth:!0,permissions:["referrals.providers.view"]}}],adminRoutes=[...roleRoutes,...permissionRoutes,...userRoutes,...storeRoutes,...catalogRoutes,...walletRoutes,...validationRoutes,...supportRoutes,...referralRoutes],_hoisted_1$6={class:"d-flex flex-column gap-4"},_hoisted_2$6={class:"card shadow-sm"},_hoisted_3$6={class:"card-body"},_hoisted_4$6={key:0},_hoisted_5$6={key:1,class:"d-grid gap-2"},_hoisted_6$6={class:"ms-1"},_hoisted_7$6={class:"text-muted small"},_hoisted_8$6={class:"text-muted small"},_hoisted_9$6={key:0,class:"text-muted small"},_hoisted_10$6={key:1,class:"text-muted small"},_hoisted_11$5={class:"permission-badges"},_sfc_main$8={__name:"Dashboard",setup(e){const t=useAuth(),s=useCountryStore(),o=computed(()=>t.user?.roles?.map(i=>i.name)??[]),a=computed(()=>t.user?.permissions?.map(i=>i.name)??[]),n=computed(()=>t.user?.country_id||null),r=computed(()=>n.value?s.find(n.value)?.name||n.value:""),l=i=>i.endsWith(".view")||i.endsWith(".index")?"badge text-bg-success":i.endsWith(".create")||i.endsWith(".edit")?"badge badge-orange":i.endsWith(".delete")?"badge text-bg-danger":"badge text-bg-primary";return onMounted(async()=>{if(!t.user)try{await t.fetchUser()}catch{}if(n.value&&!s.find(n.value)?.id)try{await s.show(n.value)}catch{}}),(i,d)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$6,[d[2]||(d[2]=createBaseVNode("h4",{class:"mb-3"},"Dashboard",-1)),unref(t).user?(openBlock(),createElementBlock("div",_hoisted_5$6,[createBaseVNode("div",null,[d[0]||(d[0]=createBaseVNode("span",{class:"text-muted"},"Bienvenido,",-1)),createBaseVNode("strong",_hoisted_6$6,toDisplayString(unref(t).user.name),1)]),createBaseVNode("div",_hoisted_7$6,"Email: "+toDisplayString(unref(t).user.email),1),createBaseVNode("div",_hoisted_8$6,"Pas: "+toDisplayString(r.value),1),o.value?.length?(openBlock(),createElementBlock("div",_hoisted_9$6," Roles: "+toDisplayString(o.value.join(", ")),1)):createCommentVNode("",!0),a.value?.length?(openBlock(),createElementBlock("div",_hoisted_10$6,[d[1]||(d[1]=createBaseVNode("div",{class:"mb-1"},"Permisos:",-1)),createBaseVNode("div",_hoisted_11$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,c=>(openBlock(),createElementBlock("span",{key:c,class:normalizeClass(l(c))},toDisplayString(c),3))),128))])])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("p",_hoisted_4$6,"Cargando usuario..."))])]),d[3]||(d[3]=createStaticVNode('<div class="row g-3" data-v-e922d9f5><div class="col-sm-6 col-lg-4" data-v-e922d9f5><div class="card h-100 shadow-sm" data-v-e922d9f5><div class="card-body" data-v-e922d9f5><h6 class="card-title" data-v-e922d9f5>Reporte semanal</h6><p class="text-muted small mb-3" data-v-e922d9f5>Actividad de los ltimos 7 das.</p><div class="placeholder-glow" data-v-e922d9f5><span class="placeholder col-12 mb-2" data-v-e922d9f5></span><span class="placeholder col-10 mb-2" data-v-e922d9f5></span><span class="placeholder col-8" data-v-e922d9f5></span></div></div></div></div><div class="col-sm-6 col-lg-4" data-v-e922d9f5><div class="card h-100 shadow-sm" data-v-e922d9f5><div class="card-body" data-v-e922d9f5><h6 class="card-title" data-v-e922d9f5>Conversiones</h6><p class="display-6 fw-semibold mb-0" data-v-e922d9f5>1,234</p><p class="text-success small mb-0" data-v-e922d9f5>+8% vs. semana anterior</p></div></div></div><div class="col-sm-6 col-lg-4" data-v-e922d9f5><div class="card h-100 shadow-sm" data-v-e922d9f5><div class="card-body" data-v-e922d9f5><h6 class="card-title" data-v-e922d9f5>Tareas</h6><ul class="list-unstyled mb-0 small" data-v-e922d9f5><li data-v-e922d9f5> Revisar mtricas</li><li data-v-e922d9f5> Actualizar reportes</li><li data-v-e922d9f5> Lanzar nueva versin</li></ul></div></div></div></div><div class="card shadow-sm" data-v-e922d9f5><div class="card-body" data-v-e922d9f5><div class="d-flex justify-content-between align-items-center mb-3" data-v-e922d9f5><h6 class="mb-0" data-v-e922d9f5>Tabla de ejemplo</h6><button class="btn btn-sm btn-outline-secondary" type="button" data-v-e922d9f5>Exportar</button></div><div class="table-responsive" data-v-e922d9f5><table class="table table-sm table-hover align-middle mb-0" data-v-e922d9f5><thead data-v-e922d9f5><tr data-v-e922d9f5><th scope="col" data-v-e922d9f5>#</th><th scope="col" data-v-e922d9f5>Ttulo</th><th scope="col" data-v-e922d9f5>Estado</th><th scope="col" data-v-e922d9f5>Fecha</th></tr></thead><tbody data-v-e922d9f5><tr data-v-e922d9f5><th scope="row" data-v-e922d9f5>1</th><td data-v-e922d9f5>Reporte mensual</td><td data-v-e922d9f5><span class="badge text-bg-success" data-v-e922d9f5>Listo</span></td><td data-v-e922d9f5>02/12/2025</td></tr><tr data-v-e922d9f5><th scope="row" data-v-e922d9f5>2</th><td data-v-e922d9f5>Integracin API</td><td data-v-e922d9f5><span class="badge text-bg-warning" data-v-e922d9f5>En progreso</span></td><td data-v-e922d9f5>05/12/2025</td></tr><tr data-v-e922d9f5><th scope="row" data-v-e922d9f5>3</th><td data-v-e922d9f5>Auditora</td><td data-v-e922d9f5><span class="badge text-bg-secondary" data-v-e922d9f5>Pendiente</span></td><td data-v-e922d9f5>08/12/2025</td></tr></tbody></table></div></div></div>',2))]))}},Dashboard=_export_sfc(_sfc_main$8,[["__scopeId","data-v-e922d9f5"]]),_sfc_main$7={};function _sfc_render$1(e,t){return openBlock(),createElementBlock("div",null,[...t[0]||(t[0]=[createBaseVNode("h1",null,"Projects",-1),createBaseVNode("p",null,"Listado de proyectos (placeholder)",-1)])])}const ProjectsIndex=_export_sfc(_sfc_main$7,[["render",_sfc_render$1]]),_sfc_main$6={};function _sfc_render(e,t){return openBlock(),createElementBlock("div",null,[...t[0]||(t[0]=[createBaseVNode("h1",null,"Proyecto",-1),createBaseVNode("p",null,"Formulario de proyecto (placeholder)",-1)])])}const ProjectsForm=_export_sfc(_sfc_main$6,[["render",_sfc_render]]),_hoisted_1$5={class:"modal-dialog modal-xl modal-dialog-scrollable"},_hoisted_2$5={class:"modal-content"},_hoisted_3$5={class:"modal-body p-0"},_hoisted_4$5={class:"row g-4"},_hoisted_5$5={class:"col-12 col-lg-7"},_hoisted_6$5={class:"position-relative rounded overflow-hidden border mb-3"},_hoisted_7$5={class:"ratio ratio-21x9 bg-body-secondary"},_hoisted_8$5=["src","alt"],_hoisted_9$5={key:1,class:"d-flex align-items-center justify-content-center text-muted"},_hoisted_10$5={class:"d-flex flex-wrap gap-2 mb-2"},_hoisted_11$4={key:0,class:"text-muted small"},_hoisted_12$3={class:"h4 fw-bold mb-2"},_hoisted_13$3={class:"text-muted small mb-3"},_hoisted_14$3={class:"row g-2"},_hoisted_15$2={class:"border rounded p-3 h-100"},_hoisted_16$2={class:"text-muted small text-uppercase"},_hoisted_17$2={class:"fw-semibold"},_hoisted_18$1={class:"col-12 col-lg-5"},_hoisted_19$1={class:"border rounded p-3 mb-3"},_hoisted_20$1={class:"fs-2 fw-bold mt-2"},_hoisted_21$1={class:"text-muted small"},_hoisted_22$1={class:"border rounded p-3 bg-white text-dark"},_hoisted_23$1={class:"d-flex flex-column gap-3"},_hoisted_24$1={class:"fw-semibold"},_hoisted_25$1={class:"text-dark small opacity-75"},_hoisted_26$1={class:"text-dark small opacity-75"},_hoisted_27$1=["id"],_hoisted_28$1={class:"accordion-item"},_hoisted_29$1=["id"],_hoisted_30$1=["data-bs-target","aria-controls"],_hoisted_31$1=["id","aria-labelledby","data-bs-parent"],_hoisted_32$1={class:"accordion-body"},_hoisted_33$1={key:0},_hoisted_34={class:"mb-0 ps-3"},_hoisted_35={key:1,class:"mb-0"},_hoisted_36={key:2,class:"text-muted mb-0"},_hoisted_37={class:"accordion-item"},_hoisted_38=["id"],_hoisted_39=["data-bs-target","aria-controls"],_hoisted_40=["id","aria-labelledby","data-bs-parent"],_hoisted_41={class:"accordion-body"},_hoisted_42={key:0},_hoisted_43={class:"mb-0 ps-3"},_hoisted_44={key:1,class:"mb-0"},_hoisted_45={key:2,class:"text-muted mb-0"},_hoisted_46={key:0,class:"alert alert-warning mt-3 mb-0"},_hoisted_47={class:"modal-footer d-flex justify-content-end align-items-center"},_hoisted_48={class:"d-flex gap-2"},_hoisted_49=["disabled"],_sfc_main$5={__name:"PurchaseModal",props:{tagMap:{type:Object,default:()=>({})},currencyCode:{type:String,default:"USD"},currencySymbol:{type:String,default:""},exchangeRate:{type:Number,default:0}},setup(e,{expose:t}){const s=e,o=ref(null);let a=null,n=null;const r=useRouter(),l=useAuth(),i=useFileStore(),d=useOrderStore(),c=useToast(),u=ref(null),m=ref(!1),f=ref(!1),g=ref(!1),v=computed(()=>u.value),_=computed(()=>v.value?.name||"Producto"),b=computed(()=>v.value?.provider?.name||"Proveedor"),S={duration:"primary",quality:"success",account:"warning",promotion:"danger",provider:"info"},V=ie=>{if(!ie)return!1;const le=ie.replace("#","").trim();if(![3,6].includes(le.length))return!1;const fe=le.length===3?le.split("").map(ge=>ge+ge).join(""):le,he=parseInt(fe.slice(0,2),16),be=parseInt(fe.slice(2,4),16),ye=parseInt(fe.slice(4,6),16);return Number.isNaN(he)||Number.isNaN(be)||Number.isNaN(ye)?!1:(.2126*he+.7152*be+.0722*ye)/255>=.6},k=ie=>{const le=String(ie.color||"").trim();if(le)return{label:ie.name,badgeClass:V(le)?"text-dark":"text-white",badgeStyle:{backgroundColor:le}};const fe=S[ie.tag_type]||"secondary";return{label:ie.name,badgeClass:`text-bg-${fe}`,badgeStyle:null}},B=computed(()=>(Array.isArray(v.value?.tag_ids)?v.value.tag_ids:[]).map(le=>s.tagMap[Number(le)]).filter(Boolean).map(k)),O=computed(()=>Number(v.value?.base_price_usd||0)),M=computed(()=>Number(v.value?.published_price_usd??O.value)),R=computed(()=>s.currencyCode||"USD"),C=computed(()=>s.currencySymbol||""),w=computed(()=>Number(s.exchangeRate||0)),L=computed(()=>w.value?Number((M.value*w.value).toFixed(2)):M.value),y=computed(()=>j(M.value,"$","USD")),N=computed(()=>j(L.value,C.value,R.value)),E=computed(()=>!v.value?.is_unlimited_stock&&!Number(v.value?.available_stock||0)),$=computed(()=>E.value?"Agotado":"Comprar ahora"),H=computed(()=>E.value?"btn-danger":"btn-primary"),U=computed(()=>String(v.value?.description||"").trim()),P=computed(()=>U.value.split(`
`).map(ie=>ie.trim()).filter(Boolean)),Z=computed(()=>String(v.value?.buyer_description||"").trim()),ce=computed(()=>Z.value.split(`
`).map(ie=>ie.trim()).filter(Boolean)),ue=computed(()=>`purchase-${v.value?.id||"product"}`),G=computed(()=>`${ue.value}-accordion`),ee=computed(()=>`${ue.value}-description`),Q=computed(()=>`${ue.value}-conditions`),ae=computed(()=>{const ie=v.value?.delivery_mode;return ie==="automated"?"Entrega inmediata":ie==="manual"?"Entrega coordinada":"Entrega estandar"}),oe=computed(()=>{const ie=v.value?.access_type;return ie==="profile"?"Perfil":ie==="full_account"?"Cuenta completa":"No especificado"}),D=computed(()=>{const ie=v.value?.validity_days;return ie?`${ie} dias`:"Sin vigencia definida"}),z=computed(()=>v.value?.is_renewable?"Renovable":"No renovable"),J=computed(()=>[{label:"Entrega",value:ae.value},{label:"Acceso",value:oe.value},{label:"Vigencia",value:D.value},{label:"Renovacion",value:z.value}]),se=computed(()=>Number(l.user?.balances?.user_balance||0)),de=computed(()=>w.value?Number((se.value*w.value).toFixed(2)):se.value),A=computed(()=>Number((se.value-M.value).toFixed(2))),I=computed(()=>w.value?Number((A.value*w.value).toFixed(2)):A.value),F=computed(()=>j(se.value,"$","USD")),W=computed(()=>j(de.value,C.value,R.value)),Y=computed(()=>j(A.value,"$","USD")),q=computed(()=>j(I.value,C.value,R.value)),te=computed(()=>A.value<0?"text-danger":"text-success"),K=computed(()=>A.value<0),T=computed(()=>{const le=(Array.isArray(v.value?.file_ids)?v.value.file_ids:[])[0];return le&&i.find(le)?.url||""}),x=computed(()=>!!T.value&&!f.value),j=(ie,le,fe)=>{const he=Number(ie||0).toFixed(2);return le?`${le}${he}`:fe?`${fe} ${he}`:he},X=ie=>{u.value=ie||null,m.value=!1,f.value=!1,a?.show()},ne=()=>{a?.hide()},re=()=>{r.push({name:"wallets.my-recharges"})},pe=async()=>{if(g.value)return;if(!v.value?.id){c.warning("Selecciona un producto antes de comprar.");return}if(!l.user?.id){c.warning("Debes iniciar sesion para comprar.");return}if(E.value){c.warning("El producto esta agotado.");return}if(K.value){c.warning("No tienes saldo suficiente.");return}const ie=v.value?.provider_id||v.value?.provider?.id;if(!ie){c.warning("El producto no tiene proveedor asignado.");return}g.value=!0;try{const le={provider_id:ie,details:[{product_id:v.value.id,price_usd:O.value,quantity:1,validity_days:v.value?.validity_days||null}]};await d.create(le),await l.fetchUser(),c.success("Compra realizada con exito."),ne()}catch{c.danger("No se pudo crear la orden.")}finally{g.value=!1}},_e=()=>{m.value=!0},me=()=>{m.value=!0,f.value=!0};return t({open:X,close:ne}),onMounted(()=>{o.value&&(a=new Modal(o.value),n=()=>{const ie=document.activeElement;ie instanceof HTMLElement&&o.value?.contains(ie)&&ie.blur()},o.value.addEventListener("hide.bs.modal",n))}),onBeforeUnmount(()=>{a&&(a.hide(),a=null),o.value&&n&&(o.value.removeEventListener("hide.bs.modal",n),n=null)}),(ie,le)=>(openBlock(),createElementBlock("div",{ref_key:"modalEl",ref:o,class:"modal fade",tabindex:"-1","aria-labelledby":"purchaseModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("form",{class:"p-4",onSubmit:withModifiers(pe,["prevent"])},[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("div",_hoisted_5$5,[createBaseVNode("div",_hoisted_6$5,[createBaseVNode("div",_hoisted_7$5,[x.value?(openBlock(),createElementBlock("img",{key:0,src:T.value,alt:_.value,class:normalizeClass(["w-100 h-100 object-fit-cover opacity-75",{"opacity-0":!m.value}]),loading:"lazy",onLoad:_e,onError:me},null,42,_hoisted_8$5)):(openBlock(),createElementBlock("div",_hoisted_9$5,[...le[0]||(le[0]=[createBaseVNode("i",{class:"bi bi-image fs-3"},null,-1)])]))]),le[1]||(le[1]=createBaseVNode("div",{class:"position-absolute top-0 start-0 w-100 h-100 bg-dark opacity-25"},null,-1))]),createBaseVNode("div",_hoisted_10$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.value,fe=>(openBlock(),createElementBlock("span",{key:fe.label,class:normalizeClass(["badge rounded-pill",fe.badgeClass]),style:normalizeStyle(fe.badgeStyle)},toDisplayString(fe.label),7))),128)),B.value.length?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_11$4,"Sin etiquetas"))]),createBaseVNode("h2",_hoisted_12$3,toDisplayString(_.value),1),createBaseVNode("div",_hoisted_13$3,"Proporcionado por "+toDisplayString(b.value),1),le[2]||(le[2]=createBaseVNode("h6",{class:"fw-semibold mb-3"},"Detalles de compra",-1)),createBaseVNode("div",_hoisted_14$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(J.value,fe=>(openBlock(),createElementBlock("div",{key:fe.label,class:"col-12 col-md-6"},[createBaseVNode("div",_hoisted_15$2,[createBaseVNode("div",_hoisted_16$2,toDisplayString(fe.label),1),createBaseVNode("div",_hoisted_17$2,toDisplayString(fe.value),1)])]))),128))])]),createBaseVNode("div",_hoisted_18$1,[createBaseVNode("div",_hoisted_19$1,[le[3]||(le[3]=createBaseVNode("div",{class:"text-muted small text-uppercase"},"Resumen de pago",-1)),createBaseVNode("div",_hoisted_20$1,toDisplayString(y.value),1),createBaseVNode("div",_hoisted_21$1,toDisplayString(N.value),1)]),createBaseVNode("div",_hoisted_22$1,[createBaseVNode("div",_hoisted_23$1,[createBaseVNode("div",null,[le[4]||(le[4]=createBaseVNode("div",{class:"text-dark small opacity-75"},"Saldo actual",-1)),createBaseVNode("div",_hoisted_24$1,toDisplayString(F.value),1),createBaseVNode("div",_hoisted_25$1,toDisplayString(W.value),1)]),createBaseVNode("div",null,[le[5]||(le[5]=createBaseVNode("div",{class:"text-dark small opacity-75"},"Saldo despues de comprar",-1)),createBaseVNode("div",{class:normalizeClass(["fw-semibold",te.value])},toDisplayString(Y.value),3),createBaseVNode("div",_hoisted_26$1,toDisplayString(q.value),1)])])]),createBaseVNode("div",{class:"accordion mt-3",id:G.value},[createBaseVNode("div",_hoisted_28$1,[createBaseVNode("h2",{class:"accordion-header",id:`${ee.value}-heading`},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${ee.value}`,"aria-expanded":"false","aria-controls":ee.value}," Descripcin ",8,_hoisted_30$1)],8,_hoisted_29$1),createBaseVNode("div",{id:ee.value,class:"accordion-collapse collapse","aria-labelledby":`${ee.value}-heading`,"data-bs-parent":`#${G.value}`},[createBaseVNode("div",_hoisted_32$1,[P.value.length>1?(openBlock(),createElementBlock("div",_hoisted_33$1,[createBaseVNode("ul",_hoisted_34,[(openBlock(!0),createElementBlock(Fragment,null,renderList(P.value,(fe,he)=>(openBlock(),createElementBlock("li",{key:`desc-${he}`},toDisplayString(fe),1))),128))])])):P.value.length===1?(openBlock(),createElementBlock("p",_hoisted_35,toDisplayString(P.value[0]),1)):(openBlock(),createElementBlock("p",_hoisted_36,"Sin descripcin registrada."))])],8,_hoisted_31$1)]),createBaseVNode("div",_hoisted_37,[createBaseVNode("h2",{class:"accordion-header",id:`${Q.value}-heading`},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${Q.value}`,"aria-expanded":"false","aria-controls":Q.value}," Condiciones de compra ",8,_hoisted_39)],8,_hoisted_38),createBaseVNode("div",{id:Q.value,class:"accordion-collapse collapse","aria-labelledby":`${Q.value}-heading`,"data-bs-parent":`#${G.value}`},[createBaseVNode("div",_hoisted_41,[ce.value.length>1?(openBlock(),createElementBlock("div",_hoisted_42,[createBaseVNode("ul",_hoisted_43,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ce.value,(fe,he)=>(openBlock(),createElementBlock("li",{key:`cond-${he}`},toDisplayString(fe),1))),128))])])):ce.value.length===1?(openBlock(),createElementBlock("p",_hoisted_44,toDisplayString(ce.value[0]),1)):(openBlock(),createElementBlock("p",_hoisted_45,"Sin condiciones registradas."))])],8,_hoisted_40)])],8,_hoisted_27$1),K.value?(openBlock(),createElementBlock("div",_hoisted_46,[le[6]||(le[6]=createBaseVNode("div",{class:"fw-semibold"},"Saldo insuficiente.",-1)),createBaseVNode("button",{type:"button",class:"btn btn-warning w-100 mt-2",onClick:re}," Recargar saldo ")])):createCommentVNode("",!0)])])],32)]),createBaseVNode("div",_hoisted_47,[createBaseVNode("div",_hoisted_48,[createBaseVNode("button",{type:"button",class:"btn btn-outline-secondary",onClick:ne},"Cancelar"),E.value?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(["btn",H.value]),disabled:""},toDisplayString($.value),3)):K.value?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-warning",onClick:re}," Ir a recargar ")):(openBlock(),createElementBlock("button",{key:2,type:"button",class:normalizeClass(["btn",H.value]),disabled:g.value,onClick:pe},toDisplayString($.value),11,_hoisted_49))])])])])],512))}},_hoisted_1$4={class:"container"},_hoisted_2$4={class:"home-flyer bg-body-secondary rounded overflow-hidden"},_hoisted_3$4={class:"carousel-indicators"},_hoisted_4$4=["data-bs-target","data-bs-slide-to","aria-current","aria-label"],_hoisted_5$4={class:"carousel-inner h-100"},_hoisted_6$4={class:"flyer-frame"},_hoisted_7$4=["src"],_hoisted_8$4=["src","alt"],_hoisted_9$4=["data-bs-target"],_hoisted_10$4=["data-bs-target"],_hoisted_11$3={key:1,class:"flyer-frame"},_hoisted_12$2=["src"],_hoisted_13$2=["src","alt"],_hoisted_14$2={key:2,class:"d-flex align-items-center justify-content-center h-100"},carouselId="home-flyer-carousel",_sfc_main$4={__name:"HomeFlyer",setup(e){const t=useBannerStore(),{list:s}=storeToRefs(t),o=()=>{const c=new Date;return c.setHours(0,0,0,0),c},a=c=>{if(!c)return null;const u=String(c).split("T")[0].split(" ")[0],m=new Date(`${u}T00:00:00`);return Number.isNaN(m.getTime())?null:m},n=c=>{if(!c?.is_active)return!1;const u=o(),m=a(c.start_date),f=a(c.end_date);return!(m&&u<m||f&&u>f)},r=c=>{const u=Array.isArray(c?.files)?c.files:[];return u.find(m=>m.is_active)||u[0]||null},l=computed(()=>(s.value||[]).map(c=>{const u=r(c);return{...c,imageUrl:u?resolveFileUrl(u):"",isCurrentlyActive:n(c)}}).filter(c=>!!c.imageUrl).sort((c,u)=>Number(u.isCurrentlyActive)-Number(c.isCurrentlyActive))),i=computed(()=>l.value.length>1),d=computed(()=>l.value[0]||null);return onMounted(()=>{t.get({with:["files"]})}),(c,u)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[i.value?(openBlock(),createElementBlock("div",{key:0,id:carouselId,class:"carousel slide w-100 h-100","data-bs-ride":"carousel"},[createBaseVNode("div",_hoisted_3$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(m,f)=>(openBlock(),createElementBlock("button",{key:m.id,type:"button","data-bs-target":`#${carouselId}`,"data-bs-slide-to":f,class:normalizeClass({active:f===0}),"aria-current":f===0?"true":"false","aria-label":`Slide ${f+1}`},null,10,_hoisted_4$4))),128))]),createBaseVNode("div",_hoisted_5$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(m,f)=>(openBlock(),createElementBlock("div",{key:m.id,class:normalizeClass(["carousel-item","h-100",{active:f===0}])},[createBaseVNode("div",_hoisted_6$4,[createBaseVNode("img",{src:m.imageUrl,alt:"",class:"flyer-bg","aria-hidden":"true"},null,8,_hoisted_7$4),createBaseVNode("img",{src:m.imageUrl,alt:m.description||"Banner publicitario",class:"flyer-image"},null,8,_hoisted_8$4)])],2))),128))]),createBaseVNode("button",{class:"carousel-control-prev",type:"button","data-bs-target":`#${carouselId}`,"data-bs-slide":"prev"},[...u[0]||(u[0]=[createBaseVNode("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),createBaseVNode("span",{class:"visually-hidden"},"Anterior",-1)])],8,_hoisted_9$4),createBaseVNode("button",{class:"carousel-control-next",type:"button","data-bs-target":`#${carouselId}`,"data-bs-slide":"next"},[...u[1]||(u[1]=[createBaseVNode("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),createBaseVNode("span",{class:"visually-hidden"},"Siguiente",-1)])],8,_hoisted_10$4)])):d.value?(openBlock(),createElementBlock("div",_hoisted_11$3,[createBaseVNode("img",{src:d.value.imageUrl,alt:"",class:"flyer-bg","aria-hidden":"true"},null,8,_hoisted_12$2),createBaseVNode("img",{src:d.value.imageUrl,alt:d.value.description||"Banner publicitario",class:"flyer-image"},null,8,_hoisted_13$2)])):(openBlock(),createElementBlock("div",_hoisted_14$2,[...u[2]||(u[2]=[createBaseVNode("span",{class:"text-muted"},"Sin promociones activas",-1)])]))])]))}},HomeFlyer=_export_sfc(_sfc_main$4,[["__scopeId","data-v-07343a69"]]),_hoisted_1$3={class:"bg-body-tertiary min-vh-100"},_hoisted_2$3={class:"sticky-top bg-body border-bottom shadow-sm"},_hoisted_3$3={class:"container"},_hoisted_4$3={class:"d-flex flex-column flex-xl-row align-items-xl-center gap-3 py-3"},_hoisted_5$3={class:"fs-5 text-body"},_hoisted_6$3={class:"d-flex flex-wrap align-items-center gap-3 ms-xl-auto"},_hoisted_7$3={class:"d-flex align-items-center gap-2"},_hoisted_8$3={class:"fw-semibold small"},_hoisted_9$3={class:"d-flex align-items-center gap-2"},_hoisted_10$3={class:"bg-body border-bottom"},_hoisted_11$2={class:"container py-3"},_hoisted_12$1={class:"d-flex flex-wrap gap-3 fw-semibold small"},_hoisted_13$1={class:"d-flex flex-wrap gap-2 mt-2"},_hoisted_14$1={class:"py-4"},_hoisted_15$1={class:"pb-5"},_hoisted_16$1={class:"container"},_hoisted_17$1={class:"row row-cols-1 row-cols-sm-2 row-cols-xl-4 g-4"},_sfc_main$3={__name:"StoreFront",setup(e){const t=useRouter(),s=useAuth(),o=useProductStore(),a=useTagStore(),n=useFileStore(),r=useCountryStore(),l="ProdTemplate",i=ref(null),d=computed(()=>!!s.user),c=computed(()=>s.user?.roles?.map($=>$.name)??[]),u=computed(()=>c.value.includes("admin")),m=computed(()=>c.value.includes("provider")),f=computed(()=>c.value.includes("distributor")),g=computed(()=>c.value.includes("validator")),v=computed(()=>d.value&&(f.value||u.value)),_=computed(()=>`$${Number(s.user?.balances?.user_balance||0).toFixed(2)}`),b=computed(()=>s.user?.country_id||null),S=computed(()=>{const $=Number(b.value||0);if(!$)return null;const H=r.find($);return H?.id?H:null}),V=computed(()=>S.value?.currency_code||"USD"),k=computed(()=>S.value?.currency_symbol||""),B=computed(()=>Number(S.value?.rate_usd_to_local||0)),O=["Software","HBO Max","Netflix","Prime Video","ChatGPT","Disney","Gemini","Busca Personas","Crunchyroll","Directv Go","Drambox","Viki Rakuten"],M=["Estreno","Mas vendidos","Licencias","Cuentas","Renovables","Por temporada","Exclusivos"],R=computed(()=>o.list||[]),C=computed(()=>{const $={};return a.list.forEach(H=>{$[Number(H.id)]=H}),$}),w=async()=>{if(R.value.length)try{const $=Array.from(new Set(R.value.flatMap(H=>Array.isArray(H.file_ids)?H.file_ids:[])));if(!$.length)return;await n.get({ids:$.join(","),is_active:!0})}catch{}},L=async()=>{if(b.value&&!r.find(b.value)?.id)try{await r.show(b.value)}catch{}};onMounted(async()=>{await o.get(),await L()});const y=computed(()=>R.value.map($=>{const H=Array.isArray($.file_ids)?$.file_ids.join("-"):"";return`${$.id}:${H}`}).join("|"));watch(()=>y.value,()=>{w()},{immediate:!0}),watch(()=>b.value,()=>{L()},{immediate:!0});const N=async()=>{await s.logout(),t.push({name:"store.front"})},E=$=>{i.value?.open($)};return($,H)=>{const U=resolveComponent("RouterLink");return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("header",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$3,[createVNode(U,{to:"/",class:"text-decoration-none fw-semibold d-flex align-items-center gap-2"},{default:withCtx(()=>[H[0]||(H[0]=createBaseVNode("i",{class:"bi bi-star-fill text-warning fs-3"},null,-1)),createBaseVNode("span",_hoisted_5$3,toDisplayString(unref(l)),1)]),_:1}),H[8]||(H[8]=createStaticVNode('<div class="flex-grow-1"><div class="input-group"><span class="input-group-text bg-body"><i class="bi bi-search"></i></span><input class="form-control" type="search" placeholder="Que estas buscando?"></div></div>',1)),createBaseVNode("div",_hoisted_6$3,[d.value?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_7$3,[H[2]||(H[2]=createBaseVNode("i",{class:"bi bi-person-circle fs-5"},null,-1)),createBaseVNode("span",_hoisted_8$3,toDisplayString(unref(s).user?.name||"Usuario"),1)]),createVNode(U,{class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",to:"/wallets/transactions"},{default:withCtx(()=>[H[3]||(H[3]=createBaseVNode("i",{class:"bi bi-wallet2"},null,-1)),createBaseVNode("span",null,"Mi billetera ("+toDisplayString(_.value)+")",1)]),_:1}),f.value||u.value?(openBlock(),createBlock(U,{key:0,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",to:"/wallets/my-orders"},{default:withCtx(()=>[...H[4]||(H[4]=[createBaseVNode("i",{class:"bi bi-bag"},null,-1),createBaseVNode("span",null,"Mis compras",-1)])]),_:1})):createCommentVNode("",!0),m.value||u.value?(openBlock(),createBlock(U,{key:1,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",to:"/products"},{default:withCtx(()=>[...H[5]||(H[5]=[createBaseVNode("i",{class:"bi bi-box-seam"},null,-1),createBaseVNode("span",null,"Mis productos",-1)])]),_:1})):createCommentVNode("",!0),g.value||u.value?(openBlock(),createBlock(U,{key:2,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",to:"/validations/my-validations"},{default:withCtx(()=>[...H[6]||(H[6]=[createBaseVNode("i",{class:"bi bi-check2-square"},null,-1),createBaseVNode("span",null,"Mis validaciones",-1)])]),_:1})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$3,[createVNode(AlertCenter)]),createBaseVNode("button",{class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",type:"button",onClick:N},[...H[7]||(H[7]=[createBaseVNode("i",{class:"bi bi-box-arrow-right"},null,-1),createBaseVNode("span",null,"Cerrar sesion",-1)])])],64)):(openBlock(),createBlock(U,{key:0,class:"btn btn-outline-primary btn-sm",to:"/login"},{default:withCtx(()=>[...H[1]||(H[1]=[createTextVNode("Iniciar sesion",-1)])]),_:1}))])])])]),createBaseVNode("section",_hoisted_10$3,[createBaseVNode("div",_hoisted_11$2,[createBaseVNode("div",_hoisted_12$1,[(openBlock(),createElementBlock(Fragment,null,renderList(O,P=>createBaseVNode("span",{key:P},toDisplayString(P),1)),64))]),createBaseVNode("div",_hoisted_13$1,[(openBlock(),createElementBlock(Fragment,null,renderList(M,P=>createBaseVNode("span",{key:P,class:"badge rounded-pill text-bg-light border"},toDisplayString(P),1)),64))])])]),createBaseVNode("section",_hoisted_14$1,[createVNode(HomeFlyer)]),createBaseVNode("section",_hoisted_15$1,[createBaseVNode("div",_hoisted_16$1,[H[9]||(H[9]=createBaseVNode("div",{class:"d-flex align-items-center justify-content-between mb-3"},[createBaseVNode("h2",{class:"h5 mb-0"},"Productos destacados"),createBaseVNode("button",{class:"btn btn-outline-secondary btn-sm"},"Ver todo")],-1)),createBaseVNode("div",_hoisted_17$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(R.value,P=>(openBlock(),createElementBlock("div",{key:P.id,class:"col"},[createVNode(_sfc_main$16,{product:P,"tag-map":C.value,"show-add-button":v.value,"currency-code":V.value,"currency-symbol":k.value,"exchange-rate":B.value,onBuy:E},null,8,["product","tag-map","show-add-button","currency-code","currency-symbol","exchange-rate"])]))),128))])])]),createVNode(_sfc_main$5,{ref_key:"purchaseModalRef",ref:i,"tag-map":C.value,"currency-code":V.value,"currency-symbol":k.value,"exchange-rate":B.value},null,8,["tag-map","currency-code","currency-symbol","exchange-rate"])])}}},_hoisted_1$2={class:"container py-4"},_hoisted_2$2={class:"row g-4"},_hoisted_3$2={class:"col-md-3"},_hoisted_4$2={class:"list-group"},_hoisted_5$2={class:"col-md-9"},_hoisted_6$2={class:"mb-4"},_hoisted_7$2={class:"mb-3"},_hoisted_8$2={key:0,class:"text-danger small mt-1"},_hoisted_9$2={class:"mb-3"},_hoisted_10$2={key:0,class:"text-danger small mt-1"},_sfc_main$2={__name:"Profile",setup(e){const t=useAuth(),s=useToast(),o=ref({name:"",email:""}),a=ref({});watch(()=>t.user,l=>{l&&(o.value.name=l.name||"",o.value.email=l.email||"")},{immediate:!0});const n=()=>s.info("An no implementado"),r=async()=>{a.value={};try{await t.updateProfile(o.value),s.success("Perfil actualizado")}catch(l){const i=l?.response?.data;l?.response?.status===422&&i?.errors?a.value=i.errors:s.danger("No se pudo actualizar el perfil")}};return(l,i)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[i[13]||(i[13]=createBaseVNode("nav",{class:"mb-3 text-muted small"},[createBaseVNode("span",null,"Configuracin"),createTextVNode(" / "),createBaseVNode("span",{class:"text-dark fw-semibold"},"Perfil")],-1)),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createVNode(unref(RouterLink),{to:"/settings/profile",class:"list-group-item list-group-item-action active"},{default:withCtx(()=>[...i[2]||(i[2]=[createTextVNode("Perfil",-1)])]),_:1}),createVNode(unref(RouterLink),{to:"/settings/password",class:"list-group-item list-group-item-action"},{default:withCtx(()=>[...i[3]||(i[3]=[createTextVNode("Contrasea",-1)])]),_:1}),createBaseVNode("button",{type:"button",class:"list-group-item list-group-item-action",onClick:n},"Autenticacin en dos pasos")])]),createBaseVNode("div",_hoisted_5$2,[createBaseVNode("section",_hoisted_6$2,[i[7]||(i[7]=createBaseVNode("h2",{class:"h4"},"Informacin del perfil",-1)),i[8]||(i[8]=createBaseVNode("p",{class:"text-muted"},"Actualiza tu nombre y correo electrnico",-1)),createBaseVNode("form",{class:"card card-body shadow-sm border-0",onSubmit:withModifiers(r,["prevent"])},[createBaseVNode("div",_hoisted_7$2,[i[4]||(i[4]=createBaseVNode("label",{class:"form-label fw-semibold",for:"profileName"},"Nombre",-1)),withDirectives(createBaseVNode("input",{id:"profileName",type:"text",class:normalizeClass(["form-control",{"is-invalid":a.value.name}]),placeholder:"Tu nombre","onUpdate:modelValue":i[0]||(i[0]=d=>o.value.name=d)},null,2),[[vModelText,o.value.name]]),a.value.name?(openBlock(),createElementBlock("div",_hoisted_8$2,toDisplayString(a.value.name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$2,[i[5]||(i[5]=createBaseVNode("label",{class:"form-label fw-semibold",for:"profileEmail"},"Correo electrnico",-1)),withDirectives(createBaseVNode("input",{id:"profileEmail",type:"email",class:normalizeClass(["form-control",{"is-invalid":a.value.email}]),placeholder:"tu@correo.com","onUpdate:modelValue":i[1]||(i[1]=d=>o.value.email=d)},null,2),[[vModelText,o.value.email]]),a.value.email?(openBlock(),createElementBlock("div",_hoisted_10$2,toDisplayString(a.value.email[0]),1)):createCommentVNode("",!0)]),i[6]||(i[6]=createBaseVNode("button",{type:"submit",class:"btn btn-primary"},"Guardar",-1))],32)]),createBaseVNode("section",null,[i[11]||(i[11]=createBaseVNode("h3",{class:"h5 text-danger"},"Eliminar cuenta",-1)),i[12]||(i[12]=createBaseVNode("p",{class:"text-muted"},"Elimina tu cuenta y todos sus datos",-1)),createBaseVNode("div",{class:"alert alert-warning d-flex flex-column gap-2 mb-0"},[i[9]||(i[9]=createBaseVNode("div",{class:"fw-semibold"},"Advertencia",-1)),i[10]||(i[10]=createBaseVNode("div",{class:"text-muted"},"Procede con precaucin, esta accin no se puede deshacer.",-1)),createBaseVNode("div",null,[createBaseVNode("button",{type:"button",class:"btn btn-outline-danger",onClick:n},"Eliminar cuenta")])])])])])]))}},_hoisted_1$1={class:"container py-4"},_hoisted_2$1={class:"row g-4"},_hoisted_3$1={class:"col-md-3"},_hoisted_4$1={class:"list-group"},_hoisted_5$1={class:"col-md-9"},_hoisted_6$1={class:"mb-3"},_hoisted_7$1={key:0,class:"text-danger small mt-1"},_hoisted_8$1={class:"mb-3"},_hoisted_9$1={key:0,class:"text-danger small mt-1"},_hoisted_10$1={class:"mb-3"},_hoisted_11$1={key:0,class:"text-danger small mt-1"},_sfc_main$1={__name:"Password",setup(e){const t=useAuth(),s=useToast(),o=ref({current_password:"",password:"",password_confirmation:""}),a=ref({}),n=()=>s.info("An no implementado"),r=async()=>{a.value={};try{await t.updatePassword(o.value),s.success("Contrasea actualizada"),o.value={current_password:"",password:"",password_confirmation:""}}catch(l){const i=l?.response?.data;l?.response?.status===422&&i?.errors?a.value=i.errors:s.danger("No se pudo actualizar la contrasea")}};return(l,i)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[i[11]||(i[11]=createBaseVNode("nav",{class:"mb-3 text-muted small"},[createBaseVNode("span",null,"Configuracin"),createTextVNode(" / "),createBaseVNode("span",{class:"text-dark fw-semibold"},"Contrasea")],-1)),createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[createVNode(unref(RouterLink),{to:"/settings/profile",class:"list-group-item list-group-item-action"},{default:withCtx(()=>[...i[3]||(i[3]=[createTextVNode("Perfil",-1)])]),_:1}),createVNode(unref(RouterLink),{to:"/settings/password",class:"list-group-item list-group-item-action active"},{default:withCtx(()=>[...i[4]||(i[4]=[createTextVNode("Contrasea",-1)])]),_:1}),createBaseVNode("button",{type:"button",class:"list-group-item list-group-item-action",onClick:n},"Autenticacin en dos pasos")])]),createBaseVNode("div",_hoisted_5$1,[createBaseVNode("section",null,[i[9]||(i[9]=createBaseVNode("h2",{class:"h4"},"Actualizar contrasea",-1)),i[10]||(i[10]=createBaseVNode("p",{class:"text-muted"},"Usa una contrasea larga y segura para proteger tu cuenta",-1)),createBaseVNode("form",{class:"card card-body shadow-sm border-0",onSubmit:withModifiers(r,["prevent"])},[createBaseVNode("div",_hoisted_6$1,[i[5]||(i[5]=createBaseVNode("label",{class:"form-label fw-semibold",for:"currentPassword"},"Contrasea actual",-1)),withDirectives(createBaseVNode("input",{id:"currentPassword","onUpdate:modelValue":i[0]||(i[0]=d=>o.value.current_password=d),type:"password",class:normalizeClass(["form-control",{"is-invalid":a.value.current_password}]),placeholder:"Contrasea actual"},null,2),[[vModelText,o.value.current_password]]),a.value.current_password?(openBlock(),createElementBlock("div",_hoisted_7$1,toDisplayString(a.value.current_password[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$1,[i[6]||(i[6]=createBaseVNode("label",{class:"form-label fw-semibold",for:"newPassword"},"Nueva contrasea",-1)),withDirectives(createBaseVNode("input",{id:"newPassword","onUpdate:modelValue":i[1]||(i[1]=d=>o.value.password=d),type:"password",class:normalizeClass(["form-control",{"is-invalid":a.value.password}]),placeholder:"Nueva contrasea"},null,2),[[vModelText,o.value.password]]),a.value.password?(openBlock(),createElementBlock("div",_hoisted_9$1,toDisplayString(a.value.password[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_10$1,[i[7]||(i[7]=createBaseVNode("label",{class:"form-label fw-semibold",for:"confirmPassword"},"Confirmar contrasea",-1)),withDirectives(createBaseVNode("input",{id:"confirmPassword","onUpdate:modelValue":i[2]||(i[2]=d=>o.value.password_confirmation=d),type:"password",class:normalizeClass(["form-control",{"is-invalid":a.value.password_confirmation}]),placeholder:"Confirmar contrasea"},null,2),[[vModelText,o.value.password_confirmation]]),a.value.password_confirmation?(openBlock(),createElementBlock("div",_hoisted_11$1,toDisplayString(a.value.password_confirmation[0]),1)):createCommentVNode("",!0)]),i[8]||(i[8]=createBaseVNode("button",{type:"submit",class:"btn btn-primary"},"Guardar contrasea",-1))],32)])])])]))}},_hoisted_1={class:"min-vh-100 bg-light d-flex align-items-center py-5"},_hoisted_2={class:"container"},_hoisted_3={class:"row justify-content-center"},_hoisted_4={class:"col-12 col-lg-6"},_hoisted_5={key:0,class:"text-center text-muted py-5"},_hoisted_6={key:1,class:"text-center text-muted py-5"},_hoisted_7={key:2,class:"card shadow-sm border-0"},_hoisted_8={class:"card-body p-4 text-center"},_hoisted_9={class:"mb-2"},_hoisted_10={key:3,class:"card shadow-sm border-0"},_hoisted_11={class:"card-body p-4"},_hoisted_12={class:"text-center mb-4"},_hoisted_13={class:"mb-1"},_hoisted_14={class:"text-muted mb-0"},_hoisted_15={class:"row g-3"},_hoisted_16={class:"col-12"},_hoisted_17={key:0,class:"text-danger small mt-1"},_hoisted_18={class:"col-12"},_hoisted_19={key:0,class:"text-danger small mt-1"},_hoisted_20={class:"col-12"},_hoisted_21={key:0,class:"text-danger small mt-1"},_hoisted_22={class:"col-12"},_hoisted_23={key:0,class:"text-danger small mt-1"},_hoisted_24={class:"col-12"},_hoisted_25={class:"col-12"},_hoisted_26={key:0,class:"text-danger small mt-1"},_hoisted_27={class:"col-12"},_hoisted_28=["value"],_hoisted_29={key:0,class:"text-danger small mt-1"},_hoisted_30={class:"col-12"},_hoisted_31={key:0,class:"text-danger small mt-1"},_hoisted_32={class:"d-grid mt-4"},_hoisted_33=["disabled"],_sfc_main={__name:"Register",setup(e){const t=useRoute(),s=useToast(),o=useCountryStore(),{list:a}=storeToRefs(o),n=ref({}),r=ref(!1),l=ref(!0),i=ref(!1),d=ref(!1),c=ref({email:"",username:"",full_name:"",password:"",password_confirmation:"",phone_number:"",country_id:null,referral_code:""}),u=computed(()=>Number(t.meta.accountType||0)),m=computed(()=>u.value===2?"/api/referrals/register/distributors":"/api/referrals/register/providers"),f=computed(()=>u.value===2?"distribuidor":"proveedor"),g=computed(()=>`Crear cuenta de ${f.value}`),v=()=>{c.value.referral_code=String(t.params.code||"")},_=async()=>{l.value=!0,i.value=!1;const S=String(c.value.referral_code||"");if(!S){l.value=!1;return}try{await api.get(`/api/referrals/validate/${S}`),i.value=!0}catch{i.value=!1}finally{l.value=!1}},b=async()=>{n.value={},r.value=!0;try{await api.post(m.value,c.value),s.success("Registro enviado. Espera la aprobacion y comunicate con el referido para la confirmacion."),d.value=!0,c.value.password="",c.value.password_confirmation=""}catch(S){const V=S?.response?.data;S?.response?.status===422&&V?.errors?n.value=V.errors:s.danger("No se pudo completar el registro")}finally{r.value=!1}};return onMounted(()=>{v(),_(),o.get({is_active:!0})}),(S,V)=>{const k=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[l.value?(openBlock(),createElementBlock("div",_hoisted_5," Validando enlace... ")):i.value?d.value?(openBlock(),createElementBlock("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createBaseVNode("h4",_hoisted_9,toDisplayString(g.value),1),V[9]||(V[9]=createBaseVNode("p",{class:"text-muted mb-4"}," Registro enviado. Espera la aprobacion y comunicate con el referido para la confirmacion. ",-1)),createVNode(k,{to:"/",class:"btn btn-primary"},{default:withCtx(()=>[...V[8]||(V[8]=[createTextVNode(" Inicio ",-1)])]),_:1})])])):(openBlock(),createElementBlock("div",_hoisted_10,[createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[createBaseVNode("h4",_hoisted_13,toDisplayString(g.value),1),createBaseVNode("p",_hoisted_14," Completa tus datos para unirte como "+toDisplayString(f.value)+". ",1)]),createBaseVNode("form",{onSubmit:withModifiers(b,["prevent"])},[createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[V[10]||(V[10]=createBaseVNode("label",{class:"form-label fw-semibold"},"Email",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[0]||(V[0]=B=>c.value.email=B),type:"email",class:normalizeClass(["form-control",{"is-invalid":n.value.email}]),placeholder:"tu@email.com"},null,2),[[vModelText,c.value.email,void 0,{trim:!0}]]),n.value.email?(openBlock(),createElementBlock("div",_hoisted_17,toDisplayString(n.value.email[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_18,[V[11]||(V[11]=createBaseVNode("label",{class:"form-label fw-semibold"},"Nombre de usuario",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[1]||(V[1]=B=>c.value.username=B),type:"text",class:normalizeClass(["form-control",{"is-invalid":n.value.username}]),placeholder:"juan_perez",required:""},null,2),[[vModelText,c.value.username,void 0,{trim:!0}]]),n.value.username?(openBlock(),createElementBlock("div",_hoisted_19,toDisplayString(n.value.username[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_20,[V[12]||(V[12]=createBaseVNode("label",{class:"form-label fw-semibold"},"Nombre completo",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[2]||(V[2]=B=>c.value.full_name=B),type:"text",class:normalizeClass(["form-control",{"is-invalid":n.value.full_name}]),placeholder:"Juan Perez"},null,2),[[vModelText,c.value.full_name,void 0,{trim:!0}]]),n.value.full_name?(openBlock(),createElementBlock("div",_hoisted_21,toDisplayString(n.value.full_name[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_22,[V[13]||(V[13]=createBaseVNode("label",{class:"form-label fw-semibold"},"Contrasena",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[3]||(V[3]=B=>c.value.password=B),type:"password",class:normalizeClass(["form-control",{"is-invalid":n.value.password}]),placeholder:"Minimo 8 caracteres"},null,2),[[vModelText,c.value.password]]),n.value.password?(openBlock(),createElementBlock("div",_hoisted_23,toDisplayString(n.value.password[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_24,[V[14]||(V[14]=createBaseVNode("label",{class:"form-label fw-semibold"},"Confirmar contrasena",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[4]||(V[4]=B=>c.value.password_confirmation=B),type:"password",class:"form-control",placeholder:"Repite tu contrasena"},null,512),[[vModelText,c.value.password_confirmation]])]),createBaseVNode("div",_hoisted_25,[V[15]||(V[15]=createBaseVNode("label",{class:"form-label fw-semibold"},"Celular",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[5]||(V[5]=B=>c.value.phone_number=B),type:"text",class:normalizeClass(["form-control",{"is-invalid":n.value.phone_number}]),placeholder:"+51 999 999 999"},null,2),[[vModelText,c.value.phone_number,void 0,{trim:!0}]]),n.value.phone_number?(openBlock(),createElementBlock("div",_hoisted_26,toDisplayString(n.value.phone_number[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_27,[V[17]||(V[17]=createBaseVNode("label",{class:"form-label fw-semibold"},"Pais",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":V[6]||(V[6]=B=>c.value.country_id=B),class:normalizeClass(["form-select",{"is-invalid":n.value.country_id}])},[V[16]||(V[16]=createBaseVNode("option",{value:""},"Selecciona un pais",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a),B=>(openBlock(),createElementBlock("option",{key:B.id,value:B.id},toDisplayString(B.name),9,_hoisted_28))),128))],2),[[vModelSelect,c.value.country_id,void 0,{number:!0}]]),n.value.country_id?(openBlock(),createElementBlock("div",_hoisted_29,toDisplayString(n.value.country_id[0]),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_30,[V[18]||(V[18]=createBaseVNode("label",{class:"form-label fw-semibold"},"Codigo de referido (opcional)",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":V[7]||(V[7]=B=>c.value.referral_code=B),type:"text",class:normalizeClass(["form-control",{"is-invalid":n.value.referral_code}]),placeholder:"Ingresa un codigo si tienes uno",readonly:"",disabled:""},null,2),[[vModelText,c.value.referral_code,void 0,{trim:!0}]]),n.value.referral_code?(openBlock(),createElementBlock("div",_hoisted_31,toDisplayString(n.value.referral_code[0]),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_32,[createBaseVNode("button",{type:"submit",class:"btn btn-primary",disabled:r.value},toDisplayString(r.value?"Enviando...":"Crear cuenta"),9,_hoisted_33)])],32)])])):(openBlock(),createElementBlock("div",_hoisted_6," Enlace de referido no valido. ")),V[19]||(V[19]=createBaseVNode("p",{class:"text-center text-muted small mt-3 mb-0"}," Tu cuenta quedara pendiente hasta ser aceptada. ",-1))])])])])}}},routes=[...authRoutes,...adminRoutes,{path:"/",name:"store.front",component:_sfc_main$3,meta:{layout:"top"}},{path:"/dashboard",name:"dashboard",component:Dashboard,meta:{requiresAuth:!0}},{path:"/projects",name:"projects.index",component:ProjectsIndex,meta:{requiresAuth:!0}},{path:"/projects/create",name:"projects.create",component:ProjectsForm,meta:{requiresAuth:!0}},{path:"/projects/:id/edit",name:"projects.edit",component:ProjectsForm,props:!0,meta:{requiresAuth:!0}},{path:"/settings/profile",name:"settings.profile",component:_sfc_main$2,meta:{requiresAuth:!0}},{path:"/settings/password",name:"settings.password",component:_sfc_main$1,meta:{requiresAuth:!0}},{path:"/referrals/register/distributors/:code?",name:"referrals.register.distributors",component:_sfc_main,meta:{hideChrome:!0,accountType:2}},{path:"/referrals/register/providers/:code?",name:"referrals.register.providers",component:_sfc_main,meta:{hideChrome:!0,accountType:1}},{path:"/:pathMatch(.*)*",redirect:"/login"}],router=createRouter({history:createWebHistory(),routes});router.beforeEach(async(e,t,s)=>{const o=useAuth(),a=["login","register","forgot","password-reset","referrals.register.distributors","referrals.register.providers"].includes(e.name);if(!o.initialized||a&&!o.user)try{await o.fetchUser()}catch(n){console.error("Error fetching user during route guard:",n)}if(e.meta.requiresAuth&&!o.isAuthenticated)return s({name:"login"});if(o.isAuthenticated&&a)return s({name:"store.front"});s()});const app=createApp(_sfc_main$1t),pinia=createPinia();app.use(pinia);app.use(router);app.mount("#app");